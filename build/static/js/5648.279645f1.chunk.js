"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[5648],{39873:function(e,s,t){t.d(s,{T5:function(){return x},ju:function(){return o},qu:function(){return h}});var n=t(1413),a=t(45987),l=(t(50390),t(91619)),i=t(37671),r=(t(65620),t(89538),t(11216),t(78112),t(21404)),c=(t(68639),t(57298)),d=t(62559),u=["name","value","onChange","onBlur"],o=function(e){var s=e.name,t=e.value,n=e.options,a=e.isMulti,r=e.className,c=e.onChange,u=e.onBlur,o=(e.onClick,e.defaultValue),x=e.isDisabled,h=e.isLoading,j=e.isClearable,m=e.isRtl,p=e.isSearchable,f=e.placeholder;return(0,d.jsx)(l.ZP,{className:"react-select ".concat(r),classNamePrefix:"react-select",placeholder:f||(0,d.jsx)(i.Z,{id:"forms.EducationLevelDefaultValue"}),options:n,isMulti:a,initial:!0,onChange:function(e){c(s,e)},onBlur:function(){u(s,!0)},value:t,defaultValue:o,isDisabled:x,isLoading:h,isClearable:j,isRtl:m,isSearchable:p})},x=function(e){var s=e.name,t=e.value,l=e.onChange,i=(e.onBlur,(0,a.Z)(e,u));return(0,d.jsx)(c.Z,(0,n.Z)({name:s,value:t,onChange:l,style:{height:48,borderRadius:0}},i))},h=function(e){var s=e.name,t=e.value,n=e.className,a=e.onChange,l=e.onBlur;return(0,d.jsx)(r.ZP,{name:s,className:n,selected:t,onChange:function(e){a(s,e)},onBlur:function(e){l(s,!0)}})}},52432:function(e,s,t){t.r(s);var n=t(74165),a=t(15861),l=t(29439),i=t(50390),r=t(16295),c=(t(2896),t(14037)),d=t(32121),u=t(49360),o=t(16778),x=t(14778),h=t(31833),j=t(14237),m=t(64884),p=t(94048),f=t(37671),Z=t(16905),b=t(60652),v=t(39873),g=t(83882),_=t(99310),N=t(62559),S=b.Z.API_URL;"".concat(S,"/institute/institute-teachers-students-statistics");s.default=function(e){var s=(0,i.useContext)(g.V),t=s.departments,b=s.classes,S=(0,i.useState)(!0),T=(0,l.Z)(S,2),y=(T[0],T[1],(0,c.useParams)().instituteId),F=(0,i.useState)([]),C=(0,l.Z)(F,2),k=(C[0],C[1]),w=(0,i.useState)([]),D=(0,l.Z)(w,2),R=D[0],B=D[1],q=(0,i.useState)([]),P=(0,l.Z)(q,2),E=P[0],I=P[1],M=(0,i.useState)([]),V=(0,l.Z)(M,2),L=(V[0],V[1]),z=u.Ry().shape({class:u.Ry().shape({value:u.Z_().required()}).nullable().required((0,N.jsx)(f.Z,{id:"marks.ClassErr"})),department:u.Ry().shape({value:u.Z_().required()}).nullable().required((0,N.jsx)(f.Z,{id:"teacher.departmentIdErr"}))}),A=function(){(0,d.Z)("institute/".concat(y,"/departments/")).then((function(e){console.log("Institutes Departments: ",e.data);var s=t.filter((function(s){var t=e.data.reduce((function(e,s,t){return e.add(s.department)}),new Set);return console.log(t),t.has(s.value)})).map((function(s){return s.instDeps=e.data.filter((function(e){return e.department===s.value}))[0],s}));L(e.data),console.log("new2Options",s),I(s)}))};function G(){return(G=(0,a.Z)((0,n.Z)().mark((function e(){var s,t,a,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("institute/?institute=".concat(y),"",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=9;break}return e.next=6,s.data;case 6:t=e.sent,console.log("instituteData",t),k(t);case 9:return e.next=11,(0,d.Z)("reports/institutes/".concat(y,"/teacher-students/"),"",null);case 11:if(!(a=e.sent).data||200!==a.status){e.next=19;break}return e.next=15,a.data;case 15:l=e.sent,console.log("INSTTTTTTTTTTTTTTTTTTTT",l),console.log("instituteStatisticsData",l),B(l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){A(),function(){G.apply(this,arguments)}()}),[]);var J=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(s){var t,a,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={educational_year:1390,classs:null===(t=s.class)||void 0===t?void 0:t.value,institute_department:null===(a=s.department)||void 0===a?void 0:a.instDeps.id},e.next=3,(0,d.Z)("institute/departments/classes/","post",l).then((function(e){console.log("Response Class Add: ",e.data),A()})).catch((function(e){_.ZP.error("Error in adding class")}));case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,N.jsx)("h2",{children:(0,N.jsx)(f.Z,{id:"institute.detailsTitle"})}),(0,N.jsx)(o.Z,{style:{backgroundColor:"blue",fontWeight:"bold",fontSize:"18px"},children:(0,N.jsx)("a",{href:"/app/institutes/print/".concat(y),target:"_blank",children:(0,N.jsx)("span",{style:{color:"#fff"},children:"\u067e\u0631\u0646\u062a"})})})]}),(0,N.jsx)(Z.Z,{className:"mb-5"}),R&&(0,N.jsxs)(x.Z,{children:[(0,N.jsx)(Z.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,N.jsx)(h.Z,{children:(0,N.jsxs)(j.Z,{className:"text-center",children:[(0,N.jsx)("b",{children:(0,N.jsx)("p",{children:(0,N.jsx)(f.Z,{id:"institute.totalStudents"})})}),(0,N.jsxs)(x.Z,{className:"",children:[(0,N.jsxs)(Z.F,{children:[(0,N.jsxs)("b",{children:[" ",(0,N.jsx)(f.Z,{id:"institute.totalStudentsMale"})]}),(0,N.jsx)("p",{children:R.male_students_12+R.male_students_14})]}),(0,N.jsxs)(Z.F,{children:[(0,N.jsx)("b",{children:(0,N.jsx)(f.Z,{id:"institute.totalStudentsFemale"})}),(0,N.jsx)("p",{children:R.female_students_12+R.female_students_14})]})]})]})})}),(0,N.jsx)(Z.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,N.jsx)(h.Z,{children:(0,N.jsxs)(j.Z,{className:"text-center",children:[(0,N.jsx)("b",{children:(0,N.jsx)("p",{children:(0,N.jsx)(f.Z,{id:"institute.totalTeachers"})})}),(0,N.jsxs)(x.Z,{className:"",children:[(0,N.jsxs)(Z.F,{children:[(0,N.jsxs)("b",{children:[" ",(0,N.jsx)(f.Z,{id:"institute.totalStudentsMale"})]}),(0,N.jsx)("p",{children:R.male_teachers})]}),(0,N.jsxs)(Z.F,{children:[(0,N.jsx)("b",{children:(0,N.jsx)(f.Z,{id:"institute.totalStudentsFemale"})}),(0,N.jsx)("p",{children:R.female_teachers})]})]})]})})}),(0,N.jsx)(Z.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,N.jsx)(h.Z,{children:(0,N.jsxs)(j.Z,{className:"text-center",children:[(0,N.jsx)("b",{children:(0,N.jsx)("p",{children:(0,N.jsx)(f.Z,{id:"institute.Greduated_12"})})}),(0,N.jsxs)(x.Z,{className:"",children:[(0,N.jsxs)(Z.F,{children:[(0,N.jsxs)("b",{children:[" ",(0,N.jsx)(f.Z,{id:"institute.totalStudentsMale"})]}),(0,N.jsx)("p",{children:R.male_students_12})]}),(0,N.jsxs)(Z.F,{children:[(0,N.jsx)("b",{children:(0,N.jsx)(f.Z,{id:"institute.totalStudentsFemale"})}),(0,N.jsx)("p",{children:R.female_students_12})]})]})]})})}),(0,N.jsx)(Z.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,N.jsx)(h.Z,{children:(0,N.jsxs)(j.Z,{className:"text-center",children:[(0,N.jsx)("b",{children:(0,N.jsx)("p",{children:(0,N.jsx)(f.Z,{id:"institute.Greduated_14"})})}),(0,N.jsxs)(x.Z,{className:"",children:[(0,N.jsxs)(Z.F,{children:[(0,N.jsxs)("b",{children:[" ",(0,N.jsx)(f.Z,{id:"institute.totalStudentsMale"})]}),(0,N.jsx)("p",{children:R.male_students_14})]}),(0,N.jsxs)(Z.F,{children:[(0,N.jsx)("b",{children:(0,N.jsx)(f.Z,{id:"institute.totalStudentsFemale"})}),(0,N.jsx)("p",{children:R.female_students_14})]})]})]})})}),(0,N.jsxs)(Z.F,{xxs:"6",sm:"4",md:"3",className:"col-md-12",children:[(0,N.jsx)(h.Z,{children:(0,N.jsxs)(j.Z,{className:"text-center",children:[(0,N.jsx)("b",{children:(0,N.jsx)("p",{children:(0,N.jsx)(f.Z,{id:"institute.totalDepartments"})})}),(0,N.jsxs)(x.Z,{className:"d-block",children:[console.log("DEPTS",E),t&&(null===E||void 0===E?void 0:E.map((function(e){return(0,N.jsxs)(Z.F,{children:[null===e||void 0===e?void 0:e.label,e.instDeps.classes.map((function(e){var s;return(0,N.jsx)("li",{children:null===(s=b.find((function(s){return s.value===e.classs})))||void 0===s?void 0:s.label},e.classs)}))]},e.value)})))]})]})}),(0,N.jsx)("br",{}),(0,N.jsx)(h.Z,{style:{padding:10,display:"flex",flexDirection:"row"},children:(0,N.jsx)(r.J9,{enableReinitialize:!0,initialValues:{class:[],department:[]},onSubmit:J,validationSchema:z,children:function(e){var s=e.errors,t=e.touched,n=e.values,a=e.setFieldTouched,l=e.handleSubmit,i=e.setFieldValue;return(0,N.jsx)(r.l0,{className:"av-tooltip tooltip-label-right error-l-100 style w-100",children:(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(x.Z,{style:{marginInline:"2%"},children:[" ",(0,N.jsxs)(Z.F,{children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{children:"\u0689\u06cc\u067e\u0627\u0631\u067c\u0645\u0646\u067c \u062a\u0647 \u062f \u067c\u0648\u0644\u06ab\u064a \u0632\u06cc\u0627\u062a\u0648\u0644 / \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0635\u0646\u0641 \u0628\u0647 \u062f\u06cc\u067e\u0627\u0631\u062a\u0645\u0646\u062a"}),(0,N.jsxs)(m.Z,{className:"form-group has-float-label w-100",children:[(0,N.jsxs)(p.Z,{children:[(0,N.jsx)(f.Z,{id:"forms.studyDepartment"}),(0,N.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,N.jsx)(v.ju,{name:"department",id:"department",value:n.department,options:E,onChange:i,onBlur:a,isSearchable:!1,required:!0}),s.department&&t.department?(0,N.jsx)("p",{style:{color:"red"},children:s.department}):null]})]}),(0,N.jsx)("div",{children:(0,N.jsxs)(m.Z,{className:"form-group has-float-label w-100",children:[(0,N.jsxs)(p.Z,{children:[(0,N.jsx)(f.Z,{id:"marks.ClassLabel"}),(0,N.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,N.jsx)(v.ju,{name:"class",id:"class",value:n.class,options:b,onChange:i,onBlur:a,isSearchable:!1,required:!0}),s.class&&t.class?(0,N.jsx)("p",{style:{color:"red"},children:s.class}):null]})}),(0,N.jsx)("button",{className:"btn btn-primary",onClick:l,children:"\u062b\u0628\u062a \u0635\u0646\u0641"})]})]})})})}})})]})]})]})}}}]);
//# sourceMappingURL=5648.279645f1.chunk.js.map