"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[5648],{2896:function(){},60652:function(e,s,t){var n;n=t(33986),s.Z=n},33986:function(e,s,t){t.r(s),t.d(s,{API_URL:function(){return n}});var n="http://103.132.98.58:8000"},39873:function(e,s,t){t.d(s,{T5:function(){return x},ju:function(){return o},qu:function(){return h}});var n=t(1413),a=t(45987),l=(t(50390),t(91619)),i=t(37671),r=(t(65620),t(89538),t(11216),t(78112),t(21404)),c=(t(68639),t(57298)),d=t(62559),u=["name","value","onChange","onBlur"],o=function(e){var s=e.name,t=e.value,n=e.options,a=e.isMulti,r=e.className,c=e.onChange,u=e.onBlur,o=(e.onClick,e.defaultValue),x=e.isDisabled,h=e.isLoading,j=e.isClearable,m=e.isRtl,p=e.isSearchable,f=e.placeholder;return(0,d.jsx)(l.ZP,{className:"react-select ".concat(r),classNamePrefix:"react-select",placeholder:f||(0,d.jsx)(i.Z,{id:"forms.EducationLevelDefaultValue"}),options:n,isMulti:a,initial:!0,onChange:function(e){c(s,e)},onBlur:function(){u(s,!0)},value:t,defaultValue:o,isDisabled:x,isLoading:h,isClearable:j,isRtl:m,isSearchable:p})},x=function(e){var s=e.name,t=e.value,l=e.onChange,i=(e.onBlur,(0,a.Z)(e,u));return(0,d.jsx)(c.Z,(0,n.Z)({name:s,value:t,onChange:l,style:{height:48,borderRadius:0}},i))},h=function(e){var s=e.name,t=e.value,n=e.className,a=e.onChange,l=e.onBlur;return(0,d.jsx)(r.ZP,{name:s,className:n,selected:t,onChange:function(e){a(s,e)},onBlur:function(e){l(s,!0)}})}},52432:function(e,s,t){t.r(s);var n=t(74165),a=t(15861),l=t(29439),i=t(50390),r=t(16295),c=(t(2896),t(14037)),d=t(32121),u=t(49360),o=t(14778),x=t(31833),h=t(14237),j=t(64884),m=t(94048),p=t(37671),f=t(16905),Z=t(60652),b=t(39873),v=t(83882),g=t(99310),_=t(62559),N=Z.Z.API_URL;"".concat(N,"/institute/institute-teachers-students-statistics");s.default=function(e){var s=(0,i.useContext)(v.V),t=s.departments,Z=s.classes,N=(0,i.useState)(!0),S=(0,l.Z)(N,2),T=(S[0],S[1],(0,c.useParams)().instituteId),F=(0,i.useState)([]),C=(0,l.Z)(F,2),y=(C[0],C[1]),k=(0,i.useState)([]),D=(0,l.Z)(k,2),w=D[0],R=D[1],B=(0,i.useState)([]),P=(0,l.Z)(B,2),q=P[0],I=P[1],E=(0,i.useState)([]),L=(0,l.Z)(E,2),M=(L[0],L[1]),V=u.Ry().shape({class:u.Ry().shape({value:u.Z_().required()}).nullable().required((0,_.jsx)(p.Z,{id:"marks.ClassErr"})),department:u.Ry().shape({value:u.Z_().required()}).nullable().required((0,_.jsx)(p.Z,{id:"teacher.departmentIdErr"}))}),A=function(){(0,d.Z)("institute/".concat(T,"/departments/")).then((function(e){console.log("Institutes Departments: ",e.data);var s=t.filter((function(s){var t=e.data.reduce((function(e,s,t){return e.add(s.department)}),new Set);return console.log(t),t.has(s.value)})).map((function(s){return s.instDeps=e.data.filter((function(e){return e.department===s.value}))[0],s}));M(e.data),console.log("new2Options",s),I(s)}))};function G(){return(G=(0,a.Z)((0,n.Z)().mark((function e(){var s,t,a,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("institute/?institute=".concat(T),"",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=9;break}return e.next=6,s.data;case 6:t=e.sent,console.log("instituteData",t),y(t);case 9:return e.next=11,(0,d.Z)("reports/institutes/".concat(T,"/teacher-students/"),"",null);case 11:if(!(a=e.sent).data||200!==a.status){e.next=19;break}return e.next=15,a.data;case 15:l=e.sent,console.log("INSTTTTTTTTTTTTTTTTTTTT",l),console.log("instituteStatisticsData",l),R(l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){A(),function(){G.apply(this,arguments)}()}),[]);var U=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(s){var t,a,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={educational_year:1390,classs:null===(t=s.class)||void 0===t?void 0:t.value,institute_department:null===(a=s.department)||void 0===a?void 0:a.instDeps.id},e.next=3,(0,d.Z)("institute/departments/classes/","post",l).then((function(e){console.log("Response Class Add: ",e.data),A()})).catch((function(e){g.ZP.error("Error in adding class")}));case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h2",{className:"mt-5 m-3",children:(0,_.jsx)(p.Z,{id:"institute.detailsTitle"})}),(0,_.jsx)(f.Z,{className:"mb-5"}),w&&(0,_.jsxs)(o.Z,{children:[(0,_.jsx)(f.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,_.jsx)(x.Z,{children:(0,_.jsxs)(h.Z,{className:"text-center",children:[(0,_.jsx)("b",{children:(0,_.jsx)("p",{children:(0,_.jsx)(p.Z,{id:"institute.totalStudents"})})}),(0,_.jsxs)(o.Z,{className:"",children:[(0,_.jsxs)(f.F,{children:[(0,_.jsxs)("b",{children:[" ",(0,_.jsx)(p.Z,{id:"institute.totalStudentsMale"})]}),(0,_.jsx)("p",{children:w.male_students_12+w.male_students_14})]}),(0,_.jsxs)(f.F,{children:[(0,_.jsx)("b",{children:(0,_.jsx)(p.Z,{id:"institute.totalStudentsFemale"})}),(0,_.jsx)("p",{children:w.female_students_12+w.female_students_14})]})]})]})})}),(0,_.jsx)(f.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,_.jsx)(x.Z,{children:(0,_.jsxs)(h.Z,{className:"text-center",children:[(0,_.jsx)("b",{children:(0,_.jsx)("p",{children:(0,_.jsx)(p.Z,{id:"institute.totalTeachers"})})}),(0,_.jsxs)(o.Z,{className:"",children:[(0,_.jsxs)(f.F,{children:[(0,_.jsxs)("b",{children:[" ",(0,_.jsx)(p.Z,{id:"institute.totalStudentsMale"})]}),(0,_.jsx)("p",{children:w.male_teachers})]}),(0,_.jsxs)(f.F,{children:[(0,_.jsx)("b",{children:(0,_.jsx)(p.Z,{id:"institute.totalStudentsFemale"})}),(0,_.jsx)("p",{children:w.female_teachers})]})]})]})})}),(0,_.jsx)(f.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,_.jsx)(x.Z,{children:(0,_.jsxs)(h.Z,{className:"text-center",children:[(0,_.jsx)("b",{children:(0,_.jsx)("p",{children:(0,_.jsx)(p.Z,{id:"institute.Greduated_12"})})}),(0,_.jsxs)(o.Z,{className:"",children:[(0,_.jsxs)(f.F,{children:[(0,_.jsxs)("b",{children:[" ",(0,_.jsx)(p.Z,{id:"institute.totalStudentsMale"})]}),(0,_.jsx)("p",{children:w.male_students_12})]}),(0,_.jsxs)(f.F,{children:[(0,_.jsx)("b",{children:(0,_.jsx)(p.Z,{id:"institute.totalStudentsFemale"})}),(0,_.jsx)("p",{children:w.female_students_12})]})]})]})})}),(0,_.jsx)(f.F,{xxs:"6",sm:"4",md:"3",className:"mb-4",children:(0,_.jsx)(x.Z,{children:(0,_.jsxs)(h.Z,{className:"text-center",children:[(0,_.jsx)("b",{children:(0,_.jsx)("p",{children:(0,_.jsx)(p.Z,{id:"institute.Greduated_14"})})}),(0,_.jsxs)(o.Z,{className:"",children:[(0,_.jsxs)(f.F,{children:[(0,_.jsxs)("b",{children:[" ",(0,_.jsx)(p.Z,{id:"institute.totalStudentsMale"})]}),(0,_.jsx)("p",{children:w.male_students_14})]}),(0,_.jsxs)(f.F,{children:[(0,_.jsx)("b",{children:(0,_.jsx)(p.Z,{id:"institute.totalStudentsFemale"})}),(0,_.jsx)("p",{children:w.female_students_14})]})]})]})})}),(0,_.jsxs)(f.F,{xxs:"6",sm:"4",md:"3",className:"col-md-12",children:[(0,_.jsx)(x.Z,{children:(0,_.jsxs)(h.Z,{className:"text-center",children:[(0,_.jsx)("b",{children:(0,_.jsx)("p",{children:(0,_.jsx)(p.Z,{id:"institute.totalDepartments"})})}),(0,_.jsxs)(o.Z,{className:"d-block",children:[console.log("DEPTS",q),t&&(null===q||void 0===q?void 0:q.map((function(e){return(0,_.jsxs)(f.F,{children:[e.label,e.instDeps.classes.map((function(e){return(0,_.jsx)("li",{children:Z.find((function(s){return s.value===e.classs})).label},e.classs)}))]},e.value)})))]})]})}),(0,_.jsx)("br",{}),(0,_.jsx)(x.Z,{style:{padding:10,display:"flex",flexDirection:"row"},children:(0,_.jsx)(r.J9,{enableReinitialize:!0,initialValues:{class:[],department:[]},onSubmit:U,validationSchema:V,children:function(e){var s=e.errors,t=e.touched,n=e.values,a=e.setFieldTouched,l=e.handleSubmit,i=e.setFieldValue;return(0,_.jsx)(r.l0,{className:"av-tooltip tooltip-label-right error-l-100 style w-100",children:(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(o.Z,{style:{marginInline:"2%"},children:[" ",(0,_.jsxs)(f.F,{children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"\u0689\u06cc\u067e\u0627\u0631\u067c\u0645\u0646\u067c \u062a\u0647 \u062f \u067c\u0648\u0644\u06ab\u064a \u0632\u06cc\u0627\u062a\u0648\u0644 / \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0635\u0646\u0641 \u0628\u0647 \u062f\u06cc\u067e\u0627\u0631\u062a\u0645\u0646\u062a"}),(0,_.jsxs)(j.Z,{className:"form-group has-float-label w-100",children:[(0,_.jsxs)(m.Z,{children:[(0,_.jsx)(p.Z,{id:"forms.studyDepartment"}),(0,_.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,_.jsx)(b.ju,{name:"department",id:"department",value:n.department,options:q,onChange:i,onBlur:a,isSearchable:!1,required:!0}),s.department&&t.department?(0,_.jsx)("p",{style:{color:"red"},children:s.department}):null]})]}),(0,_.jsx)("div",{children:(0,_.jsxs)(j.Z,{className:"form-group has-float-label w-100",children:[(0,_.jsxs)(m.Z,{children:[(0,_.jsx)(p.Z,{id:"marks.ClassLabel"}),(0,_.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,_.jsx)(b.ju,{name:"class",id:"class",value:n.class,options:Z,onChange:i,onBlur:a,isSearchable:!1,required:!0}),s.class&&t.class?(0,_.jsx)("p",{style:{color:"red"},children:s.class}):null]})}),(0,_.jsx)("button",{className:"btn btn-primary",onClick:l,children:"Add Class"})]})]})})})}})})]})]})]})}}}]);
//# sourceMappingURL=5648.4394d33a.chunk.js.map