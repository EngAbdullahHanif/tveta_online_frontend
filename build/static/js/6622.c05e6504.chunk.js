"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[6622],{36622:function(e,a,l){l.r(a);var s=l(74165),r=l(1413),n=l(15861),i=l(29439),t=l(50390),d=l(14037),o=l(32121),c=l(830),m=l(4804),h=l(6369),f=(l(48907),l(31833)),u=l(14237),x=l(14778),g=l(64884),j=l(94048),b=l(16778),p=l(39873),v=l(52347),_=l(16295),N=l(37671),y=(l(22834),l(16905)),Z=l(99310),k=l(83882),S=l(66135),w=l(62559);a.default=(0,v.ZP)((function(e,a){e.intl;var l=(0,t.useContext)(k.V),v=l.provinces,C=l.districts,X=(0,t.useState)(!1),z=(0,i.Z)(X,2),P=z[0],E=z[1],L=(0,t.useState)(!1),T=(0,i.Z)(L,2),F=T[0],B=T[1],J=(0,t.useState)({name:"",english_name:"",last_name:"",english_last_name:"",father_name:"",english_father_name:"",grandfather_name:"",year_of_birth:"",month_of_birth:"",day_of_birth:"",place_of_birth:"",phone_number:"",email:"",gender:[],tazkiraNo:"",idCardPageNo:"",sabtNo:"",idCardJoldNo:"",tazkiraType:c.iS[0]||[],sokokNo:"",grade:[],step:[],current_district:[],current_province:[],main_province:[],main_district:[],current_village:[],main_village:[],status:[]}),O=(0,i.Z)(J,2),R=O[0],V=O[1],q=[(0,t.createRef)(null),(0,t.createRef)(null),(0,t.createRef)(null)],A=(0,d.useHistory)(),H=(0,d.useParams)().teacherId;function I(){return(I=(0,n.Z)((0,s.Z)().mark((function e(){var a,l,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,(0,o.Z)("teachers/".concat(H),"",null);case 3:a=e.sent,l=a.data,(r=l).tazkira_type=c.iS.find((function(e){return e.value===l.tazkira_type})),c.Zl.map((function(e){e.value===l.year_of_birth&&(r.year_of_birth=e)})),c.FK.forEach((function(e){e.value===l.grade&&(r.grade=e)})),c.P3.forEach((function(e){e.value===l.gender&&(r.gender=e)})),c.Qi.forEach((function(e){e.value==l.status&&(r.status=e)})),v.forEach((function(e){e.value==l.current_province&&(r.current_province=e)})),v.forEach((function(e){e.value==l.main_province&&(r.main_province=e)})),C.forEach((function(e){e.value==l.main_district&&(r.main_district=e)})),C.forEach((function(e){e.value==l.current_district&&(r.current_district=e)})),c.JE.forEach((function(e){e.value==l.step&&(r.step=e)})),V(r),E(!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,t.useEffect)((function(){H&&(B(!0),function(){I.apply(this,arguments)}())}),[H]);var D=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(a){var l,n,i,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in E(!0),l={endPoint:"teachers/",method:"POST"},F&&H&&(l.endPoint="teachers/".concat(H,"/"),l.method="PATCH"),n={},console.log("newFields: ",a),a)"object"===typeof a[i]&&null!==a[i]?n[i]=a[i].value:n[i]=a[i];return n=(0,r.Z)((0,r.Z)({},n),{},{cover_number:a.idCardJoldNo||void 0,page_number:a.idCardPageNo||void 0,sabt_number:a.sabtNo||void 0,tazkira_type:a.tazkiraType.value,registration_number:a.tazkiraNo||null,sokok_number:a.sokokNo||void 0}),F&&H&&Object.keys(n).forEach((function(e){return void 0===n[e]&&delete n[e]})),console.log("teacher data: ",n),e.prev=9,e.next=12,(0,o.Z)(l.endPoint,l.method,n);case 12:t=e.sent,Z.ZP.success("\u0627\u0633\u062a\u0627\u062f \u062b\u0628\u062a \u0634\u0648"),E(!1),A.push("/app/teachers/teacher/".concat(t.data.id)),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(9),null!==e.t0&&void 0!==e.t0&&e.t0.response&&Object.keys(e.t0.response.data).forEach((function(a){q[0].current.setFieldError(a,e.t0.response.data[a])})),Z.ZP.error("\u0627\u0633\u062a\u0627\u062f \u062b\u0628\u062a \u0646\u0634\u0648/\u0627\u0633\u062a\u0627\u062f \u062b\u0628\u062a \u0646\u0634\u062f"),e.abrupt("return",!0);case 23:return e.prev=23,E(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[9,18,23,26]])})));return function(a){return e.apply(this,arguments)}}();return(0,w.jsxs)(f.Z,{children:[(0,w.jsx)("div",{className:"mt-4 ml-5",children:(0,w.jsx)("h2",{className:"mt-5 m-5 titleStyle",children:(0,w.jsx)(N.Z,{id:"teacher.RegisterTitle"})})}),(0,w.jsx)(u.Z,{className:"wizard wizard-default",children:(0,w.jsx)("div",{className:"wizard-basic-step",children:(0,w.jsx)(_.J9,{enableReinitialize:!0,innerRef:q[0],disabled:P,initialValues:R,validateOnMount:!0,validationSchema:m.VO,onSubmit:D,children:function(e){var a,l,s=e.errors,r=e.touched,n=e.values,i=e.setFieldTouched,t=e.setFieldValue,d=(e.isSubmitting,e.handleSubmit);return(0,w.jsxs)(_.l0,{className:"av-tooltip tooltip-label-right style",children:[(0,w.jsxs)(x.Z,{className:"justify-content-center",children:[(0,w.jsxs)(y.F,{xxs:"5",className:"ml-5",children:[(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.teacherName"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"name"}),s.name&&r.name?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.name}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.lastName"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"last_name"}),s.last_name&&r.last_name?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.last_name}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.StdFatherName"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"father_name"}),s.father_name&&r.father_name?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.father_name}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.TazkiraType"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(p.ju,{name:"tazkiraType",id:"tazkiraType",value:n.tazkiraType,options:c.iS,onChange:t,onBlur:i,isSearchable:!1}),s.tazkiraType&&r.tazkiraType?(0,w.jsx)("div",{className:"invalid-feedback d-block   bg-danger text-white messageStyle",children:s.tazkiraType}):null]}),(0,w.jsx)(g.Z,{className:"form-group has-float-label error-l-100",children:"electronic"===(null===(a=n.tazkiraType)||void 0===a?void 0:a.value)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(j.Z,{style:S.X,children:["\u0646\u0645\u0628\u0631 \u062a\u0630\u06a9\u0631\u0647 \u0627\u0644\u06a9\u062a\u0631\u0648\u0646\u06cc",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"tazkiraNo",value:n.tazkiraNo,type:"text",maxLength:"14",minLength:"12"}),s.tazkiraNo&&r.tazkiraNo?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.tazkiraNo}):null]}):null}),"paper"===(null===(l=n.tazkiraType)||void 0===l?void 0:l.value)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{children:(0,w.jsx)("div",{children:(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"teacher.IdCardJoldNoLabel"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"idCardJoldNo",type:"string"}),s.idCardJoldNo&&r.idCardJoldNo?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.idCardJoldNo}):null]})})}),(0,w.jsx)("div",{children:(0,w.jsx)("div",{children:(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"teacher.IdCardPageNoLabel"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"idCardPageNo",type:"number"}),s.idCardPageNo&&r.idCardPageNo?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.idCardPageNo}):null]})})}),(0,w.jsx)("div",{children:(0,w.jsx)("div",{children:(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:"\u0634\u0645\u0627\u0631\u0647 \u062b\u0628\u062a"}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"sabtNo",type:"number"}),s.sabtNo&&r.sabtNo?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.sabtNo}):null]})})}),(0,w.jsx)("div",{children:(0,w.jsx)("div",{children:(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:"\u0634\u0645\u0627\u0631\u0647 \u0635\u06a9\u0648\u06a9"}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"sokokNo",type:"number"}),s.sokokNo&&r.sokokNo?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.sokokNo}):null]})})})]}):null,(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100 ",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"label.yearOfBirth"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"year_of_birth",type:"number",min:1300,max:1450}),s.year_of_birth&&r.year_of_birth?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.year_of_birth}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100 ",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"label.monthOfBirth"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"month_of_birth",type:"number",min:1,max:12,required:!1}),s.month_of_birth&&r.month_of_birth?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.month_of_birth}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100 ",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"label.dayOfBirth"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"day_of_birth",type:"number",min:1,max:31,required:!1}),s.day_of_birth&&r.day_of_birth?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.day_of_birth}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"teacher.GradeLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(p.ju,{name:"grade",id:"grade",value:n.grade,onChange:t,onBlur:i,options:c.FK,required:!0}),s.grade&&r.grade?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.grade}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"teacher.StepLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(p.ju,{name:"step",id:"step",value:n.step,options:c.JE,onChange:t,onBlur:i,required:!0}),s.step&&r.step?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.step}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"teacher.StatusLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(p.ju,{name:"status",id:"status",value:n.status,options:c.Qi,onChange:t,onBlur:i,required:!0}),s.status&&r.status?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.status}):null]})]}),(0,w.jsxs)(y.F,{xxs:"5",className:"mr-5",children:[(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"forms.Eng_name"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"english_name"}),s.english_name&&r.english_name?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.english_name}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"forms.lastNameEng"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"english_last_name"}),s.english_last_name&&r.english_last_name?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.english_last_name}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"forms.Std_father_Eng_Name"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"english_father_name"}),s.english_father_name&&r.english_father_name?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.english_father_name}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.grandFatherName"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"grandfather_name"}),s.grandfather_name&&r.grandfather_name?(0,w.jsx)("div",{className:"invalid-feedback d-block  bg-danger text-white messageStyle",children:s.grandfather_name}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"gender.gender"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(p.ju,{name:"gender",id:"gender",value:n.gender,options:c.P3,onChange:t,onBlur:i}),r.gender&&s.gender?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.gender}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175 ",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"teacher.PhoneNoLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"phone_number"}),s.phone_number&&r.phone_number?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.phone_number}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"teacher.EmailLabel"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"email",type:"email"}),s.email&&r.email?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.email}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.PlaceOfBirthLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"place_of_birth"}),s.place_of_birth&&r.place_of_birth?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.place_of_birth}):null]})]})]}),(0,w.jsxs)(x.Z,{className:"justify-content-center",children:[(0,w.jsx)(y.F,{xxs:"5",children:(0,w.jsxs)("div",{className:"pt-5",children:[(0,w.jsx)("h1",{className:" mb-4",children:(0,w.jsx)(N.Z,{id:"forms.PermanentAddressLabel"})}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.ProvinceLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(p.ju,{name:"main_province",id:"main_province",value:n.main_province,options:v,onChange:function(e,a){t("main_district",[]),t(e,a)},onBlur:i}),s.main_province&&r.main_province?(0,w.jsx)("div",{className:"invalid-feedback d-block   bg-danger text-white messageStyle",children:s.main_province}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"forms.DistrictLabel"})}),(0,w.jsx)(p.ju,{name:"main_district",id:"main_district",value:n.main_district,options:null===C||void 0===C?void 0:C.filter((function(e){return e.province===n.main_province.value})),onChange:t,onBlur:i}),s.main_district&&r.main_district?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:s.main_district}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"forms.VillageLabel"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"main_village"}),s.english_name&&r.english_name?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.english_name}):null]})]})}),(0,w.jsx)(y.F,{xxs:"5",children:(0,w.jsxs)("div",{className:"pt-5",children:[(0,w.jsx)("h1",{className:" mb-4",children:(0,w.jsx)(N.Z,{id:"forms.CurrentAddresslabel"})}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsxs)(j.Z,{style:S.X,children:[(0,w.jsx)(N.Z,{id:"forms.ProvinceLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(p.ju,{name:"current_province",id:"current_province",value:n.current_province,options:v,onChange:function(e,a){t("current_district",[]),t(e,a)},onBlur:i}),s.current_province&&r.current_province?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.current_province}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-175",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"forms.DistrictLabel"})}),(0,w.jsx)(p.ju,{name:"current_district",id:"current_district",value:n.current_district,options:C.filter((function(e){return e.province===n.current_province.value})),onChange:t,onBlur:i}),s.current_district&&r.current_district?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:s.current_district}):null]}),(0,w.jsxs)(g.Z,{className:"form-group has-float-label error-l-100",children:[(0,w.jsx)(j.Z,{style:S.X,children:(0,w.jsx)(N.Z,{id:"forms.VillageLabel"})}),(0,w.jsx)(_.gN,{className:"form-control fieldStyle",name:"current_village"}),s.english_name&&r.english_name?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.english_name}):null]})]})})]}),(0,w.jsx)(h.OL,{to:{pathname:"app/teachers/",state:{data:"TEACHER"}},children:(0,w.jsx)(b.Z,{className:"mt-5 bg-primary",onClick:d,children:"\u062b\u0628\u062a"})})]})}})})})]})}))}}]);
//# sourceMappingURL=6622.c05e6504.chunk.js.map