"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[9329],{39873:function(e,n,t){t.d(n,{T5:function(){return f},ju:function(){return d},qu:function(){return v}});var i=t(1413),a=t(45987),r=(t(50390),t(91619)),l=t(37671),o=(t(65620),t(89538),t(11216),t(78112),t(21404)),u=(t(68639),t(57298)),s=t(62559),c=["name","value","onChange","onBlur"],d=function(e){var n=e.name,t=e.value,i=e.options,a=e.isMulti,o=e.className,u=e.onChange,c=e.onBlur,d=(e.onClick,e.defaultValue),f=e.isDisabled,v=e.isLoading,p=e.isClearable,h=e.isRtl,g=e.isSearchable,m=e.placeholder;return(0,s.jsx)(r.ZP,{className:"react-select ".concat(o),classNamePrefix:"react-select",placeholder:m||(0,s.jsx)(l.Z,{id:"forms.EducationLevelDefaultValue"}),options:i,isMulti:a,initial:!0,onChange:function(e){u(n,e)},onBlur:function(){c(n,!0)},value:t,defaultValue:d,isDisabled:f,isLoading:v,isClearable:p,isRtl:h,isSearchable:g})},f=function(e){var n=e.name,t=e.value,r=e.onChange,l=(e.onBlur,(0,a.Z)(e,c));return(0,s.jsx)(u.Z,(0,i.Z)({name:n,value:t,onChange:r,style:{height:48,borderRadius:0}},l))},v=function(e){var n=e.name,t=e.value,i=e.className,a=e.onChange,r=e.onBlur;return(0,s.jsx)(o.ZP,{name:n,className:i,selected:t,onChange:function(e){a(n,e)},onBlur:function(e){r(n,!0)}})}},95414:function(e,n,t){var i=t(28563),a=t.n(i),r=t(50390);n.Z=function(e,n){var t=(0,r.useRef)(null);t.current=n,(0,r.useEffect)((function(){return a().bind(e,(function(e,n){"function"===typeof t.current&&t.current(e,n),e.preventDefault()})),function(){a().unbind(e)}}),[e])}},99988:function(e,n,t){t.r(n);var i=t(74165),a=t(1413),r=t(15861),l=t(29439),o=t(50390),u=t(830),s=t(32121),c=t(16295),d=t(39873),f=t(94149),v=t(7556),p=t(6369),h=t(95414),g=t(83882),m=t(23423),x=t(62559);n.default=function(e){e.match;var n=(0,o.useContext)(g.V),t=n.provinces,Z=n.districts,b=(n.institutes,(0,o.useState)("thumblist")),S=(0,l.Z)(b,2),j=(S[0],S[1],(0,o.useState)(1)),w=(0,l.Z)(j,2),C=(w[0],w[1],(0,o.useState)(20)),y=(0,l.Z)(C,2),I=(y[0],y[1],(0,o.useState)({pagination:{current:1,pageSize:10}})),N=(0,l.Z)(I,2),k=N[0],B=N[1],z=(0,o.useState)(!1),P=(0,l.Z)(z,2),O=P[0],G=P[1],D=(0,o.useState)([]),V=(0,l.Z)(D,2),F=V[0],L=V[1],R=(0,o.useState)([]),_=(0,l.Z)(R,2),A=_[0],E=_[1],M=(0,o.useState)(!1),T=(0,l.Z)(M,2),J=T[0],U=T[1];function q(){return H.apply(this,arguments)}function H(){return H=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,l,o,u=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},console.log("PARAMSSSSSSSSSS: ",n),G(!0),"institute/",t=(0,a.Z)((0,a.Z)({},n),{},{page:J?n.page:k.pagination.current,page_size:k.pagination.pageSize||null}),e.prev=5,e.next=8,(0,s.Z)("institute/",null,null,t);case 8:(r=e.sent).data&&200===r.status?(E(null===(l=r.data)||void 0===l?void 0:l.results),B((0,a.Z)((0,a.Z)({},k),{},{pagination:(0,a.Z)((0,a.Z)({},k.pagination),{},{total:null===r||void 0===r||null===(o=r.data)||void 0===o?void 0:o.count})}))):console.log("students error"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("error: ",e.t0);case 15:return e.prev=15,G(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])}))),H.apply(this,arguments)}var X=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,l,o,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(!0),B((0,a.Z)((0,a.Z)({},k),{},{pagination:(0,a.Z)((0,a.Z)({},k.pagination),{},{current:1})})),(u={page:1}).ownership=null===(t=n.filterOwnership)||void 0===t?void 0:t.value,u.province=null===(r=n.filterProvince)||void 0===r?void 0:r.value,u.gender=null===(l=n.filterGender)||void 0===l?void 0:l.value,u.status=null===(o=n.filterStatus)||void 0===o?void 0:o.value,u.code=n.filterId||null,q(u);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){q()}),[J?null:JSON.stringify(k)]);(0,h.Z)(["ctrl+a","command+a"],(function(){var e;e=!1,F.length>=A.length?e&&L([]):L(A.map((function(e){return e.id}))),document.activeElement.blur()})),(0,h.Z)(["ctrl+d","command+d"],(function(){return L([]),!1}));var K=(0,o.useState)([]),Q=(0,l.Z)(K,2),W=Q[0],Y=Q[1];return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"disable-text-selection",children:[(0,x.jsx)("h1",{children:"\u062f \u0627\u0646\u0633\u062a\u06cc\u0648\u062a \u0644\u0633\u062a/ \u0644\u0633\u062a \u0627\u0646\u0633\u062a\u06cc\u062a\u0648\u062a \u0647\u0627"}),(0,x.jsx)("div",{style:{padding:10,display:"flex"},children:(0,x.jsx)(c.J9,{initialValues:{filterId:"",filterInstitute:[],filterProvince:[]},onSubmit:X,children:function(e){var n=e.values,i=e.setFieldValue,a=e.handleSubmit,r=e.setFieldTouched,l=e.resetForm;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.gN,{name:"filterId",placeholder:"\u06a9\u0648\u0689"}),(0,x.jsx)(d.ju,{className:"w-100",placeholder:"\u0648\u0644\u0627\u06cc\u062a",name:"filterProvince",options:t,value:n.filterProvince,onChange:function(e,n){i(e,n);var t=Z.filter((function(e){return e.province===n.value}));Y(t)},onBlur:r}),(0,x.jsx)(d.ju,{className:"w-100",placeholder:"\u0648\u0644\u0633\u0648\u0627\u0644\u06cc",name:"filterDistrict",options:W,value:n.filterDistrict,onChange:i,onBlur:r}),(0,x.jsx)(d.ju,{className:"w-100",placeholder:"\u0646\u0648\u0639\u06cc\u062a",name:"filterOwnership",options:u._c,value:n.filterOwnership,onChange:i,onBlur:r}),(0,x.jsx)(d.ju,{className:"w-100",placeholder:"\u062c\u0646\u0633\u06cc\u062a",name:"filterGender",options:u.UG,value:n.filterGender,onChange:i,onBlur:r}),(0,x.jsx)(d.ju,{className:"w-100",placeholder:"\u062d\u0627\u0644\u062a",name:"filterStatus",options:u.GA,value:n.filterStatus,onChange:i,onBlur:r}),(0,x.jsx)("button",{className:"btn btn-secondary",onClick:a,children:"\u0641\u0644\u067c\u0631"}),(0,x.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){return function(e){e({values:{filterId:"",filterInstitute:[],filterProvince:[]}}),U(!1),q()}(l)},children:"\u0631\u06cc\u0633\u06cc\u067c"})]})}})}),(0,x.jsx)(v.Z,{style:{fontSize:20},size:"large",columns:[{title:"\u0646\u0645\u0628\u0631 \u0627\u0633\u0627\u0633",dataIndex:"number",width:"5%",responsive:["sm"]},{title:"\u06a9\u0648\u062f",dataIndex:"code",width:"10%"},{title:"\u0646\u0648\u0645/\u0646\u0627\u0645",dataIndex:"name",width:"22%",responsive:["sm"]},{title:"\u0648\u0644\u0627\u06cc\u062a",dataIndex:"province",width:"10%"},{title:"\u0648\u0644\u0633\u0648\u0627\u0644\u06cc/\u062a\u0627\u062d\u06cc\u0647",dataIndex:"district",width:"15%",responsive:["sm"]},{title:"\u0646\u0648\u0639\u06cc\u062a",dataIndex:"ownership",width:"10%"},{title:"\u062c\u0646\u0633\u06cc\u062a",dataIndex:"gender",width:"10%",responsive:["sm"]},{title:"\u062d\u0627\u0644\u062a",dataIndex:"status",width:"10%"},{title:"\u0627\u067e\u0689\u06cc\u067c",dataIndex:"action"}],pagination:k.pagination,onChange:function(e,n,t){var i;U(!1),B((0,a.Z)({pagination:e,filter:n},t)),e.pageSize!==(null===(i=k.pagination)||void 0===i?void 0:i.pageSize)&&E([])},loading:O,dataSource:null===A||void 0===A?void 0:A.map((function(e,n){var i,a,r;return{key:e.id,number:e.id,code:e.code,name:(0,x.jsx)(p.OL,{to:"institute/".concat(e.id),style:{width:"10%"},children:e.name}),province:null===(i=t.find((function(n){return n.value==e.province})))||void 0===i?void 0:i.label,district:null===(a=Z.find((function(n){return n.value==e.district})))||void 0===a?void 0:a.label,gender:null===(r=u.UG.find((function(n){return n.value==e.gender})))||void 0===r?void 0:r.label,ownership:u._c.find((function(n){return n.value===e.ownership})).label,status:u.GA.map((function(n){if(n.value==e.status)return(0,x.jsx)("div",{className:"mb-1 text-small",style:{fontSize:"20px",width:"10%"},children:(0,x.jsx)(f.Z,{color:"dismissed"==n.value?"danger":"inprogress"==n.value||"active"==n.value?"success":"freeze"==n.value?"secondary":"warning",pill:!0,children:n.label})})})),action:(0,x.jsx)(p.OL,{to:"/app/institutes/register/".concat(e.id),children:(0,x.jsx)("div",{children:(0,x.jsx)(m.HlX,{color:"green",outline:"true",style:{fontSize:"20px"},id:"updateIcon"})})})}}))})]})})}},86280:function(e,n,t){t.d(n,{o2:function(){return o},yT:function(){return u}});var i=t(93433),a=t(59539),r=a.i.map((function(e){return"".concat(e,"-inverse")})),l=["success","processing","error","default","warning"];function o(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[].concat((0,i.Z)(r),(0,i.Z)(a.i)).includes(e):a.i.includes(e)}function u(e){return l.includes(e)}},59539:function(e,n,t){t.d(n,{i:function(){return i}});var i=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},57635:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(59539);function a(e,n){return i.i.reduce((function(t,i){var a=e["".concat(i,"1")],r=e["".concat(i,"3")],l=e["".concat(i,"6")],o=e["".concat(i,"7")];return Object.assign(Object.assign({},t),n(i,{lightColor:a,lightBorderColor:r,darkColor:l,textColor:o}))}),{})}}}]);
//# sourceMappingURL=9329.7747495d.chunk.js.map