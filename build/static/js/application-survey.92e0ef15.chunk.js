"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[2542],{72023:function(e,t,s){var n=s(29439),l=s(50390),a=s(74793),i=s(62559);t.Z=function(e){var t=e.children,s=(0,l.useRef)(),r=(0,l.useState)(!1),c=(0,n.Z)(r,2),o=c[0],u=c[1],d=function(e){if(o){var t=s.current;if(t.contains(e.target)||t===e.target)return;u(!1)}};return(0,l.useEffect)((function(){return["click","touchstart"].forEach((function(e){return document.addEventListener(e,d,!1)})),function(){["click","touchstart"].forEach((function(e){return document.removeEventListener(e,d,!1)}))}}),[o]),(0,i.jsxs)("div",{ref:s,className:"app-menu ".concat(o?"shown":""),children:[t,(0,i.jsx)(a.Z,{className:"app-menu-button d-inline-block d-xl-none",onClick:function(){return u(!o)},children:(0,i.jsx)("i",{className:"simple-icon-options"})})]})}},73536:function(e,t,s){var n=s(1413),l=(s(50390),s(93527)),a=s(62559);t.Z=function(e){var t=(0,n.Z)({},e);return delete t.autoCorrect,delete t.autoCapitalize,(0,a.jsx)(l.c.Input,(0,n.Z)({},t))}},13166:function(e,t,s){s(50390);var n=s(98128),l=s(43150),a=s(6369),i=s(37671),r=s(95879),c=s(62559),o=function(e){return"/".concat(e)===r.m6?(0,c.jsx)(i.Z,{id:"menu.home"}):(0,c.jsx)(i.Z,{id:"menu.".concat(e)})},u=function(e,t){return e.split(t)[0]+t},d=function(e){var t=e.match.path.substr(1),s=t.split("/");return s[s.length-1].indexOf(":")>-1&&(s=s.filter((function(e){return-1===e.indexOf(":")}))),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(n.Z,{className:"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block",children:s.map((function(e,n){return(0,c.jsx)(l.Z,{active:s.length===n+1,children:s.length!==n+1?(0,c.jsx)(a.OL,{to:"/".concat(u(t,e)),children:o(e)}):o(e)},n)}))})})};t.Z=function(e){var t=e.heading,s=e.match;return(0,c.jsxs)(c.Fragment,{children:[t&&(0,c.jsx)("h1",{children:(0,c.jsx)(i.Z,{id:t})}),(0,c.jsx)(d,{match:s})]})}},64073:function(e,t,s){s.r(t),s.d(t,{default:function(){return q}});var n=s(93433),l=s(29439),a=s(50390),i=s(34424),r=s(52347),c=s(14778),o=s(16778),u=s(23507),d=s(35880),m=s(87339),h=s(94675),x=s(27596),p=s(15294),f=s(14698),g=s(37671),v=s(16905),j=s(13166),b=s(77574),y=s(31833),Z=s(14237),N=s(94149),C=s(6369),k=s(95879),E=s(62559),T=function(e){var t=e.item,s=e.handleCheckChange,n=e.isSelected;return(0,E.jsx)(v.F,{xxs:"12",children:(0,E.jsx)(y.Z,{className:"card d-flex flex-row mb-3",children:(0,E.jsxs)("div",{className:"d-flex flex-grow-1 min-width-zero",children:[(0,E.jsxs)(Z.Z,{className:"align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center",children:[(0,E.jsxs)(C.OL,{to:"".concat(k.m6,"/applications/survey/").concat(t.id),className:"list-item-heading mb-0 truncate w-40 w-xs-100  mb-1 mt-1",children:[(0,E.jsx)("i",{className:"".concat("COMPLETED"===t.status?"simple-icon-check heading-icon":"simple-icon-refresh heading-icon")}),(0,E.jsx)("span",{className:"align-middle d-inline-block",children:t.title})]}),(0,E.jsx)("p",{className:"mb-1 text-muted text-small w-15 w-xs-100",children:t.category}),(0,E.jsx)("p",{className:"mb-1 text-muted text-small w-15 w-xs-100",children:t.createDate}),(0,E.jsx)("div",{className:"w-15 w-xs-100",children:(0,E.jsx)(N.Z,{color:t.labelColor,pill:!0,children:t.label})})]}),(0,E.jsx)("div",{className:"custom-control custom-checkbox pl-1 align-self-center mr-4",children:(0,E.jsx)(d.Z,{className:"itemCheck mb-0",type:"checkbox",id:"check_".concat(t.id),checked:n,onChange:function(e){return s(e,t.id)},label:""})})]})})})},w=a.memo(T),S=s(1413),O=s(6381),L=s(79387),I=s(1428),A=s(94048),M=s(71115),P=s(93066),z=s(91619),R=s(73536),V={title:"",label:{},category:{},status:"ACTIVE"},D=(0,i.$j)((function(e){var t=e.surveyListApp;return{labels:t.labels,categories:t.categories}}),{addSurveyItemAction:b.SN})((function(e){var t=e.modalOpen,s=e.toggleModal,n=e.labels,i=e.categories,r=e.addSurveyItemAction,c=(0,a.useState)(V),u=(0,l.Z)(c,2),m=u[0],h=u[1];return(0,E.jsxs)(O.Z,{isOpen:t,toggle:s,wrapClassName:"modal-right",backdrop:"static",children:[(0,E.jsx)(L.Z,{toggle:s,children:(0,E.jsx)(g.Z,{id:"survey.add-new-title"})}),(0,E.jsxs)(I.Z,{children:[(0,E.jsx)(A.Z,{className:"mt-4",children:(0,E.jsx)(g.Z,{id:"survey.title"})}),(0,E.jsx)(M.Z,{type:"text",defaultValue:m.title,onChange:function(e){return h((0,S.Z)((0,S.Z)({},m),{},{title:e.target.value}))}}),(0,E.jsx)(A.Z,{className:"mt-4",children:(0,E.jsx)(g.Z,{id:"survey.category"})}),(0,E.jsx)(z.ZP,{components:{Input:R.Z},className:"react-select",classNamePrefix:"react-select",name:"form-field-name",options:i.map((function(e,t){return{label:e,value:e,key:t}})),value:m.category,onChange:function(e){return h((0,S.Z)((0,S.Z)({},m),{},{category:e}))}}),(0,E.jsx)(A.Z,{className:"mt-4",children:(0,E.jsx)(g.Z,{id:"survey.label"})}),(0,E.jsx)(z.ZP,{components:{Input:R.Z},className:"react-select",classNamePrefix:"react-select",name:"form-field-name",options:n.map((function(e,t){return{label:e.label,value:e.label,key:t,color:e.color}})),value:m.label,onChange:function(e){return h((0,S.Z)((0,S.Z)({},m),{},{label:e}))}}),(0,E.jsx)(A.Z,{className:"mt-4",children:(0,E.jsx)(g.Z,{id:"survey.status"})}),(0,E.jsx)(d.Z,{type:"radio",id:"exCustomRadio",name:"customRadio",label:"COMPLETED",checked:"COMPLETED"===m.status,onChange:function(e){return h((0,S.Z)((0,S.Z)({},m),{},{status:"on"===e.target.value?"COMPLETED":"ACTIVE"}))}}),(0,E.jsx)(d.Z,{type:"radio",id:"exCustomRadio2",name:"customRadio2",label:"ACTIVE",checked:"ACTIVE"===m.status,onChange:function(e){return h((0,S.Z)((0,S.Z)({},m),{},{status:"on"!==e.target.value?"COMPLETED":"ACTIVE"}))}})]}),(0,E.jsxs)(P.Z,{children:[(0,E.jsx)(o.Z,{color:"secondary",outline:!0,onClick:s,children:(0,E.jsx)(g.Z,{id:"survey.cancel"})}),(0,E.jsx)(o.Z,{color:"primary",onClick:function(){return function(){var e={title:m.title,label:m.label.value,labelColor:m.label.color,category:m.category.value,status:m.status};r(e),s(),h(V)}()},children:(0,E.jsx)(g.Z,{id:"survey.submit"})})]})]})})),F=s(14819),K=s(95476),_=s.n(K),W=s(97715),$=s.n(W),G=s(72023),J=(0,i.$j)((function(e){var t=e.surveyListApp;return{surveyItems:t.surveyItems,filter:t.filter,allSurveyItems:t.allSurveyItems,loading:t.loading,labels:t.labels,categories:t.categories}}),{getSurveyListWithFilterAction:b.Gp})((function(e){var t=e.surveyItems,s=e.filter,n=e.allSurveyItems,l=e.loading,a=e.labels,i=e.categories,r=e.getSurveyListWithFilterAction,c=function(e,t){r(e,t)};return(0,E.jsx)(G.Z,{children:(0,E.jsx)(_(),{options:{suppressScrollX:!0,wheelPropagation:!1},children:(0,E.jsxs)("div",{className:"p-4",children:[(0,E.jsxs)("p",{className:"text-muted text-small",children:[(0,E.jsx)(g.Z,{id:"survey.status"}),"Status"]}),(0,E.jsxs)("ul",{className:"list-unstyled mb-5",children:[(0,E.jsx)(F.Z,{className:$()({active:!s}),children:(0,E.jsxs)(C.OL,{to:"#",onClick:function(){return c("","")},location:{},children:[(0,E.jsx)("i",{className:"simple-icon-reload"}),(0,E.jsx)(g.Z,{id:"survey.all-surveys"}),(0,E.jsx)("span",{className:"float-right",children:l&&n.length})]})}),(0,E.jsx)(F.Z,{className:$()({active:s&&"status"===s.column&&"ACTIVE"===s.value}),children:(0,E.jsxs)(C.OL,{to:"#",location:{},onClick:function(){return c("status","ACTIVE")},children:[(0,E.jsx)("i",{className:"simple-icon-refresh"}),(0,E.jsx)(g.Z,{id:"survey.active-surveys"}),(0,E.jsx)("span",{className:"float-right",children:l&&t.filter((function(e){return"ACTIVE"===e.status})).length})]})}),(0,E.jsx)(F.Z,{className:$()({active:s&&"status"===s.column&&"COMPLETED"===s.value}),children:(0,E.jsxs)(C.OL,{to:"#",location:{},onClick:function(){return c("status","COMPLETED")},children:[(0,E.jsx)("i",{className:"simple-icon-check"}),(0,E.jsx)(g.Z,{id:"survey.completed-surveys"}),(0,E.jsx)("span",{className:"float-right",children:l&&t.filter((function(e){return"COMPLETED"===e.status})).length})]})})]}),(0,E.jsx)("p",{className:"text-muted text-small",children:(0,E.jsx)(g.Z,{id:"survey.categories"})}),(0,E.jsx)("ul",{className:"list-unstyled mb-5",children:i.map((function(e,t){return(0,E.jsx)(F.Z,{children:(0,E.jsx)("div",{onClick:function(){return c("category",e)},children:(0,E.jsxs)("div",{className:"custom-control custom-radio",children:[(0,E.jsx)("input",{type:"radio",className:"custom-control-input",defaultChecked:s&&"category"===s.column&&s.value===e}),(0,E.jsx)("label",{className:"custom-control-label",children:e})]})})},t)}))}),(0,E.jsx)("p",{className:"text-muted text-small",children:(0,E.jsx)(g.Z,{id:"survey.labels"})}),(0,E.jsx)("div",{children:a.map((function(e,t){return(0,E.jsx)("p",{className:"d-sm-inline-block mb-1",children:(0,E.jsx)(C.OL,{to:"#",location:{},onClick:function(){return c("label",e.label)},children:(0,E.jsx)(N.Z,{className:"mb-1",color:"".concat(s&&"label"===s.column&&s.value===e.label?e.color:"outline-".concat(e.color)),pill:!0,children:e.label})})},t)}))})]})})})})),X=function(e,t,s){for(var n=0;n<t.length;n+=1)if(t[n][s]===e)return n;return-1},q=(0,r.ZP)((0,i.$j)((function(e){var t=e.surveyListApp;return{surveyItems:t.surveyItems,searchKeyword:t.searchKeyword,loading:t.loading,orderColumn:t.orderColumn,orderColumns:t.orderColumns,selectedItems:t.selectedItems}}),{getSurveyListAction:b.kg,getSurveyListWithOrderAction:b.TE,getSurveyListSearchAction:b.iJ,selectedSurveyItemsChangeAction:b.i7})((function(e){var t=e.match,s=e.intl,i=e.surveyItems,r=e.searchKeyword,b=e.loading,y=e.orderColumn,Z=e.orderColumns,N=e.selectedItems,C=e.getSurveyListAction,k=e.getSurveyListWithOrderAction,T=e.getSurveyListSearchAction,S=e.selectedSurveyItemsChangeAction,O=(0,a.useState)(!1),L=(0,l.Z)(O,2),I=L[0],A=L[1],M=(0,a.useState)(!1),P=(0,l.Z)(M,2),z=P[0],R=P[1],V=(0,a.useState)(null),F=(0,l.Z)(V,2),K=F[0],_=F[1],W=(0,a.useState)(!1),$=(0,l.Z)(W,2),G=$[0],q=$[1];(0,a.useEffect)((function(){return document.body.classList.add("right-menu"),C(),function(){document.body.classList.remove("right-menu")}}),[C]);var B=function(e,t){null==K&&_(t);var s=Object.assign([],N);if(s.includes(t)?s=s.filter((function(e){return e!==t})):s.push(t),S(s),e.shiftKey){var l,a=i,r=X(t,a,"id"),c=X(K,a,"id");a=a.slice(Math.min(r,c),Math.max(r,c)+1),(l=s).push.apply(l,(0,n.Z)(a.map((function(e){return e.id})))),s=Array.from(new Set(s)),S(s)}},H=function(){b&&(N.length>=i.length?S([]):S(i.map((function(e){return e.id}))))},Q=s.messages;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(c.Z,{className:"app-row survey-app",children:(0,E.jsxs)(v.F,{xxs:"12",children:[(0,E.jsxs)("div",{className:"mb-2",children:[(0,E.jsx)("h1",{children:(0,E.jsx)(g.Z,{id:"menu.survey"})}),b&&(0,E.jsxs)("div",{className:"text-zero top-right-button-container",children:[(0,E.jsx)(o.Z,{color:"primary",size:"lg",className:"top-right-button mr-1",onClick:function(){return A(!0)},children:(0,E.jsx)(g.Z,{id:"survey.add-new"})}),(0,E.jsxs)(u.Z,{isOpen:z,toggle:function(){return R(!z)},children:[(0,E.jsx)("div",{className:"btn btn-primary btn-lg pl-4 pr-0 check-button check-all",children:(0,E.jsx)(d.Z,{className:"custom-checkbox mb-0 d-inline-block",type:"checkbox",id:"checkAll",checked:N.length>=i.length,onClick:function(){return H()},onChange:function(){return H()},label:(0,E.jsx)("span",{className:"custom-control-label ".concat(N.length>0&&N.length<i.length?"indeterminate":"")})})}),(0,E.jsx)(m.Z,{caret:!0,color:"primary",className:"dropdown-toggle-split btn-lg"}),(0,E.jsxs)(h.Z,{right:!0,children:[(0,E.jsx)(x.Z,{children:(0,E.jsx)(g.Z,{id:"survey.delete"})}),(0,E.jsx)(x.Z,{children:(0,E.jsx)(g.Z,{id:"survey.another-action"})})]})]})]}),(0,E.jsx)(j.Z,{match:t})]}),(0,E.jsxs)("div",{className:"mb-2",children:[(0,E.jsxs)(o.Z,{color:"empty",className:"pt-0 pl-0 d-inline-block d-md-none",onClick:function(){q(!G)},children:[(0,E.jsx)(g.Z,{id:"survey.display-options"})," ",(0,E.jsx)("i",{className:"simple-icon-arrow-down align-middle"})]}),(0,E.jsx)(p.Z,{id:"displayOptions",className:"d-md-block mb-2",isOpen:G,children:(0,E.jsxs)("div",{className:"d-block d-md-inline-block",children:[(0,E.jsxs)(f.Z,{className:"mr-1 float-md-left btn-group mb-1",children:[(0,E.jsxs)(m.Z,{caret:!0,color:"outline-dark",size:"xs",children:[(0,E.jsx)(g.Z,{id:"survey.orderby"}),y?y.label:""]}),(0,E.jsx)(h.Z,{children:Z.map((function(e,t){return(0,E.jsx)(x.Z,{onClick:function(){return k(e.column)},children:e.label},t)}))})]}),(0,E.jsx)("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top",children:(0,E.jsx)("input",{type:"text",name:"keyword",id:"search",placeholder:Q["menu.search"],defaultValue:r,onKeyPress:function(e){"Enter"===e.key&&T(e.target.value)}})})]})})]}),(0,E.jsx)(v.Z,{className:"mb-5"}),(0,E.jsx)(c.Z,{children:b?i.map((function(e,t){return(0,E.jsx)(w,{item:e,handleCheckChange:B,isSelected:!!b&&N.includes(e.id)},"todo_item_".concat(t))})):(0,E.jsx)("div",{className:"loading"})})]})}),b&&(0,E.jsx)(J,{}),(0,E.jsx)(D,{toggleModal:function(){return A(!I)},modalOpen:I})]})})))},98128:function(e,t,s){var n=s(87462),l=s(63366),a=s(50390),i=s(70188),r=s.n(i),c=s(97715),o=s.n(c),u=s(5335),d=["className","listClassName","cssModule","children","tag","listTag","aria-label"],m={tag:u.tagPropType,listTag:u.tagPropType,className:r().string,listClassName:r().string,cssModule:r().object,children:r().node,"aria-label":r().string},h=function(e){var t=e.className,s=e.listClassName,i=e.cssModule,r=e.children,c=e.tag,m=e.listTag,h=e["aria-label"],x=(0,l.Z)(e,d),p=(0,u.mapToCssModules)(o()(t),i),f=(0,u.mapToCssModules)(o()("breadcrumb",s),i);return a.createElement(c,(0,n.Z)({},x,{className:p,"aria-label":h}),a.createElement(m,{className:f},r))};h.propTypes=m,h.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},t.Z=h},43150:function(e,t,s){var n=s(87462),l=s(63366),a=s(50390),i=s(70188),r=s.n(i),c=s(97715),o=s.n(c),u=s(5335),d=["className","cssModule","active","tag"],m={tag:u.tagPropType,active:r().bool,className:r().string,cssModule:r().object},h=function(e){var t=e.className,s=e.cssModule,i=e.active,r=e.tag,c=(0,l.Z)(e,d),m=(0,u.mapToCssModules)(o()(t,!!i&&"active","breadcrumb-item"),s);return a.createElement(r,(0,n.Z)({},c,{className:m,"aria-current":i?"page":void 0}))};h.propTypes=m,h.defaultProps={tag:"li"},t.Z=h},23507:function(e,t,s){var n=s(87462),l=s(50390),a=s(70188),i=s.n(a),r=s(29781),c={children:i().node},o=function(e){return l.createElement(r.Z,(0,n.Z)({group:!0},e))};o.propTypes=c,t.Z=o},71115:function(e,t,s){var n=s(87462),l=s(63366),a=s(97326),i=s(94578),r=s(50390),c=s(70188),o=s.n(c),u=s(97715),d=s.n(u),m=s(5335),h=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],x={children:o().node,type:o().string,size:o().oneOfType([o().number,o().string]),bsSize:o().string,valid:o().bool,invalid:o().bool,tag:m.tagPropType,innerRef:o().oneOfType([o().object,o().func,o().string]),plaintext:o().bool,addon:o().bool,className:o().string,cssModule:o().object},p=function(e){function t(t){var s;return(s=e.call(this,t)||this).getRef=s.getRef.bind((0,a.Z)(s)),s.focus=s.focus.bind((0,a.Z)(s)),s}(0,i.Z)(t,e);var s=t.prototype;return s.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},s.focus=function(){this.ref&&this.ref.focus()},s.render=function(){var e=this.props,t=e.className,s=e.cssModule,a=e.type,i=e.bsSize,c=e.valid,o=e.invalid,u=e.tag,x=e.addon,p=e.plaintext,f=e.innerRef,g=(0,l.Z)(e,h),v=["radio","checkbox"].indexOf(a)>-1,j=new RegExp("\\D","g"),b=u||("select"===a||"textarea"===a?a:"input"),y="form-control";p?(y+="-plaintext",b=u||"input"):"file"===a?y+="-file":"range"===a?y+="-range":v&&(y=x?null:"form-check-input"),g.size&&j.test(g.size)&&((0,m.warnOnce)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=g.size,delete g.size);var Z=(0,m.mapToCssModules)(d()(t,o&&"is-invalid",c&&"is-valid",!!i&&"form-control-"+i,y),s);return("input"===b||u&&"function"===typeof u)&&(g.type=a),g.children&&!p&&"select"!==a&&"string"===typeof b&&"select"!==b&&((0,m.warnOnce)('Input with a type of "'+a+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete g.children),r.createElement(b,(0,n.Z)({},g,{ref:f,className:Z,"aria-invalid":o}))},t}(r.Component);p.propTypes=x,p.defaultProps={type:"text"},t.Z=p}}]);
//# sourceMappingURL=application-survey.92e0ef15.chunk.js.map