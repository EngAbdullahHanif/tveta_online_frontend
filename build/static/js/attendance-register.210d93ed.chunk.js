"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[5956],{13411:function(e,s,t){t.r(s);var a=t(4942),l=t(1413),r=t(74165),n=t(29439),i=t(15861),c=t(50390),d=t(16295),o=t(45133),u=t.n(o),x=t(830),h=(t(48907),t(14037)),m=t(49360),j=t(31833),p=t(14237),b=t(14778),Z=t(64884),f=t(94048),y=t(16778),v=t(32121),N=t(37671),g=t(16905),k=t(39873),S=t(22834),_=t(83882),C=t(62559),w=m.Ry().shape({institute:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,C.jsx)(N.Z,{id:"forms.InstituteErr"})),educationalYear:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,C.jsx)(N.Z,{id:"forms.educationYearErr"})),classs:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,C.jsx)(N.Z,{id:"marks.ClassErr"})),department:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,C.jsx)(N.Z,{id:"teacher.departmentIdErr"})),studyTime:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,C.jsx)(N.Z,{id:"forms.StudyTimeErr"}))}),F=(m.Ry().shape({present:m.Rx().required((0,C.jsx)(N.Z,{id:"forms.totolEduactionalDaysErr"})),absent:m.Rx().required((0,C.jsx)(N.Z,{id:"forms.totolEduactionalDaysErr"})),necessaryWork:m.Rx().required((0,C.jsx)(N.Z,{id:"forms.totolEduactionalDaysErr"})),sickness:m.Rx().required((0,C.jsx)(N.Z,{id:"forms.totolEduactionalDaysErr"}))}),{institute:[],studyTime:[],classs:[],department:[],totolEducationalDays:"",educationalYear:[],present_hours:[],absent_hours:[],necessary_work_hours:[],sickness_hours:[]});s.default=function(e){e.match;var s=(0,h.useParams)().studentAttendanceId;function t(){return(t=(0,i.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("testing/?id=".concat(s));case 2:t=e.sent,a=t.data,pe(a[0].educational_year),he([{value:a[0].institute_id.id,label:a[0].institute_id.name}]),fe([{value:a[0].class_id.id,label:a[0].class_id.name}]),Ne([{value:a[0].department_id.id,label:a[0].department_id.name}]),Se([{value:a[0].student_id.student_id,label:a[0].student_id.name}]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("id of the attendacne",s),(0,c.useEffect)((function(){s&&function(){t.apply(this,arguments)}()}),[]);var o=(0,c.useState)(!1),m=(0,n.Z)(o,2),q=(m[0],m[1],(0,c.useState)(!1)),E=(0,n.Z)(q,2),T=E[0],L=E[1],I=(0,c.useState)(!1),Y=(0,n.Z)(I,2),z=Y[0],R=Y[1],D=(0,c.useState)([]),W=(0,n.Z)(D,2),A=W[0],B=W[1],V=(0,c.useState)(""),P=(0,n.Z)(V,2),J=P[0],O=P[1],X=(0,c.useState)(""),G=(0,n.Z)(X,2),H=G[0],K=G[1],M=(0,c.useState)(""),Q=(0,n.Z)(M,2),U=Q[0],$=Q[1],ee=(0,c.useState)(""),se=(0,n.Z)(ee,2),te=se[0],ae=(se[1],(0,c.useState)("")),le=(0,n.Z)(ae,2),re=le[0],ne=le[1],ie=(0,c.useState)(""),ce=(0,n.Z)(ie,2),de=ce[0],oe=ce[1],ue=(0,c.useState)([]),xe=(0,n.Z)(ue,2),he=(xe[0],xe[1]),me=(0,c.useState)(""),je=(0,n.Z)(me,2),pe=(je[0],je[1]),be=(0,c.useState)([]),Ze=(0,n.Z)(be,2),fe=(Ze[0],Ze[1]),ye=(0,c.useState)([]),ve=(0,n.Z)(ye,2),Ne=(ve[0],ve[1]),ge=(0,c.useState)([]),ke=(0,n.Z)(ge,2),Se=(ke[0],ke[1]),_e=(0,c.useState)({}),Ce=(0,n.Z)(_e,2),we=Ce[0],Fe=Ce[1],qe=(0,c.useContext)(_.V),Ee=qe.classes,Te=qe.departments,Le=qe.institutes,Ie=(qe.contextFields,function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("educatinll yera",de),console.log("Div Inner Side"),e.next=4,(0,v.Z)("students/class-students-list/?institute=".concat(J.value,"&classs=").concat(U.value,"&shift=").concat(re.value,"&department=").concat(H.value,"&educational_year=").concat(de.value),"GET",null);case 4:s=e.sent,console.log("Div Inner Side",de.value),console.log("class repspossdfsde",s),s.data&&200===s.status?(B(s.data),R(!0)):console.log("class error");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ye=function(e,s){var t=s||"";switch(e){case"success":S.fn.success("\u062d\u0627\u0636\u0631\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648\u0647","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,t);break;case"error":S.fn.error("\u062d\u0627\u0636\u0631\u06cc \u062b\u0628\u062a \u0646\u0647 \u0634\u0648\u0647 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,t);break;default:S.fn.info("Info message")}},ze=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(s){var t,a,n,i,c,d,o,u,x;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values in arr: ",we),t=[],Object.keys(we).forEach((function(e){t.push((0,l.Z)({student_id:e},we[e]))})),console.log("newStudents is: ",t),a=de.value,n=J.value,i=H.value,c=U.value,d=te.value,o=re.value,console.log("educationalYear",a),console.log("instituteId",n),console.log("departmentId",i),console.log("classId",c),console.log("subjectId",d),console.log("values are: ",s),u=[{educational_year:a,institute:n,department:i,classs:c,subject:d,shift:o}].concat(t),console.log("data",u),e.next=20,(0,v.Z)("students/class-attendance/create/","POST",u);case 20:200===(x=e.sent).status||201===x.status?(L(!0),Ye("success","filled")):(console.log("marks error"),L(!1),Ye("error","filled"));case 22:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return console.log("isNext, isSubmitted",z,T),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(j.Z,{children:[(0,C.jsx)("div",{className:"mt-4 ml-5",children:(0,C.jsx)("h2",{className:" m-5  titleStyle",children:(0,C.jsx)(N.Z,{id:"forms.AttendanceTitle"})})}),(0,C.jsx)(p.Z,{children:z?(0,C.jsx)(C.Fragment,{children:T?(0,C.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,C.jsxs)("div",{children:[(0,C.jsx)("h1",{className:"mb-2",children:(0,C.jsx)(N.Z,{id:"wizard.content-thanks"})}),(0,C.jsx)("h3",{children:(0,C.jsx)(N.Z,{id:"wizard.registered"})}),(0,C.jsx)(y.Z,{className:"m-5 bg-primary",onClick:function(){R(!1),L(!1)},children:(0,C.jsx)(N.Z,{id:"button.Back"})})]})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(b.Z,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"10%",fontSize:"20px"},children:[(0,C.jsxs)(g.F,{xxs:"2",children:[(0,C.jsx)(f.Z,{className:"data-style-1",children:(0,C.jsx)(N.Z,{id:"menu.institutes"})}),(0,C.jsx)("h2",{children:J.label})]}),(0,C.jsxs)(g.F,{xxs:"2",children:[(0,C.jsx)(f.Z,{className:"data-style-1",children:(0,C.jsx)(N.Z,{id:"attendance.departmentLabel"})}),(0,C.jsx)("h2",{children:H.label})]}),(0,C.jsxs)(g.F,{xxs:"2",children:[(0,C.jsx)(f.Z,{className:"data-style-1",children:(0,C.jsx)(N.Z,{id:"marks.ClassLabel"})}),(0,C.jsx)("h2",{children:U.label})]}),(0,C.jsxs)(g.F,{xxs:"2",children:[(0,C.jsx)(f.Z,{className:"data-style-1",children:(0,C.jsx)(N.Z,{id:"forms.StudyTimeLabel"})}),(0,C.jsx)("h2",{children:re.label})]}),(0,C.jsxs)(g.F,{xxs:"2",children:[(0,C.jsx)(f.Z,{className:"data-style-1",children:(0,C.jsx)(N.Z,{id:"curriculum.eduactionalYearList"})}),(0,C.jsx)("h2",{children:de.label})]}),(0,C.jsxs)(g.F,{xxs:"2",children:[(0,C.jsx)(f.Z,{className:"data-style-1",children:(0,C.jsx)(N.Z,{id:"forms.totolEducationalDays"})}),(0,C.jsx)("h2",{children:"\u062f\u06cc\u0646\u0627\u0645\u06cc\u06a9 \u06af\u0631\u062f\u062f"})]})]}),(0,C.jsx)(d.J9,{enableReinitialize:!0,initialValues:F,onSubmit:ze,children:function(e){var s=e.errors,t=e.touched,r=(e.values,e.setFieldTouched,e.setFieldValue,e.handleSubmit);e.handleChange;return(0,C.jsxs)(d.l0,{className:"av-tooltip tooltip-label-right ",children:[(0,C.jsx)(b.Z,{className:"justify-content-center  border border",style:{marginInline:"10%",overflowY:"scroll",overflowX:"hidden"},children:(0,C.jsxs)("table",{class:"table ",children:[(0,C.jsx)("thead",{className:"thead-dark ",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{colspan:"4",className:"border text-center list-header-1",children:(0,C.jsx)(N.Z,{id:"marks.studentChar"})}),(0,C.jsx)("th",{colspan:"4",className:"border text-center list-header-1",children:(0,C.jsx)(N.Z,{id:"attendance.attendaceDisplayTitle"})})]})}),(0,C.jsx)("thead",{className:"thead-dark",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2 ",children:(0,C.jsx)(N.Z,{id:"marks.No"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"marks.FullName"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"marks.FatherName"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"marks.ID"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdPresentLabel"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdAbsentLabel"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdNecessaryWorkLabel"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdSicknessLabel"})})]})}),(0,C.jsx)("tbody",{className:"border border ",style:{height:"200px",overflowY:"scroll",overflowX:"hidden"},children:A.length>0&&A.map((function(e,r){return(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{style:{fontSize:"20px",minWidth:"50px",textAlign:"center"},className:"pt-0",children:r+1}),(0,C.jsx)("td",{style:{fontSize:"20px",minWidth:"150px",textAlign:"center"},className:"pt-0",children:e.name}),(0,C.jsx)("td",{style:{fontSize:"20px",minWidth:"150px",textAlign:"center"},className:"pt-0",children:e.father_name}),(0,C.jsx)("td",{style:{fontSize:"20px",textAlign:"center",minWidth:"100px"},className:"pt-0",children:e.student_id}),(0,C.jsxs)("td",{className:"mb-2 p-0",children:[(0,C.jsx)("input",{type:"number",className:"form-control",name:"present_hours",onChange:function(s){var t=we;t[e.student_id]=(0,l.Z)((0,l.Z)({},t[e.student_id]),{},(0,a.Z)({},s.target.name,s.target.value)),Fe(t)},min:0,max:300,required:!0}),s.present&&t.present?(0,C.jsx)("div",{className:"invalid-feedback d-block",children:s.present}):null]}),(0,C.jsxs)("td",{className:"p-0",children:[(0,C.jsx)("input",{type:"number",className:"form-control",name:"absent_hours",min:"0",max:"300",required:!0,onChange:function(s){var t=we;t[e.student_id]=(0,l.Z)((0,l.Z)({},t[e.student_id]),{},(0,a.Z)({},s.target.name,s.target.value)),Fe(t)}}),s.absent&&t.absent?(0,C.jsx)("div",{className:"invalid-feedback d-block",children:s.StdAbsent}):null]}),(0,C.jsxs)("td",{className:"p-0",children:[(0,C.jsx)("input",{type:"number",className:"form-control",name:"necessary_work_hours",min:"0",max:"300",required:!0,onChange:function(s){var t=we;t[e.student_id]=(0,l.Z)((0,l.Z)({},t[e.student_id]),{},(0,a.Z)({},s.target.name,s.target.value)),Fe(t)}}),s.necessaryWork&&t.necessaryWork?(0,C.jsx)("div",{className:"invalid-feedback d-block",children:s.necessaryWork}):null]}),(0,C.jsxs)("td",{className:"mb-2 p-0",children:[(0,C.jsx)("input",{type:"number",className:"form-control",name:"sickness_hours",min:"0",max:"300",required:!0,onChange:function(s){var t=we;t[e.student_id]=(0,l.Z)((0,l.Z)({},t[e.student_id]),{},(0,a.Z)({},s.target.name,s.target.value)),Fe(t)}}),s.sickness&&t.sickness?(0,C.jsx)("div",{className:"invalid-feedback d-block",children:s.sickness}):null]})]},e.id)}))}),(0,C.jsx)("tfoot",{className:"thead-dark",children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:(0,C.jsx)(N.Z,{id:"marks.No"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"marks.FullName"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"marks.FatherName"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"marks.ID"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdPresentLabel"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdAbsentLabel"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdNecessaryWorkLabel"})}),(0,C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:(0,C.jsx)(N.Z,{id:"forms.StdSicknessLabel"})})]})})]})}),(0,C.jsx)(b.Z,{className:" justify-content-center",children:(0,C.jsxs)(g.F,{xxs:"10",className:"m-5",children:[(0,C.jsx)(y.Z,{color:"primary",className:"buttonStyle1",size:"lg",style:{margin:"5% 6% 10% 8%"},onClick:function(){return R(!1)},children:(0,C.jsx)(N.Z,{id:"button.Back"})}),(0,C.jsx)(y.Z,{color:"primary",className:" float-right buttonStyle1",size:"lg",style:{margin:"5% 0% 10% 6%"},onClick:r,children:(0,C.jsx)(N.Z,{id:"button.SubmitButton"})})]})})]})}})]})}):(0,C.jsx)(d.J9,{enableReinitialize:!0,initialValues:F,onSubmit:Ie,validationSchema:w,children:function(e){var s=e.errors,t=e.touched,a=e.values,l=e.setFieldTouched,r=e.setFieldValue;return(0,C.jsxs)(d.l0,{className:"av-tooltip tooltip-label-right style ",children:[(0,C.jsxs)(b.Z,{className:"m-5",children:[(0,C.jsxs)(g.F,{xxs:"6",children:[(0,C.jsxs)(Z.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,C.jsxs)(f.Z,{children:[(0,C.jsx)(N.Z,{id:"forms.InstituteLabel"}),(0,C.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,C.jsx)(k.ju,{name:"institute",id:"institute",value:a.institute,options:Le,onChange:r,onBlur:l,onClick:O(a.institute)}),s.institute&&t.institute?(0,C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.institute}):null]}),(0,C.jsxs)(Z.Z,{className:"form-group has-float-label mt-5 error-l-150 ",children:[(0,C.jsxs)(f.Z,{children:[(0,C.jsx)(N.Z,{id:"curriculum.eduactionalYearLabel"}),(0,C.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,C.jsx)(k.ju,{name:"educationalYear",id:"educationalYear",value:a.educationalYear,options:x.Ar,onChange:r,onClick:oe(a.educationalYear),onBlur:l}),s.educationalYear&&t.educationalYear?(0,C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.educationalYear}):null]}),(0,C.jsxs)(Z.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,C.jsx)(f.Z,{children:(0,C.jsx)(N.Z,{id:"forms.StudyTimeLabel"})}),(0,C.jsx)(k.ju,{name:"studyTime",id:"studyTime",value:a.studyTime,options:x.Zp,onChange:r,onBlur:l,onClick:ne(a.studyTime)}),s.studyTime&&t.studyTime?(0,C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:s.studyTime}):null]})]}),(0,C.jsxs)(g.F,{xxs:"6",children:[(0,C.jsxs)(Z.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,C.jsxs)(f.Z,{children:[(0,C.jsx)(N.Z,{id:"marks.ClassLabel"}),(0,C.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,C.jsx)(k.ju,{name:"classs",id:"classs",value:a.classs,options:Ee,onChange:r,onBlur:l,onClick:$(a.classs),required:!0}),s.classs&&t.classs?(0,C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.classs}):null]}),(0,C.jsxs)(Z.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,C.jsxs)(f.Z,{children:[(0,C.jsx)(N.Z,{id:"forms.studyDepartment"}),(0,C.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,C.jsx)(k.ju,{name:"department",id:"department",value:a.department,options:Te,onChange:r,onBlur:l,onClick:K(a.department),required:!0}),s.department&&t.department?(0,C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.department}):null]})]})]}),(0,C.jsx)(b.Z,{children:(0,C.jsx)(g.F,{children:(0,C.jsxs)(y.Z,{color:"primary",className:"float-right buttonStyle",size:"lg",type:"submit",style:{margin:"3% 0% 10% 8%"},children:[(0,C.jsxs)("span",{className:"spinner d-inline-block",children:[(0,C.jsx)("span",{className:"bounce1"}),(0,C.jsx)("span",{className:"bounce2"}),(0,C.jsx)("span",{className:"bounce3"})]}),(0,C.jsx)("span",{className:"label",children:(0,C.jsx)(N.Z,{id:"button.Next"})})]})})})]})}})})]})})}}}]);
//# sourceMappingURL=attendance-register.210d93ed.chunk.js.map