(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[29],{1906:function(e,t,s){"use strict";s.r(t);var a=s(47),c=s(1),l=s(145),r=s(4),n=s.n(r),i=s(14),d=s(6),j=s(178),o=s(35),b=s.n(o),u=(s(55),s(182)),h=(s(266),s(319)),m=s(186),x=s(453),O=s(1221),p=s(454),f=s(1179),v=s(1180),N=s(655),g=s(183),y=(s(380),s(148)),k=s(152),S=s(180),_=(s(341),s(15),s(40)),w=s(259),C=(s(330),s(12)),q=m.e().shape({institute:m.e().shape({value:m.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"forms.InstituteErr"})),educationalYear:m.e().shape({value:m.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"forms.educationYearErr"})),classs:m.e().shape({value:m.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"marks.ClassErr"})),department:m.e().shape({value:m.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"teacher.departmentIdErr"})),studyTime:m.e().shape({value:m.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"forms.StudyTimeErr"}))}),E=(m.e().shape({present:m.d().required(Object(C.jsx)(y.a,{id:"forms.totolEduactionalDaysErr"})),absent:m.d().required(Object(C.jsx)(y.a,{id:"forms.totolEduactionalDaysErr"})),necessaryWork:m.d().required(Object(C.jsx)(y.a,{id:"forms.totolEduactionalDaysErr"})),sickness:m.d().required(Object(C.jsx)(y.a,{id:"forms.totolEduactionalDaysErr"}))}),{institute:[],studyTime:[],classs:[],department:[],totolEducationalDays:"",educationalYear:[],present_hours:[],absent_hours:[],necessary_work_hours:[],sickness_hours:[]});t.default=function(e){e.match;var t=Object(h.useParams)().studentAttendanceId;console.log("id of the attendacne",t),t&&Object(d.useEffect)((function(){function e(){return(e=Object(i.a)(n.a.mark((function e(){var s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(StudentAttendanceAPI,"/?id=").concat(t));case 2:s=e.sent,a=s.data,console.log(a[0].institute_id.name,"kaknor student data"),Ne(a[0].educational_year),pe([{value:a[0].institute_id.id,label:a[0].institute_id.name}]),ke([{value:a[0].class_id.id,label:a[0].class_id.name}]),we([{value:a[0].department_id.id,label:a[0].department_id.name}]),Ee([{value:a[0].student_id.student_id,label:a[0].student_id.name}]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=Object(d.useState)(!1),r=Object(l.a)(s,2),o=(r[0],r[1],Object(d.useState)(!1)),m=Object(l.a)(o,2),T=m[0],I=m[1],L=Object(d.useState)(!1),Y=Object(l.a)(L,2),z=Y[0],D=Y[1],F=Object(d.useState)([]),W=Object(l.a)(F,2),A=W[0],B=W[1],P=Object(d.useState)(""),V=Object(l.a)(P,2),J=V[0],R=V[1],X=Object(d.useState)(""),G=Object(l.a)(X,2),K=G[0],H=G[1],M=Object(d.useState)(""),Q=Object(l.a)(M,2),U=Q[0],Z=Q[1],$=Object(d.useState)(""),ee=Object(l.a)($,2),te=ee[0],se=(ee[1],Object(d.useState)("")),ae=Object(l.a)(se,2),ce=ae[0],le=ae[1],re=Object(d.useState)(""),ne=Object(l.a)(re,2),ie=ne[0],de=ne[1],je=Object(d.useState)(55),oe=Object(l.a)(je,2),be=(oe[0],oe[1],Object(d.useState)()),ue=Object(l.a)(be,2),he=(ue[0],ue[1],Object(d.useState)()),me=Object(l.a)(he,2),xe=(me[0],me[1],Object(d.useState)([])),Oe=Object(l.a)(xe,2),pe=(Oe[0],Oe[1]),fe=Object(d.useState)(""),ve=Object(l.a)(fe,2),Ne=(ve[0],ve[1]),ge=Object(d.useState)([]),ye=Object(l.a)(ge,2),ke=(ye[0],ye[1]),Se=Object(d.useState)([]),_e=Object(l.a)(Se,2),we=(_e[0],_e[1]),Ce=Object(d.useState)([]),qe=Object(l.a)(Ce,2),Ee=(qe[0],qe[1]),Te=Object(d.useState)({}),Ie=Object(l.a)(Te,2),Le=Ie[0],Ye=Ie[1],ze=Object(d.useContext)(w.a),De=(ze.provinces,ze.districts,ze.classes),Fe=(ze.subjects,ze.departments),We=ze.institutes,Ae=(ze.contextFields,function(){var e=Object(i.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("educatinll yera",ie),console.log("Div Inner Side"),e.next=4,Object(g.a)("students/class-students-list/?institute=".concat(J.value,"&classs=").concat(U.value,"&shift=").concat(ce.value,"&department=").concat(K.value,"&educational_year=").concat(ie.value),"GET",null);case 4:t=e.sent,console.log("Div Inner Side",ie.value),console.log("class repspossdfsde",t),t.data&&200===t.status?(B(t.data),D(!0)):console.log("class error");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Be=function(e,t){var s=t||"";switch(e){case"success":_.b.success("\u062d\u0627\u0636\u0631\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648\u0647","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,s);break;case"error":_.b.error("\u062d\u0627\u0636\u0631\u06cc \u062b\u0628\u062a \u0646\u0647 \u0634\u0648\u0647 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,s);break;default:_.b.info("Info message")}},Pe=function(){var e=Object(i.a)(n.a.mark((function e(t){var s,a,l,r,i,d,j,o,b;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values in arr: ",Le),s=[],Object.keys(Le).forEach((function(e){s.push(Object(c.a)({student_id:e},Le[e]))})),console.log("newStudents is: ",s),a=ie.value,l=J.value,r=K.value,i=U.value,d=te.value,j=ce.value,console.log("educationalYear",a),console.log("instituteId",l),console.log("departmentId",r),console.log("classId",i),console.log("subjectId",d),console.log("values are: ",t),o=[{educational_year:a,institute:l,department:r,classs:i,subject:d,shift:j}].concat(s),console.log("data",o),e.next=20,Object(g.a)("students/class-attendance/create/","POST",o);case 20:200===(b=e.sent).status||201===b.status?(I(!0),Be("success","filled")):(console.log("marks error"),I(!1),Be("error","filled"));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("isNext, isSubmitted",z,T),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)("div",{className:"mt-4 ml-5",children:Object(C.jsx)("h2",{className:" m-5  titleStyle",children:Object(C.jsx)(y.a,{id:"forms.AttendanceTitle"})})}),Object(C.jsx)(O.a,{children:z?Object(C.jsx)(C.Fragment,{children:T?Object(C.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{className:"mb-2",children:Object(C.jsx)(y.a,{id:"wizard.content-thanks"})}),Object(C.jsx)("h3",{children:Object(C.jsx)(y.a,{id:"wizard.registered"})}),Object(C.jsx)(N.a,{className:"m-5 bg-primary",onClick:function(){D(!1),I(!1)},children:Object(C.jsx)(y.a,{id:"button.Back"})})]})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(p.a,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"10%",fontSize:"20px"},children:[Object(C.jsxs)(k.a,{xxs:"2",children:[Object(C.jsx)(v.a,{className:"data-style-1",children:Object(C.jsx)(y.a,{id:"menu.institutes"})}),Object(C.jsx)("h2",{children:J.label})]}),Object(C.jsxs)(k.a,{xxs:"2",children:[Object(C.jsx)(v.a,{className:"data-style-1",children:Object(C.jsx)(y.a,{id:"attendance.departmentLabel"})}),Object(C.jsx)("h2",{children:K.label})]}),Object(C.jsxs)(k.a,{xxs:"2",children:[Object(C.jsx)(v.a,{className:"data-style-1",children:Object(C.jsx)(y.a,{id:"marks.ClassLabel"})}),Object(C.jsx)("h2",{children:U.label})]}),Object(C.jsxs)(k.a,{xxs:"2",children:[Object(C.jsx)(v.a,{className:"data-style-1",children:Object(C.jsx)(y.a,{id:"forms.StudyTimeLabel"})}),Object(C.jsx)("h2",{children:ce.label})]}),Object(C.jsxs)(k.a,{xxs:"2",children:[Object(C.jsx)(v.a,{className:"data-style-1",children:Object(C.jsx)(y.a,{id:"curriculum.eduactionalYearList"})}),Object(C.jsx)("h2",{children:ie.label})]}),Object(C.jsxs)(k.a,{xxs:"2",children:[Object(C.jsx)(v.a,{className:"data-style-1",children:Object(C.jsx)(y.a,{id:"forms.totolEducationalDays"})}),Object(C.jsx)("h2",{children:"\u062f\u06cc\u0646\u0627\u0645\u06cc\u06a9 \u06af\u0631\u062f\u062f"})]})]}),Object(C.jsx)(j.c,{enableReinitialize:!0,initialValues:E,onSubmit:Pe,children:function(e){var t=e.errors,s=e.touched,l=(e.values,e.setFieldTouched,e.setFieldValue,e.handleSubmit);e.handleChange;return Object(C.jsxs)(j.b,{className:"av-tooltip tooltip-label-right ",children:[Object(C.jsx)(p.a,{className:"justify-content-center  border border",style:{marginInline:"10%",overflowY:"scroll",overflowX:"hidden"},children:Object(C.jsxs)("table",{class:"table ",children:[Object(C.jsx)("thead",{className:"thead-dark ",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{colspan:"4",className:"border text-center list-header-1",children:Object(C.jsx)(y.a,{id:"marks.studentChar"})}),Object(C.jsx)("th",{colspan:"4",className:"border text-center list-header-1",children:Object(C.jsx)(y.a,{id:"attendance.attendaceDisplayTitle"})})]})}),Object(C.jsx)("thead",{className:"thead-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2 ",children:Object(C.jsx)(y.a,{id:"marks.No"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"marks.FullName"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"marks.FatherName"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"marks.ID"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdPresentLabel"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdAbsentLabel"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdNecessaryWorkLabel"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdSicknessLabel"})})]})}),Object(C.jsx)("tbody",{className:"border border ",style:{height:"200px",overflowY:"scroll",overflowX:"hidden"},children:A.length>0&&A.map((function(e,l){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{fontSize:"20px",minWidth:"50px",textAlign:"center"},className:"pt-0",children:l+1}),Object(C.jsx)("td",{style:{fontSize:"20px",minWidth:"150px",textAlign:"center"},className:"pt-0",children:e.name}),Object(C.jsx)("td",{style:{fontSize:"20px",minWidth:"150px",textAlign:"center"},className:"pt-0",children:e.father_name}),Object(C.jsx)("td",{style:{fontSize:"20px",textAlign:"center",minWidth:"100px"},className:"pt-0",children:e.student_id}),Object(C.jsxs)("td",{className:"mb-2 p-0",children:[Object(C.jsx)("input",{type:"number",className:"form-control",name:"present_hours",onChange:function(t){var s=Le;s[e.student_id]=Object(c.a)(Object(c.a)({},s[e.student_id]),{},Object(a.a)({},t.target.name,t.target.value)),Ye(s)},min:0,max:300,required:!0}),t.present&&s.present?Object(C.jsx)("div",{className:"invalid-feedback d-block",children:t.present}):null]}),Object(C.jsxs)("td",{className:"p-0",children:[Object(C.jsx)("input",{type:"number",className:"form-control",name:"absent_hours",min:"0",max:"300",required:!0,onChange:function(t){var s=Le;s[e.student_id]=Object(c.a)(Object(c.a)({},s[e.student_id]),{},Object(a.a)({},t.target.name,t.target.value)),Ye(s)}}),t.absent&&s.absent?Object(C.jsx)("div",{className:"invalid-feedback d-block",children:t.StdAbsent}):null]}),Object(C.jsxs)("td",{className:"p-0",children:[Object(C.jsx)("input",{type:"number",className:"form-control",name:"necessary_work_hours",min:"0",max:"300",required:!0,onChange:function(t){var s=Le;s[e.student_id]=Object(c.a)(Object(c.a)({},s[e.student_id]),{},Object(a.a)({},t.target.name,t.target.value)),Ye(s)}}),t.necessaryWork&&s.necessaryWork?Object(C.jsx)("div",{className:"invalid-feedback d-block",children:t.necessaryWork}):null]}),Object(C.jsxs)("td",{className:"mb-2 p-0",children:[Object(C.jsx)("input",{type:"number",className:"form-control",name:"sickness_hours",min:"0",max:"300",required:!0,onChange:function(t){var s=Le;s[e.student_id]=Object(c.a)(Object(c.a)({},s[e.student_id]),{},Object(a.a)({},t.target.name,t.target.value)),Ye(s)}}),t.sickness&&s.sickness?Object(C.jsx)("div",{className:"invalid-feedback d-block",children:t.sickness}):null]})]},e.id)}))}),Object(C.jsx)("tfoot",{className:"thead-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:Object(C.jsx)(y.a,{id:"marks.No"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"marks.FullName"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"marks.FatherName"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"marks.ID"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdPresentLabel"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdAbsentLabel"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdNecessaryWorkLabel"})}),Object(C.jsx)("th",{scope:"col",className:"border text-center list-header-2",children:Object(C.jsx)(y.a,{id:"forms.StdSicknessLabel"})})]})})]})}),Object(C.jsx)(p.a,{className:" justify-content-center",children:Object(C.jsxs)(k.a,{xxs:"10",className:"m-5",children:[Object(C.jsx)(N.a,{color:"primary",className:"buttonStyle1",size:"lg",style:{margin:"5% 6% 10% 8%"},onClick:function(){return D(!1)},children:Object(C.jsx)(y.a,{id:"button.Back"})}),Object(C.jsx)(N.a,{color:"primary",className:" float-right buttonStyle1",size:"lg",style:{margin:"5% 0% 10% 6%"},onClick:l,children:Object(C.jsx)(y.a,{id:"button.SubmitButton"})})]})})]})}})]})}):Object(C.jsx)(j.c,{enableReinitialize:!0,initialValues:E,onSubmit:Ae,validationSchema:q,children:function(e){var t=e.errors,s=e.touched,a=e.values,c=e.setFieldTouched,l=e.setFieldValue;return Object(C.jsxs)(j.b,{className:"av-tooltip tooltip-label-right style ",children:[Object(C.jsxs)(p.a,{className:"m-5",children:[Object(C.jsxs)(k.a,{xxs:"6",children:[Object(C.jsxs)(f.a,{className:"form-group has-float-label error-l-150 ",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"forms.InstituteLabel"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"institute",id:"institute",value:a.institute,options:We,onChange:l,onBlur:c,onClick:R(a.institute)}),t.institute&&s.institute?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.institute}):null]}),Object(C.jsxs)(f.a,{className:"form-group has-float-label mt-5 error-l-150 ",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"curriculum.eduactionalYearLabel"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"educationalYear",id:"educationalYear",value:a.educationalYear,options:u.n,onChange:l,onClick:de(a.educationalYear),onBlur:c}),t.educationalYear&&s.educationalYear?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.educationalYear}):null]}),Object(C.jsxs)(f.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"forms.StudyTimeLabel"})}),Object(C.jsx)(S.c,{name:"studyTime",id:"studyTime",value:a.studyTime,options:u.K,onChange:l,onBlur:c,onClick:le(a.studyTime)}),t.studyTime&&s.studyTime?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.studyTime}):null]})]}),Object(C.jsxs)(k.a,{xxs:"6",children:[Object(C.jsxs)(f.a,{className:"form-group has-float-label error-l-150 ",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"marks.ClassLabel"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"classs",id:"classs",value:a.classs,options:De,onChange:l,onBlur:c,onClick:Z(a.classs),required:!0}),t.classs&&s.classs?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.classs}):null]}),Object(C.jsxs)(f.a,{className:"form-group has-float-label mt-5 error-l-150",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"forms.studyDepartment"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"department",id:"department",value:a.department,options:Fe,onChange:l,onBlur:c,onClick:H(a.department),required:!0}),t.department&&s.department?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]})]})]}),Object(C.jsx)(p.a,{children:Object(C.jsx)(k.a,{children:Object(C.jsxs)(N.a,{color:"primary",className:"float-right buttonStyle",size:"lg",type:"submit",style:{margin:"3% 0% 10% 8%"},children:[Object(C.jsxs)("span",{className:"spinner d-inline-block",children:[Object(C.jsx)("span",{className:"bounce1"}),Object(C.jsx)("span",{className:"bounce2"}),Object(C.jsx)("span",{className:"bounce3"})]}),Object(C.jsx)("span",{className:"label",children:Object(C.jsx)(y.a,{id:"button.Next"})})]})})})]})}})})]})})}},380:function(e,t,s){"use strict";t.a=function(){var e=JSON.parse(localStorage.getItem("user"));return console.log("user is here",e.user_id),e.user_id}}}]);
//# sourceMappingURL=attendance-register.2f399741.chunk.js.map