(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[28],{1911:function(e,t,a){"use strict";a.r(t);var s=a(4),c=a.n(s),r=a(14),n=a(145),l=a(6),i=a(179),j=(a(35),a(188)),d=(a(271),a(183)),b=a(189),o=a(462),u=a(1222),x=a(463),O=a(1180),h=a(1181),m=a(670),p=a(148),f=a(152),k=a(182),v=(a(349),a(544)),N=a(12),y=(p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,b.e().shape({institute:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"forms.InstituteErr"})),educationalYear:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"forms.educationYearErr"})),studyTime:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"forms.StudyTimeErr"})),classs:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"marks.ClassErr"})),department:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"teacher.departmentIdErr"}))})),g={institute:[],educationalYear:[],studyTime:[],classs:[],department:[]};t.default=function(e){e.match;var t=Object(l.useState)(!1),a=Object(n.a)(t,2),s=(a[0],a[1],Object(l.useState)(!1)),b=Object(n.a)(s,2),S=b[0],w=b[1],L=Object(l.useState)([]),C=Object(n.a)(L,2),T=C[0],q=C[1],Y=Object(l.useState)([]),_=Object(n.a)(Y,2),F=_[0],I=_[1],E=Object(l.useState)([]),B=Object(n.a)(E,2),D=B[0],W=B[1],A=Object(l.useState)([]),J=Object(n.a)(A,2),P=(J[0],J[1]),V=Object(l.useState)([]),z=Object(n.a)(V,2),G=z[0],K=z[1],H=Object(l.useState)(""),M=Object(n.a)(H,2),Q=M[0],R=M[1],U=Object(l.useState)(""),X=Object(n.a)(U,2),Z=X[0],$=X[1],ee=Object(l.useState)(""),te=Object(n.a)(ee,2),ae=te[0],se=te[1],ce=Object(l.useState)(""),re=Object(n.a)(ce,2),ne=(re[0],re[1],Object(l.useState)("")),le=Object(n.a)(ne,2),ie=le[0],je=le[1],de=Object(l.useState)(""),be=Object(n.a)(de,2),oe=be[0],ue=be[1],xe=Object(l.useState)(55),Oe=Object(n.a)(xe,2),he=(Oe[0],Oe[1],Object(l.useState)()),me=Object(n.a)(he,2),pe=(me[0],me[1],Object(l.useState)()),fe=Object(n.a)(pe,2),ke=(fe[0],fe[1],function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)("institute/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,q(a),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ve=function(){var e=Object(r.a)(c.a.mark((function e(t){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(j.a)("institute/institite-department/?institute=".concat(t.value),"",null);case 4:if(!(a=e.sent).data||200!==a.status){e.next=14;break}return console.log("response of department",a),e.next=9,a.data.map((function(e){return{value:e.department.id,label:e.department.name}}));case 9:s=e.sent,console.log("updatedData of department",s),I(s),e.next=15;break;case 14:console.log("department error");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)("institute/subject/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,P(a),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)("institute/classs/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:a=e.sent,W(a),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){ke(),ye(),Ne()}),[]),Object(l.useEffect)((function(){Q&&(console.log("selectedInstitute",Q),ve(Q))}),[Q]);var ge=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)("students/stdattendence_by/?institute=".concat(Q.value,"&classs=").concat(ae.value,"&shift=").concat(ie.value,"&department=").concat(Z.value,"&educational_year=").concat(oe.value),"GET",null);case 2:t=e.sent,console.log("attendance repspossdfsde",t),t.data&&200===t.status?(K(t.data),console.log("response.data.students",t.data),w(!0)):console.log("attendance error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(o.a,{children:[Object(N.jsx)("div",{className:"mt-4 ml-5",children:Object(N.jsx)("h2",{className:" m-5  titleStyle",children:Object(N.jsx)(p.a,{id:"menu.class_attendance"})})}),Object(N.jsx)(u.a,{children:S?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(x.a,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"10%"},children:[Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(p.a,{id:"forms.FieldLabel"})}),console.log("selectedDepartment",Z),Object(N.jsx)("h6",{children:Z.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(p.a,{id:"marks.ClassLabel"})}),Object(N.jsx)("h6",{children:ae.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(p.a,{id:"forms.StudyTimeLabel"})}),Object(N.jsx)("h6",{children:ie.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(p.a,{id:"marks.SemesterLabel"})}),Object(N.jsx)("h6",{children:ae.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(p.a,{id:"marks.SectionLabel"})}),Object(N.jsx)("h6",{children:ae.label})]})]}),Object(N.jsxs)(x.a,{className:"justify-content-center  border border",style:{marginInline:"10%"},children:[G.length>0?Object(N.jsxs)("table",{className:"table",children:[Object(N.jsx)("thead",{className:"thead-dark ",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{colspan:"4",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.studentChar"})}),Object(N.jsx)("th",{colspan:"4",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.marksDisplayTitle"})})]})}),Object(N.jsx)("thead",{className:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:Object(N.jsx)(p.a,{id:"marks.No"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FullName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FatherName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.ID"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdPresentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdAbsentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdNecessaryWorkLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdSicknessLabel"})})]})}),Object(N.jsx)("tbody",{children:G.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:t+1}),Object(N.jsx)("td",{children:e.student.name}),Object(N.jsx)("td",{children:e.student.father_name}),Object(N.jsx)("td",{children:e.student.student_id}),Object(N.jsx)("td",{children:e.present_hours}),Object(N.jsx)("td",{children:e.absent_hours}),Object(N.jsx)("td",{children:e.necessary_work_hours}),Object(N.jsx)("td",{children:e.sickness_hours})]})}))})]}):Object(N.jsx)(v.a,{type:"error",message:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc"}),Object(N.jsx)("table",{class:"table",children:Object(N.jsx)("tbody",{className:"border"})})]}),Object(N.jsx)(x.a,{className:"justify-content-center  border border",style:{marginInline:"10%"},children:Object(N.jsx)("table",{class:"table ",children:Object(N.jsx)("tfoot",{className:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:Object(N.jsx)(p.a,{id:"marks.No"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FullName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FatherName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.ID"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdPresentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdAbsentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdNecessaryWorkLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdSicknessLabel"})})]})})})}),Object(N.jsx)(x.a,{className:" justify-content-center",children:Object(N.jsx)(f.a,{xxs:"9",className:"m-5",children:Object(N.jsx)(m.a,{className:" m-4",onClick:function(){return w(!1)},children:Object(N.jsx)(p.a,{id:"button.Back"})})})})]}):Object(N.jsx)(i.c,{initialValues:g,onSubmit:ge,validationSchema:y,children:function(e){var t=e.errors,a=e.touched,s=e.values,c=e.setFieldTouched,r=e.setFieldValue;return Object(N.jsxs)(i.b,{className:"av-tooltip tooltip-label-right style ",children:[Object(N.jsxs)(x.a,{className:"m-5",children:[Object(N.jsxs)(f.a,{xxs:"6",children:[Object(N.jsxs)(O.a,{className:"form-group has-float-label error-l-150 ",children:[Object(N.jsxs)(h.a,{children:[Object(N.jsx)(p.a,{id:"forms.InstituteLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"institute",id:"institute",value:s.institute,options:T,onChange:r,onBlur:c,onClick:R(s.institute)}),t.institute&&a.institute?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle ",children:t.institute}):null]}),Object(N.jsxs)(O.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(N.jsxs)(h.a,{children:[Object(N.jsx)(p.a,{id:"forms.StudyTimeLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"studyTime",id:"studyTime",value:s.studyTime,options:d.K,onChange:r,onBlur:c,onClick:je(s.studyTime)}),t.studyTime&&a.studyTime?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]}),Object(N.jsxs)(O.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(p.a,{id:"forms.educationYearLabel"})}),Object(N.jsx)(k.c,{name:"educationalYear",id:"educationalYear",options:d.n,onChange:r,onBlur:c,onClick:ue(s.educationalYear)}),t.educationalYear&&a.educationalYear?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.educationalYear}):null]})]}),Object(N.jsxs)(f.a,{xxs:"6",children:[Object(N.jsxs)(O.a,{className:"form-group has-float-label error-l-150 ",children:[Object(N.jsxs)(h.a,{children:[Object(N.jsx)(p.a,{id:"marks.ClassLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"classs",id:"classs",value:s.classs,options:D,onChange:r,onBlur:c,onClick:se(s.classs),required:!0}),t.classs&&a.classs?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.classs}):null]}),Object(N.jsxs)(O.a,{className:"form-group has-float-label mt-5 error-l-150",children:[Object(N.jsxs)(h.a,{children:[Object(N.jsx)(p.a,{id:"forms.studyDepartment"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"department",id:"department",value:s.department,options:F,onChange:r,onBlur:c,onClick:$(s.department),required:!0}),t.department&&a.department?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]})]})]}),Object(N.jsx)(x.a,{children:Object(N.jsx)(f.a,{children:Object(N.jsx)(m.a,{color:"primary",className:"float-right buttonStyle",size:"lg",type:"submit",style:{margin:"3% 0% 9% 8%"},children:Object(N.jsx)("span",{className:"label",children:Object(N.jsx)(p.a,{id:"button.Next"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=attendance.b392e7d4.chunk.js.map