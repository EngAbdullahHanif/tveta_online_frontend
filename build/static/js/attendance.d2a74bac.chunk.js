"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[7779],{47368:function(e,s,t){t.r(s);var r=t(74165),a=t(15861),n=t(29439),l=t(50390),c=t(16295),i=t(32121),d=(t(48907),t(830)),o=t(49360),u=t(31833),x=t(14237),h=t(14778),m=t(64884),j=t(94048),Z=t(16778),p=t(37671),b=t(16905),f=t(39873),k=t(26129),y=t(62559),v=(p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,p.Z,o.Ry().shape({institute:o.Ry().shape({value:o.Z_().required()}).nullable().required((0,y.jsx)(p.Z,{id:"forms.InstituteErr"})),educationalYear:o.Ry().shape({value:o.Z_().required()}).nullable().required((0,y.jsx)(p.Z,{id:"forms.educationYearErr"})),studyTime:o.Ry().shape({value:o.Z_().required()}).nullable().required((0,y.jsx)(p.Z,{id:"forms.StudyTimeErr"})),classs:o.Ry().shape({value:o.Z_().required()}).nullable().required((0,y.jsx)(p.Z,{id:"marks.ClassErr"})),department:o.Ry().shape({value:o.Z_().required()}).nullable().required((0,y.jsx)(p.Z,{id:"teacher.departmentIdErr"}))})),N={institute:[],educationalYear:[],studyTime:[],classs:[],department:[]};s.default=function(e){e.match;var s=(0,l.useState)(!1),t=(0,n.Z)(s,2),o=(t[0],t[1],(0,l.useState)(!1)),g=(0,n.Z)(o,2),S=g[0],w=g[1],F=(0,l.useState)([]),C=(0,n.Z)(F,2),L=C[0],_=C[1],T=(0,l.useState)([]),q=(0,n.Z)(T,2),Y=q[0],I=q[1],E=(0,l.useState)([]),B=(0,n.Z)(E,2),D=B[0],R=B[1],W=(0,l.useState)([]),A=(0,n.Z)(W,2),P=(A[0],A[1]),V=(0,l.useState)([]),z=(0,n.Z)(V,2),G=z[0],J=z[1],H=(0,l.useState)(""),K=(0,n.Z)(H,2),M=K[0],O=K[1],Q=(0,l.useState)(""),U=(0,n.Z)(Q,2),X=U[0],$=U[1],ee=(0,l.useState)(""),se=(0,n.Z)(ee,2),te=se[0],re=se[1],ae=(0,l.useState)(""),ne=(0,n.Z)(ae,2),le=(ne[0],ne[1],(0,l.useState)("")),ce=(0,n.Z)(le,2),ie=ce[0],de=ce[1],oe=(0,l.useState)(""),ue=(0,n.Z)(oe,2),xe=ue[0],he=ue[1],me=(0,l.useState)(55),je=(0,n.Z)(me,2),Ze=(je[0],je[1],(0,l.useState)()),pe=(0,n.Z)(Ze,2),be=(pe[0],pe[1],(0,l.useState)()),fe=(0,n.Z)(be,2),ke=(fe[0],fe[1],function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var s,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("institute/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,_(t),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ye=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(s){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&s.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,i.Z)("institute/institite-department/?institute=".concat(s.value),"",null);case 4:if(!(t=e.sent).data||200!==t.status){e.next=14;break}return console.log("response of department",t),e.next=9,t.data.map((function(e){return{value:e.department.id,label:e.department.name}}));case 9:a=e.sent,console.log("updatedData of department",a),I(a),e.next=15;break;case 14:console.log("department error");case 15:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),ve=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var s,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("institute/subject/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,P(t),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var s,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("institute/classs/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:t=e.sent,R(t),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){ke(),Ne(),ve()}),[]),(0,l.useEffect)((function(){M&&(console.log("selectedInstitute",M),ye(M))}),[M]);var ge=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)("students/stdattendence_by/?institute=".concat(M.value,"&classs=").concat(te.value,"&shift=").concat(ie.value,"&department=").concat(X.value,"&educational_year=").concat(xe.value),"GET",null);case 2:s=e.sent,console.log("attendance repspossdfsde",s),s.data&&200===s.status?(J(s.data),console.log("response.data.students",s.data),w(!0)):console.log("attendance error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(u.Z,{children:[(0,y.jsx)("div",{className:"mt-4 ml-5",children:(0,y.jsx)("h2",{className:" m-5  titleStyle",children:(0,y.jsx)(p.Z,{id:"menu.class_attendance"})})}),(0,y.jsx)(x.Z,{children:S?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(h.Z,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"10%"},children:[(0,y.jsxs)(b.F,{xxs:"2",children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(p.Z,{id:"forms.FieldLabel"})}),console.log("selectedDepartment",X),(0,y.jsx)("h6",{children:X.label})]}),(0,y.jsxs)(b.F,{xxs:"2",children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(p.Z,{id:"marks.ClassLabel"})}),(0,y.jsx)("h6",{children:te.label})]}),(0,y.jsxs)(b.F,{xxs:"2",children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(p.Z,{id:"forms.StudyTimeLabel"})}),(0,y.jsx)("h6",{children:ie.label})]}),(0,y.jsxs)(b.F,{xxs:"2",children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(p.Z,{id:"marks.SemesterLabel"})}),(0,y.jsx)("h6",{children:te.label})]}),(0,y.jsxs)(b.F,{xxs:"2",children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(p.Z,{id:"marks.SectionLabel"})}),(0,y.jsx)("h6",{children:te.label})]})]}),(0,y.jsxs)(h.Z,{className:"justify-content-center  border border",style:{marginInline:"10%"},children:[G.length>0?(0,y.jsxs)("table",{className:"table",children:[(0,y.jsx)("thead",{className:"thead-dark ",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{colspan:"4",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.studentChar"})}),(0,y.jsx)("th",{colspan:"4",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.marksDisplayTitle"})})]})}),(0,y.jsx)("thead",{className:"thead-dark",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:(0,y.jsx)(p.Z,{id:"marks.No"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.FullName"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.FatherName"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.ID"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdPresentLabel"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdAbsentLabel"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdNecessaryWorkLabel"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdSicknessLabel"})})]})}),(0,y.jsx)("tbody",{children:G.map((function(e,s){return(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{scope:"row",children:s+1}),(0,y.jsx)("td",{children:e.student.name}),(0,y.jsx)("td",{children:e.student.father_name}),(0,y.jsx)("td",{children:e.student.student_id}),(0,y.jsx)("td",{children:e.present_hours}),(0,y.jsx)("td",{children:e.absent_hours}),(0,y.jsx)("td",{children:e.necessary_work_hours}),(0,y.jsx)("td",{children:e.sickness_hours})]})}))})]}):(0,y.jsx)(k.Z,{type:"error",message:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc"}),(0,y.jsx)("table",{class:"table",children:(0,y.jsx)("tbody",{className:"border"})})]}),(0,y.jsx)(h.Z,{className:"justify-content-center  border border",style:{marginInline:"10%"},children:(0,y.jsx)("table",{class:"table ",children:(0,y.jsx)("tfoot",{className:"thead-dark",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:(0,y.jsx)(p.Z,{id:"marks.No"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.FullName"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.FatherName"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"marks.ID"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdPresentLabel"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdAbsentLabel"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdNecessaryWorkLabel"})}),(0,y.jsx)("th",{scope:"col",className:"border text-center",children:(0,y.jsx)(p.Z,{id:"forms.StdSicknessLabel"})})]})})})}),(0,y.jsx)(h.Z,{className:" justify-content-center",children:(0,y.jsx)(b.F,{xxs:"9",className:"m-5",children:(0,y.jsx)(Z.Z,{className:" m-4",onClick:function(){return w(!1)},children:(0,y.jsx)(p.Z,{id:"button.Back"})})})})]}):(0,y.jsx)(c.J9,{initialValues:N,onSubmit:ge,validationSchema:v,children:function(e){var s=e.errors,t=e.touched,r=e.values,a=e.setFieldTouched,n=e.setFieldValue;return(0,y.jsxs)(c.l0,{className:"av-tooltip tooltip-label-right style ",children:[(0,y.jsxs)(h.Z,{className:"m-5",children:[(0,y.jsxs)(b.F,{xxs:"6",children:[(0,y.jsxs)(m.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,y.jsxs)(j.Z,{children:[(0,y.jsx)(p.Z,{id:"forms.InstituteLabel"}),(0,y.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,y.jsx)(f.ju,{name:"institute",id:"institute",value:r.institute,options:L,onChange:n,onBlur:a,onClick:O(r.institute)}),s.institute&&t.institute?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle ",children:s.institute}):null]}),(0,y.jsxs)(m.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,y.jsxs)(j.Z,{children:[(0,y.jsx)(p.Z,{id:"forms.StudyTimeLabel"}),(0,y.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,y.jsx)(f.ju,{name:"studyTime",id:"studyTime",value:r.studyTime,options:d.Zp,onChange:n,onBlur:a,onClick:de(r.studyTime)}),s.studyTime&&t.studyTime?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.studyTime}):null]}),(0,y.jsxs)(m.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,y.jsx)(j.Z,{children:(0,y.jsx)(p.Z,{id:"forms.educationYearLabel"})}),(0,y.jsx)(f.ju,{name:"educationalYear",id:"educationalYear",options:d.Ar,onChange:n,onBlur:a,onClick:he(r.educationalYear)}),s.educationalYear&&t.educationalYear?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:s.educationalYear}):null]})]}),(0,y.jsxs)(b.F,{xxs:"6",children:[(0,y.jsxs)(m.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,y.jsxs)(j.Z,{children:[(0,y.jsx)(p.Z,{id:"marks.ClassLabel"}),(0,y.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,y.jsx)(f.ju,{name:"classs",id:"classs",value:r.classs,options:D,onChange:n,onBlur:a,onClick:re(r.classs),required:!0}),s.classs&&t.classs?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.classs}):null]}),(0,y.jsxs)(m.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,y.jsxs)(j.Z,{children:[(0,y.jsx)(p.Z,{id:"forms.studyDepartment"}),(0,y.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,y.jsx)(f.ju,{name:"department",id:"department",value:r.department,options:Y,onChange:n,onBlur:a,onClick:$(r.department),required:!0}),s.department&&t.department?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.department}):null]})]})]}),(0,y.jsx)(h.Z,{children:(0,y.jsx)(b.F,{children:(0,y.jsx)(Z.Z,{color:"primary",className:"float-right buttonStyle",size:"lg",type:"submit",style:{margin:"3% 0% 9% 8%"},children:(0,y.jsx)("span",{className:"label",children:(0,y.jsx)(p.Z,{id:"button.Next"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=attendance.d2a74bac.chunk.js.map