(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[28],{1893:function(e,t,s){"use strict";s.r(t);var a=s(4),c=s.n(a),r=s(14),n=s(145),l=s(6),i=s(194),d=(s(35),s(196)),j=(s(387),s(193)),b=s(206),o=s(581),u=s(1283),x=s(582),h=s(1237),O=s(1238),m=s(561),p=s(147),f=s(153),k=s(197),v=(s(472),s(658)),N=s(12),g=(p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,p.a,b.e().shape({institute:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"forms.InstituteErr"})),educationalYear:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"forms.educationYearErr"})),studyTime:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"forms.StudyTimeErr"})),classs:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"marks.ClassErr"})),department:b.e().shape({value:b.f().required()}).nullable().required(Object(N.jsx)(p.a,{id:"teacher.departmentIdErr"}))})),y={institute:[],educationalYear:[],studyTime:[],classs:[],department:[]};t.default=function(e){e.match;var t=Object(l.useState)(!1),s=Object(n.a)(t,2),a=(s[0],s[1],Object(l.useState)(!1)),b=Object(n.a)(a,2),S=b[0],w=b[1],L=Object(l.useState)([]),C=Object(n.a)(L,2),T=C[0],q=C[1],Y=Object(l.useState)([]),I=Object(n.a)(Y,2),_=I[0],F=I[1],E=Object(l.useState)([]),B=Object(n.a)(E,2),D=B[0],W=B[1],A=Object(l.useState)([]),J=Object(n.a)(A,2),P=(J[0],J[1]),V=Object(l.useState)([]),X=Object(n.a)(V,2),z=X[0],G=X[1],H=Object(l.useState)(""),K=Object(n.a)(H,2),M=K[0],Q=K[1],R=Object(l.useState)(""),U=Object(n.a)(R,2),Z=U[0],$=U[1],ee=Object(l.useState)(""),te=Object(n.a)(ee,2),se=te[0],ae=te[1],ce=Object(l.useState)(""),re=Object(n.a)(ce,2),ne=(re[0],re[1],Object(l.useState)("")),le=Object(n.a)(ne,2),ie=le[0],de=le[1],je=Object(l.useState)(""),be=Object(n.a)(je,2),oe=be[0],ue=be[1],xe=Object(l.useState)(55),he=Object(n.a)(xe,2),Oe=(he[0],he[1],Object(l.useState)()),me=Object(n.a)(Oe,2),pe=(me[0],me[1],Object(l.useState)()),fe=Object(n.a)(pe,2),ke=(fe[0],fe[1],function(){var e=Object(r.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("institute/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,q(s),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ve=function(){var e=Object(r.a)(c.a.mark((function e(t){var s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d.a)("institute/institite-department/?institute=".concat(t.value),"",null);case 4:if(!(s=e.sent).data||200!==s.status){e.next=14;break}return console.log("response of department",s),e.next=9,s.data.map((function(e){return{value:e.department.id,label:e.department.name}}));case 9:a=e.sent,console.log("updatedData of department",a),F(a),e.next=15;break;case 14:console.log("department error");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("institute/subject/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,P(s),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("institute/classs/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:s=e.sent,W(s),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){ke(),ge(),Ne()}),[]),Object(l.useEffect)((function(){M&&(console.log("selectedInstitute",M),ve(M))}),[M]);var ye=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("students/stdattendence_by/?institute=".concat(M.value,"&classs=").concat(se.value,"&shift=").concat(ie.value,"&department=").concat(Z.value,"&educational_year=").concat(oe.value),"GET",null);case 2:t=e.sent,console.log("attendance repspossdfsde",t),t.data&&200===t.status?(G(t.data),console.log("response.data.students",t.data),w(!0)):console.log("attendance error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(o.a,{children:[Object(N.jsx)("div",{className:"mt-4 ml-5",children:Object(N.jsx)("h2",{className:" m-5  titleStyle",children:Object(N.jsx)(p.a,{id:"menu.class_attendance"})})}),Object(N.jsx)(u.a,{children:S?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(x.a,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"10%"},children:[Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(p.a,{id:"forms.FieldLabel"})}),console.log("selectedDepartment",Z),Object(N.jsx)("h6",{children:Z.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(p.a,{id:"marks.ClassLabel"})}),Object(N.jsx)("h6",{children:se.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(p.a,{id:"forms.StudyTimeLabel"})}),Object(N.jsx)("h6",{children:ie.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(p.a,{id:"marks.SemesterLabel"})}),Object(N.jsx)("h6",{children:se.label})]}),Object(N.jsxs)(f.a,{xxs:"2",children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(p.a,{id:"marks.SectionLabel"})}),Object(N.jsx)("h6",{children:se.label})]})]}),Object(N.jsx)(x.a,{className:"justify-content-center  border border",style:{marginInline:"10%"},children:z.length>0?Object(N.jsxs)("table",{className:"table",children:[Object(N.jsx)("thead",{className:"thead-dark ",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{colspan:"4",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.studentChar"})}),Object(N.jsx)("th",{colspan:"4",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.marksDisplayTitle"})})]})}),Object(N.jsx)("thead",{className:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:Object(N.jsx)(p.a,{id:"marks.No"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FullName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FatherName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.ID"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdPresentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdAbsentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdNecessaryWorkLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdSicknessLabel"})})]})})]}):Object(N.jsx)(v.a,{type:"error",message:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc"})}),Object(N.jsx)(x.a,{className:"justify-content-center  border border",style:{marginInline:"10%",height:"30rem",overflowY:"scroll",overflowX:"hidden"},children:Object(N.jsx)("table",{class:"table ",children:Object(N.jsx)("tbody",{className:"border border ",style:{height:"200px",overflowY:"scroll",overflowX:"hidden"},children:z.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:t+1}),Object(N.jsx)("td",{children:e.student.name}),Object(N.jsx)("td",{children:e.student.father_name}),Object(N.jsx)("td",{children:e.student.student_id}),Object(N.jsx)("td",{children:e.present_hours}),Object(N.jsx)("td",{children:e.absent_hours}),Object(N.jsx)("td",{children:e.necessary_work_hours}),Object(N.jsx)("td",{children:e.sickness_hours})]})}))})})}),Object(N.jsx)(x.a,{className:"justify-content-center  border border",style:{marginInline:"10%"},children:Object(N.jsxs)("table",{class:"table ",children:[Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{}),Object(N.jsx)("td",{}),Object(N.jsx)("td",{}),Object(N.jsx)("td",{})]})}),Object(N.jsx)("tfoot",{className:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",className:"border text-center ",style:{maxWidth:"20px ",minWidth:"50px"},children:Object(N.jsx)(p.a,{id:"marks.No"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FullName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.FatherName"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"marks.ID"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdPresentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdAbsentLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdNecessaryWorkLabel"})}),Object(N.jsx)("th",{scope:"col",className:"border text-center",children:Object(N.jsx)(p.a,{id:"forms.StdSicknessLabel"})})]})})]})}),Object(N.jsx)(x.a,{className:" justify-content-center",children:Object(N.jsx)(f.a,{xxs:"9",className:"m-5",children:Object(N.jsx)(m.a,{className:" m-4",onClick:function(){return w(!1)},children:Object(N.jsx)(p.a,{id:"button.Back"})})})})]}):Object(N.jsx)(i.c,{initialValues:y,onSubmit:ye,validationSchema:g,children:function(e){var t=e.errors,s=e.touched,a=e.values,c=e.setFieldTouched,r=e.setFieldValue;return Object(N.jsxs)(i.b,{className:"av-tooltip tooltip-label-right style ",children:[Object(N.jsxs)(x.a,{className:"m-5",children:[Object(N.jsxs)(f.a,{xxs:"6",children:[Object(N.jsxs)(h.a,{className:"form-group has-float-label error-l-150 ",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(p.a,{id:"forms.InstituteLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"institute",id:"institute",value:a.institute,options:T,onChange:r,onBlur:c,onClick:Q(a.institute)}),t.institute&&s.institute?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle ",children:t.institute}):null]}),Object(N.jsxs)(h.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(p.a,{id:"forms.StudyTimeLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"studyTime",id:"studyTime",value:a.studyTime,options:j.L,onChange:r,onBlur:c,onClick:de(a.studyTime)}),t.studyTime&&s.studyTime?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]}),Object(N.jsxs)(h.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(N.jsx)(O.a,{children:Object(N.jsx)(p.a,{id:"forms.educationYearLabel"})}),Object(N.jsx)(k.c,{name:"educationalYear",id:"educationalYear",options:j.o,onChange:r,onBlur:c,onClick:ue(a.educationalYear)}),t.educationalYear&&s.educationalYear?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.educationalYear}):null]})]}),Object(N.jsxs)(f.a,{xxs:"6",children:[Object(N.jsxs)(h.a,{className:"form-group has-float-label error-l-150 ",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(p.a,{id:"marks.ClassLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"classs",id:"classs",value:a.classs,options:D,onChange:r,onBlur:c,onClick:ae(a.classs),required:!0}),t.classs&&s.classs?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.classs}):null]}),Object(N.jsxs)(h.a,{className:"form-group has-float-label mt-5 error-l-150",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(p.a,{id:"forms.studyDepartment"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(k.c,{name:"department",id:"department",value:a.department,options:_,onChange:r,onBlur:c,onClick:$(a.department),required:!0}),t.department&&s.department?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]})]})]}),Object(N.jsx)(x.a,{children:Object(N.jsx)(f.a,{children:Object(N.jsx)(m.a,{color:"primary",className:"float-right buttonStyle",size:"lg",type:"submit",style:{margin:"3% 0% 9% 8%"},children:Object(N.jsx)("span",{className:"label",children:Object(N.jsx)(p.a,{id:"button.Next"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=attendance.d7e2ef80.chunk.js.map