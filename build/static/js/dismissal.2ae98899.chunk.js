(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[61],{1866:function(e,s,t){"use strict";t.r(s);var a=t(4),c=t.n(a),n=t(14),l=t(148),i=t(6),r=t(199),d=(t(401),t(450),t(498),t(41)),j=(t(443),t(490)),b=(t(35),t(228)),o=t(221),m=t(614),h=t(1315),u=t(615),x=t(1277),O=t(595),p=t(1276),f=t(601),g=t(553),y=t(1278),N=t(150),v=t(156),S=(t(201),t(247)),k=t(690),D=t(12),_=S.a.API_URL;"".concat(_,"/institute/"),"".concat(_,"/api/student_accademic/"),"".concat(_,"/api/student-transfer/");s.default=function(e){var s=Object(i.useState)(""),t=Object(l.a)(s,2),a=t[0],S=t[1],_=Object(i.useState)(""),w=Object(l.a)(_,2),L=w[0],I=w[1],z=Object(i.useState)(!1),B=Object(l.a)(z,2),C=(B[0],B[1]),F=Object(i.useState)(""),R=Object(l.a)(F,2),T=(R[0],R[1]),P=Object(i.useState)(!0),V=Object(l.a)(P,2),A=V[0],E=V[1],H=Object(i.useState)(),J=Object(l.a)(H,2),U=(J[0],J[1],Object(i.useState)(!1)),q=Object(l.a)(U,2),K=q[0],G=q[1],M=(o.e().shape({searchfield:o.f().min(4,Object(D.jsx)(N.a,{id:"min.invalidId"})).max(10,Object(D.jsx)(N.a,{id:"max.invalidId"})).required(Object(D.jsx)(N.a,{id:"search.studentIdsearchErr"}))}),{searchfield:"",dismissalDate:"",dismissalDocument:void 0}),Q=function(e){E(e),C(!0)},W=Object(i.useState)(!0),X=Object(l.a)(W,2),Y=X[0],Z=X[1],$=Object(i.useState)(!1),ee=Object(l.a)($,2),se=ee[0],te=ee[1],ae=function(e,s){var t=s||"";switch(e){case"success":d.b.success("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u0645\u0646\u0641\u06a9 \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",9e3,null,null,t);break;case"info":d.b.info("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0627\u0646\u0633\u062a\u06cc\u0648\u062a \u06a9\u06cc \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc","\u062a\u06cc\u0631\u0648\u062a\u0646\u0647",9e3,null,null,t);break;case"error":d.b.error("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u0645\u0646\u0641\u06a9 \u0646\u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,t);break;default:d.b.info("Info message")}},ce=function(){var e=Object(n.a)(c.a.mark((function e(s,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(s),e.next=3,Object(b.a)("students/student_accademic/?student_id=".concat(a),"",null);case 3:n=e.sent,console.log("repsonse is: ",n),n&&200===n.status?(a==n.data.student_id?te(!0):te(!1),n.data?(I(n.data),C(!0)):T("Student not found")):console.log("student search error");case 6:case"end":return e.stop()}}),e)})));return function(s,t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(n.a)(c.a.mark((function e(s){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("student_id",a),t.append("dismiss_date",s.dismissalDate),s.dismissalDocument&&t.append("dismiss_proof",s.dismissalDocument),console.log("file is ",s.dismissalDocument),e.prev=5,e.next=8,Object(b.a)("students/student-dissmiss/","POST",t);case 8:200!==(n=e.sent).status&&201!==n.status||(console.log("success"),ae("success","filled"),G(!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),"Resource not found"===e.t0.message?(console.log("student not found"),ae("info","filled")):(console.log("An error occurred:",e.t0.message),ae("error","filled"));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(s){return e.apply(this,arguments)}}();return console.log("reload, isNext, searchResult,",K,A,Y),Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(m.a,{children:[Object(D.jsx)("div",{className:"mt-4 ml-5",children:Object(D.jsx)("h2",{className:" m-5  titleStyle",children:Object(D.jsx)(N.a,{id:"student.dismissalTitleFromInstitute"})})}),Object(D.jsx)(h.a,{children:K?Object(D.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{className:"mb-2",children:Object(D.jsx)(N.a,{id:"wizard.content-thanks"})}),Object(D.jsx)("h3",{children:Object(D.jsx)(N.a,{id:"wizard.registered"})}),Object(D.jsx)(O.a,{className:"m-5 bg-primary",onClick:function(){G(!1),E(!0),ce(!0)},children:Object(D.jsx)(N.a,{id:"button.Back"})})]})}):Object(D.jsx)(D.Fragment,{children:A?Object(D.jsx)(D.Fragment,{children:Y?Object(D.jsx)(u.a,{className:"justify-content-center inlineBlock",children:Object(D.jsx)(v.a,{children:Object(D.jsx)(r.c,{initialValues:M,onSubmit:ce,children:function(e){var s=e.values,t=e.errors,a=e.touched,c=(e.handleChange,e.handleBlur,e.handleSubmit);e.isSubmitting;return Object(D.jsxs)(r.b,{className:"av-tooltip tooltip-label-bottom style",onSubmit:c,style:{minHeight:"300px"},children:[Object(D.jsxs)(x.a,{children:[Object(D.jsx)(N.a,{id:"search.studentIdSearchLabel"}),Object(D.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(D.jsxs)("div",{class:"input-group mb-3 error-l-175 ",children:[Object(D.jsx)("div",{class:"input-group-prepend",children:Object(D.jsxs)(O.a,{size:"lg",style:{fontSize:"80%"},type:"submit",color:"primary",onClick:function(){return ce(!1)},children:[Object(D.jsxs)("span",{className:"spinner d-inline-block",children:[Object(D.jsx)("span",{className:"bounce1"}),Object(D.jsx)("span",{className:"bounce2"}),Object(D.jsx)("span",{className:"bounce3"})]}),Object(D.jsx)("span",{className:"label",children:Object(D.jsx)(N.a,{id:"search.studentId"})})]})}),Object(D.jsx)(r.a,{className:"form-control fieldStyle",name:"searchfield",type:"text",onKeyUp:function(){return S(s.searchfield)}}),t.searchfield&&a.searchfield?Object(D.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.searchfield}):null]})]})}})})}):Object(D.jsx)(u.a,{className:"justify-content-center inlineBlock",children:Object(D.jsx)(v.a,{style:{paddingInline:"3%"},children:se?Object(D.jsxs)("div",{className:"border rounded",children:[Object(D.jsx)(x.a,{children:Object(D.jsx)("h3",{className:"mt-5 m-5 data-style",children:Object(D.jsx)(N.a,{id:"dorm.SearchResult"})})})," ",Object(D.jsxs)(u.a,{children:[Object(D.jsx)(v.a,{xxs:"1"}),Object(D.jsxs)(v.a,{children:[Object(D.jsx)("img",{src:L.photo,alt:"student's photo",width:"10%"})," "]})]}),Object(D.jsx)(u.a,{children:Object(D.jsx)(v.a,{children:Object(D.jsxs)("div",{children:[Object(D.jsxs)(u.a,{className:"justify-content-center border border-primary rounded m-5",children:[Object(D.jsxs)(v.a,{className:" p-5  border rounded",xxs:"",children:[Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"teacher.NameLabel"})}),Object(D.jsx)("h2",{children:L.student_name}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"teacher.FatherNameLabel"})}),Object(D.jsx)("h2",{children:L.father_name}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"teacher.PhoneNoLabel"})}),Object(D.jsx)("h2",{children:L.phone_number}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"teacher.EmailLabel"})}),Object(D.jsx)("h2",{children:L.email}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"forms.InstituteLabel"})}),Object(D.jsx)("h2",{children:L.institute_name}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"marks.ClassLabel"})}),Object(D.jsx)("h2",{children:"\u062f\u06cc\u0627\u0631\u0644\u0633\u0645/ \u0633\u06cc\u0632\u062f\u0647\u0645"}),Object(D.jsx)("h2",{children:L.class_name})]}),Object(D.jsxs)(v.a,{className:"p-5 border rounded",children:[Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"field.SemesterLabel"})}),Object(D.jsx)("h2",{children:L.semester}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"forms.studyDepartment"})}),Object(D.jsx)("h2",{children:L.department_name}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"forms.ProvinceLabel"})}),Object(D.jsx)("h2",{children:L.current_province}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"forms.DistrictLabel"})}),Object(D.jsx)("h2",{children:L.current_district}),Object(D.jsx)(x.a,{className:"data-style",children:Object(D.jsx)(N.a,{id:"forms.VillageLabel"})}),Object(D.jsx)("h2",{children:L.current_village})]})]}),Object(D.jsxs)(u.a,{children:[Object(D.jsx)(v.a,{style:{marginRight:"10%"},children:Object(D.jsx)(O.a,{color:"primary",className:"buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 6% 15% 8%",paddingInline:"10%"},onClick:function(){ce(!0),te(!1)},children:Object(D.jsx)("span",{className:"label",children:Object(D.jsx)(N.a,{id:"button.Back"})})})}),Object(D.jsx)(v.a,{style:{marginLeft:"10%"},children:Object(D.jsx)(O.a,{color:"primary",className:" float-right buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 0% 15% 6%",paddingInline:"10%"},onClick:function(){return Q(!1)},children:Object(D.jsx)("span",{className:"label",children:Object(D.jsx)(N.a,{id:"student.buttonDismissal"})})})})]})]})})})]}):Object(D.jsxs)("div",{style:{minHeight:"300px"},children:[Object(D.jsx)(x.a,{children:Object(D.jsx)("h2",{className:"mt-5 m-5",children:Object(D.jsx)(N.a,{id:"dorm.SearchResult"})})}),Object(D.jsx)(u.a,{className:"justify-content-left mb-5",children:Object(D.jsx)(v.a,{xxs:"8",className:"text-left",children:Object(D.jsx)("h1",{className:"text-center",children:Object(D.jsx)(k.a,{type:"error",message:Object(D.jsx)(N.a,{id:"forms.NoData"})})})})}),Object(D.jsx)(u.a,{children:Object(D.jsx)(v.a,{children:Object(D.jsx)(O.a,{className:" m-5 buttonStyle",style:{fontSize:"140%",margin:"3% 0% 17% 8%"},size:"lg",type:"submit",color:"primary",onClick:function(){return ce(!0)},children:Object(D.jsx)("span",{className:"label",children:Object(D.jsx)(N.a,{id:"button.Back"})})})})})]})})})}):Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(r.c,{initialValues:M,onSubmit:ne,validationSchema:j.h,children:function(e){var s=e.errors,t=e.touched,a=(e.values,e.setFieldTouched,e.setFieldValue),c=(e.onBlur,e.handleBlur);return Object(D.jsxs)(r.b,{className:"av-tooltip tooltip-label-right error-l-150 style ",style:{height:"500px"},children:[Object(D.jsx)(u.a,{className:"mb-4 justify-content-center",children:Object(D.jsx)(v.a,{xxs:"8",children:Object(D.jsxs)("div",{className:" p-3",children:[Object(D.jsxs)(p.a,{className:"form-group has-float-label",children:[Object(D.jsx)(x.a,{children:Object(D.jsx)(N.a,{id:"student.dismissalDateLabel"})}),Object(D.jsx)(r.a,{className:"form-control fieldStyle ",name:"dismissalDate",placeholder:"1399/01/01"}),s.dismissalDate&&t.dismissalDate?Object(D.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white  messageStyle",children:s.dismissalDate}):null]}),Object(D.jsxs)(p.a,{children:[Object(D.jsx)(x.a,{children:Object(D.jsx)(N.a,{id:"student.dissmissalDocuments"})}),Object(D.jsxs)(f.a,{className:"mb-3",children:[Object(D.jsx)(g.a,{addonType:"prepend",children:"\u0622\u067e\u0644\u0648\u062f"}),Object(D.jsx)(y.a,{type:"file",name:"dismissalDocument",onChange:function(e){a("dismissalDocument",e.currentTarget.files[0])},onBlur:c,invalid:t.dismissalDocument&&s.dismissalDocument})]}),s.dismissalDocument&&t.dismissalDocument&&Object(D.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.dismissalDocument})]})]})})}),Object(D.jsxs)(u.a,{children:[Object(D.jsx)(v.a,{style:{marginRight:"15%"},children:Object(D.jsx)(O.a,{color:"primary",className:" buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 6%",paddingInline:"10%"},onClick:function(){return Q(!0)},children:Object(D.jsx)("span",{className:"label",children:Object(D.jsx)(N.a,{id:"button.Back"})})})}),Object(D.jsx)(v.a,{style:{marginLeft:"15%"},children:Object(D.jsx)(O.a,{color:"primary",className:" float-right buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 8%",paddingInline:"10%"},children:Object(D.jsx)("span",{className:"label",children:Object(D.jsx)(N.a,{id:"student.buttonDismissal"})})})})]})]})}})})})})]})})}}}]);
//# sourceMappingURL=dismissal.2ae98899.chunk.js.map