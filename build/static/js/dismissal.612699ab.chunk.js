"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[616],{92714:function(e,s,n){n.r(s);var t=n(74165),a=n(15861),l=n(29439),i=n(50390),r=n(16295),c=(n(2896),n(22834)),d=(n(48907),n(21404)),o=n(71656),m=n.n(o),u=n(52735),h=n.n(u),x=n(830),j=n(32121),Z=n(49360),p=n(31833),f=n(14237),b=n(14778),g=n(94048),y=n(16778),N=n(64884),v=n(85030),S=n(66549),D=n(35880),k=n(37671),F=n(16905),_=n(60652),w=n(26129),L=n(62559),I=_.Z.API_URL;"".concat(I,"/institute/"),"".concat(I,"/api/student_accademic/"),"".concat(I,"/api/student-transfer/");s.default=function(e){var s=(0,i.useState)(""),n=(0,l.Z)(s,2),o=n[0],u=n[1],_=(0,i.useState)(""),I=(0,l.Z)(_,2),z=I[0],C=I[1],B=(0,i.useState)(!1),R=(0,l.Z)(B,2),P=(R[0],R[1]),T=(0,i.useState)(""),V=(0,l.Z)(T,2),A=(V[0],V[1]),E=(0,i.useState)(!0),H=(0,l.Z)(E,2),J=H[0],U=H[1],q=(0,i.useState)(),K=(0,l.Z)(q,2),M=(K[0],K[1],(0,i.useState)(!1)),O=(0,l.Z)(M,2),X=O[0],Y=O[1],G=(0,i.useState)(),Q=(0,l.Z)(G,2),W=(Q[0],Q[1]),$=(Z.Ry().shape({searchfield:Z.Z_().min(4,(0,L.jsx)(k.Z,{id:"min.invalidId"})).max(10,(0,L.jsx)(k.Z,{id:"max.invalidId"})).required((0,L.jsx)(k.Z,{id:"search.studentIdsearchErr"}))}),{searchfield:"",dismissalDate:"",dismissalDocument:void 0}),ee=function(e){U(e),P(!0)},se=(0,i.useState)(!0),ne=(0,l.Z)(se,2),te=ne[0],ae=ne[1],le=(0,i.useState)(!1),ie=(0,l.Z)(le,2),re=ie[0],ce=ie[1],de=function(e,s){var n=s||"";switch(e){case"success":c.fn.success("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u0645\u0646\u0641\u06a9 \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",9e3,null,null,n);break;case"info":c.fn.info("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0627\u0646\u0633\u062a\u06cc\u0648\u062a \u06a9\u06cc \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc","\u062a\u06cc\u0631\u0648\u062a\u0646\u0647",9e3,null,null,n);break;case"error":c.fn.error("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u0645\u0646\u0641\u06a9 \u0646\u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,n);break;default:c.fn.info("Info message")}},oe=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s,n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(s),e.next=3,(0,j.Z)("students/student_accademic/?student_id=".concat(o),"",null);case 3:a=e.sent,console.log("repsonse is: ",a),a&&200===a.status?(o==a.data.student_id?ce(!0):ce(!1),a.data?(C(a.data),P(!0)):A("Student not found")):console.log("student search error");case 6:case"end":return e.stop()}}),e)})));return function(s,n){return e.apply(this,arguments)}}(),me=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in onSubmit"),ee(!0),console.log("values from onsubmit are: ",s),(n=new FormData).append("student_id",o),n.append("dismiss_date",s.dismissalDate),s.dismissalDocument&&n.append("dismiss_proof",s.dismissalDocument),console.log("file is ",s.dismissalDocument),e.prev=8,e.next=11,(0,j.Z)("students/student-dissmiss/","POST",n);case 11:200!==(a=e.sent).status&&201!==a.status||(console.log("success"),de("success","filled"),Y(!0)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),"Resource not found"===e.t0.message?(console.log("student not found"),de("info","filled")):(console.log("An error occurred:",e.t0.message),de("error","filled"));case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(s){return e.apply(this,arguments)}}();return console.log("reload, isNext, searchResult,",X,J,te),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(p.Z,{children:[(0,L.jsx)("div",{className:"mt-4 ml-5",children:(0,L.jsx)("h2",{className:" m-5  titleStyle",children:(0,L.jsx)(k.Z,{id:"student.dismissalTitleFromInstitute"})})}),(0,L.jsx)(f.Z,{children:X?(0,L.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,L.jsxs)("div",{children:[(0,L.jsx)("h1",{className:"mb-2",children:(0,L.jsx)(k.Z,{id:"wizard.content-thanks"})}),(0,L.jsx)("h3",{children:(0,L.jsx)(k.Z,{id:"wizard.registered"})}),(0,L.jsx)(y.Z,{className:"m-5 bg-primary",onClick:function(){Y(!1),U(!0),oe(!0)},children:(0,L.jsx)(k.Z,{id:"button.Back"})})]})}):(0,L.jsx)(L.Fragment,{children:J?(0,L.jsx)(L.Fragment,{children:te?(0,L.jsx)(b.Z,{className:"justify-content-center inlineBlock",children:(0,L.jsx)(F.F,{children:(0,L.jsx)(r.J9,{initialValues:$,onSubmit:oe,children:function(e){var s=e.values,n=e.errors,t=e.touched,a=(e.handleChange,e.handleBlur,e.handleSubmit);e.isSubmitting;return(0,L.jsxs)(r.l0,{className:"av-tooltip tooltip-label-bottom style",onSubmit:a,style:{minHeight:"300px"},children:[(0,L.jsxs)(g.Z,{children:[(0,L.jsx)(k.Z,{id:"search.studentIdSearchLabel"}),(0,L.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,L.jsxs)("div",{class:"input-group mb-3 error-l-175 ",children:[(0,L.jsx)("div",{class:"input-group-prepend",children:(0,L.jsxs)(y.Z,{size:"lg",style:{fontSize:"80%"},type:"submit",color:"primary",onClick:function(){return oe(!1)},children:[(0,L.jsxs)("span",{className:"spinner d-inline-block",children:[(0,L.jsx)("span",{className:"bounce1"}),(0,L.jsx)("span",{className:"bounce2"}),(0,L.jsx)("span",{className:"bounce3"})]}),(0,L.jsx)("span",{className:"label",children:(0,L.jsx)(k.Z,{id:"search.studentId"})})]})}),(0,L.jsx)(r.gN,{className:"form-control fieldStyle",name:"searchfield",type:"text",onKeyUp:function(){return u(s.searchfield)}}),n.searchfield&&t.searchfield?(0,L.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:n.searchfield}):null]})]})}})})}):(0,L.jsx)(b.Z,{className:"justify-content-center inlineBlock",children:(0,L.jsx)(F.F,{style:{paddingInline:"3%"},children:re?(0,L.jsxs)("div",{className:"border rounded",children:[(0,L.jsx)(g.Z,{children:(0,L.jsx)("h3",{className:"mt-5 m-5 data-style",children:(0,L.jsx)(k.Z,{id:"dorm.SearchResult"})})})," ",(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(F.F,{xxs:"1"}),(0,L.jsxs)(F.F,{children:[(0,L.jsx)("img",{src:z.photo,alt:"student's photo",width:"10%"})," "]})]}),(0,L.jsx)(b.Z,{children:(0,L.jsx)(F.F,{children:(0,L.jsxs)("div",{children:[(0,L.jsxs)(b.Z,{className:"justify-content-center border border-primary rounded m-5",children:[(0,L.jsxs)(F.F,{className:" p-5  border rounded",xxs:"",children:[(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"teacher.NameLabel"})}),(0,L.jsx)("h2",{children:z.student_name}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"teacher.FatherNameLabel"})}),(0,L.jsx)("h2",{children:z.father_name}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"teacher.PhoneNoLabel"})}),(0,L.jsx)("h2",{children:z.phone_number}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"teacher.EmailLabel"})}),(0,L.jsx)("h2",{children:z.email}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"forms.InstituteLabel"})}),(0,L.jsx)("h2",{children:z.institute_name}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"marks.ClassLabel"})}),(0,L.jsx)("h2",{children:"\u062f\u06cc\u0627\u0631\u0644\u0633\u0645/ \u0633\u06cc\u0632\u062f\u0647\u0645"}),(0,L.jsx)("h2",{children:z.class_name})]}),(0,L.jsxs)(F.F,{className:"p-5 border rounded",children:[(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"field.SemesterLabel"})}),(0,L.jsx)("h2",{children:z.semester}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"forms.studyDepartment"})}),(0,L.jsx)("h2",{children:z.department_name}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"forms.ProvinceLabel"})}),(0,L.jsx)("h2",{children:z.current_province}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"forms.DistrictLabel"})}),(0,L.jsx)("h2",{children:z.current_district}),(0,L.jsx)(g.Z,{className:"data-style",children:(0,L.jsx)(k.Z,{id:"forms.VillageLabel"})}),(0,L.jsx)("h2",{children:z.current_village})]})]}),(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(F.F,{style:{marginRight:"10%"},children:(0,L.jsx)(y.Z,{color:"primary",className:"buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 6% 15% 8%",paddingInline:"10%"},onClick:function(){oe(!0),ce(!1)},children:(0,L.jsx)("span",{className:"label",children:(0,L.jsx)(k.Z,{id:"button.Back"})})})}),(0,L.jsx)(F.F,{style:{marginLeft:"10%"},children:(0,L.jsx)(y.Z,{color:"primary",className:" float-right buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 0% 15% 6%",paddingInline:"10%"},onClick:function(){return ee(!1)},children:(0,L.jsx)("span",{className:"label",children:(0,L.jsx)(k.Z,{id:"student.buttonDismissal"})})})})]})]})})})]}):(0,L.jsxs)("div",{style:{minHeight:"300px"},children:[(0,L.jsx)(g.Z,{children:(0,L.jsx)("h2",{className:"mt-5 m-5",children:(0,L.jsx)(k.Z,{id:"dorm.SearchResult"})})}),(0,L.jsx)(b.Z,{className:"justify-content-left mb-5",children:(0,L.jsx)(F.F,{xxs:"8",className:"text-left",children:(0,L.jsx)("h1",{className:"text-center",children:(0,L.jsx)(w.Z,{type:"error",message:(0,L.jsx)(k.Z,{id:"forms.NoData"})})})})}),(0,L.jsx)(b.Z,{children:(0,L.jsx)(F.F,{children:(0,L.jsx)(y.Z,{className:" m-5 buttonStyle",style:{fontSize:"140%",margin:"3% 0% 17% 8%"},size:"lg",type:"submit",color:"primary",onClick:function(){return oe(!0)},children:(0,L.jsx)("span",{className:"label",children:(0,L.jsx)(k.Z,{id:"button.Back"})})})})})]})})})}):(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(r.J9,{initialValues:$,onSubmit:me,children:function(e){var s=e.errors,n=e.touched,t=(e.values,e.setFieldTouched,e.setFieldValue),a=(e.onBlur,e.handleBlur);return(0,L.jsxs)(r.l0,{className:"av-tooltip tooltip-label-right error-l-150 style ",style:{height:"500px"},children:[(0,L.jsx)(b.Z,{className:"mb-4 justify-content-center",children:(0,L.jsx)(F.F,{xxs:"8",children:(0,L.jsxs)("div",{className:" p-3",children:[(0,L.jsxs)(N.Z,{className:"form-group has-float-label",children:[(0,L.jsx)(g.Z,{children:(0,L.jsx)(k.Z,{id:"student.dismissalDateLabel"})}),(0,L.jsx)(d.ZP,{name:"dismissalDate",calendar:m(),locale:h(),months:x.Xo,className:"form-control fieldStyle ",onChange:function(e){return t("dismissalDate",W(new Date(e.toDate()).getFullYear()+"-"+(new Date(e.toDate()).getMonth()+1)+"-"+new Date(e.toDate()).getDate()))}}),s.dismissalDate&&n.dismissalDate?(0,L.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white  messageStyle",children:s.dismissalDate}):null]}),(0,L.jsxs)(N.Z,{children:[(0,L.jsx)(g.Z,{children:(0,L.jsx)(k.Z,{id:"student.dissmissalDocuments"})}),(0,L.jsxs)(v.Z,{className:"mb-3",children:[(0,L.jsx)(S.Z,{addonType:"prepend",children:"\u0622\u067e\u0644\u0648\u062f"}),(0,L.jsx)(D.Z,{type:"file",name:"dismissalDocument",onChange:function(e){t("dismissalDocument",e.currentTarget.files[0])},onBlur:a,invalid:n.dismissalDocument&&s.dismissalDocument})]}),s.dismissalDocument&&n.dismissalDocument&&(0,L.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.dismissalDocument})]})]})})}),(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(F.F,{style:{marginRight:"15%"},children:(0,L.jsx)(y.Z,{color:"primary",className:" buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 6%",paddingInline:"10%"},children:(0,L.jsx)("span",{className:"label",children:(0,L.jsx)(k.Z,{id:"button.Back"})})})}),(0,L.jsx)(F.F,{style:{marginLeft:"15%"},children:(0,L.jsx)(y.Z,{color:"primary",className:" float-right buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 8%",paddingInline:"10%"},children:(0,L.jsx)("span",{className:"label",children:(0,L.jsx)(k.Z,{id:"student.buttonDismissal"})})})})]})]})}})})})})]})})}}}]);
//# sourceMappingURL=dismissal.612699ab.chunk.js.map