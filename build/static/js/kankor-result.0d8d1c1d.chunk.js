"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[3885],{48495:function(e,s,a){a.r(s);var t=a(74165),l=a(29439),r=a(15861),n=a(50390),i=a(16295),d=a(32121),o=a(14037),c=a(4804),u=a(31833),m=a(14237),h=a(14778),f=a(64884),x=a(94048),j=a(16778),p=a(37671),v=a(16905),g=a(39873),b=a(830),k=a(22834),Z=(a(48907),a(60652)),y=a(83882),N=a(66135),S=a(62559),w=Z.Z.API_URL;"".concat(w,"/api/kankorResults");s.default=function(e){e.history;var s=(0,o.useParams)().kankorStudentId;function a(){return(a=(0,r.Z)((0,t.Z)().mark((function e(){var a,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("api/kankorResults/?id=".concat(s),"",null);case 2:a=e.sent,l=a.data,console.log("data of the kankor student",l[0]),T(l[0].name),B(l[0].father_name),fe(l[0].district),b.Ar.map((function(e){e.value==l[0].educational_year&&ne(e)})),ce({value:"1",label:l[0].provence}),q([{value:l[0].department_id.id,label:l[0].department_id.name}]),b.P3.map((function(e){e.value===l[0].gender&&ae(e)})),A([{value:l[0].field_id.id,label:l[0].field_id.name}]),M(l[0].score),b.Zp.map((function(e){e.value===l[0].shift&&O(e)})),W([{value:l[0].Institute.id,label:l[0].Institute.name}]);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("Kankor ID",s),(0,n.useEffect)((function(){s&&function(){a.apply(this,arguments)}()}),[]);var Z=(0,n.useState)(""),w=(0,l.Z)(Z,2),_=w[0],T=w[1],C=(0,n.useState)(""),X=(0,l.Z)(C,2),Y=X[0],B=X[1],F=(0,n.useState)(""),L=(0,l.Z)(F,2),I=L[0],M=L[1],z=(0,n.useState)([]),P=(0,l.Z)(z,2),R=P[0],A=P[1],D=(0,n.useState)([]),K=(0,l.Z)(D,2),V=K[0],q=K[1],E=(0,n.useState)([]),H=(0,l.Z)(E,2),J=H[0],O=H[1],U=(0,n.useState)([]),G=(0,l.Z)(U,2),Q=G[0],W=G[1],$=(0,n.useState)([]),ee=(0,l.Z)($,2),se=ee[0],ae=ee[1],te=(0,n.useState)([]),le=(0,l.Z)(te,2),re=le[0],ne=le[1],ie=(0,n.useState)([]),de=(0,l.Z)(ie,2),oe=de[0],ce=de[1],ue=(0,n.useState)([]),me=(0,l.Z)(ue,2),he=me[0],fe=me[1],xe=(0,n.useContext)(y.V),je=xe.provinces,pe=xe.districts,ve=(xe.fields,xe.institutes),ge=xe.departments,be=(0,n.useState)(""),ke=(0,l.Z)(be,2),Ze=(ke[0],ke[1],{studentName:_,gender:se,fatherName:Y,kankorMarks:I,studyTime:J,department:V,field:R,institute:Q,educationalYear:re,province:oe,district:he}),ye=(0,n.useState)(!1),Ne=(0,l.Z)(ye,2),Se=Ne[0],we=Ne[1],_e=(0,n.useState)("0"),Te=(0,l.Z)(_e,2),Ce=(Te[0],Te[1],function(e,s){var a=s||"";switch(e){case"success":k.fn.success("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,a);break;case"error":k.fn.error("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u062b\u0628\u062a \u0646\u0647 \u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,a);break;default:k.fn.info("Info message")}}),Xe=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(s){var a,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("THis is  the inner comment"),a={name:s.studentName,father_name:s.fatherName,institute:s.institute.value,field_of_study:s.field.value,department:s.department.value,marks:s.kankorMarks,educational_year:s.educationalYear.value,province:s.province.value,district:s.district.value,gender:s.gender.value,shift:s.studyTime.value},console.log("data",a),e.next=5,(0,d.Z)("students/kankor-applicant-create/","POST",a);case 5:200===(l=e.sent).status||201===l.status||202===l.status?(we(!0),Ce("success","filled")):(Ce("error","filled"),console.log("kankor result error"));case 7:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(u.Z,{children:[(0,S.jsx)("div",{className:"ml-5",children:(0,S.jsx)("h3",{className:"mt-5 m-5 titleStyle",children:(0,S.jsx)(p.Z,{id:"forms.Kankorformstitle"})})}),(0,S.jsx)(m.Z,{children:Se?(0,S.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,S.jsxs)("div",{children:[(0,S.jsx)("h1",{className:"mb-2",children:(0,S.jsx)(p.Z,{id:"wizard.content-thanks"})}),(0,S.jsx)("h3",{children:(0,S.jsx)(p.Z,{id:"wizard.registered"})}),(0,S.jsx)(j.Z,{className:"m-5 bg-primary ",onClick:function(){return we(!1)},children:(0,S.jsx)(p.Z,{id:"button.back"})})]})}):(0,S.jsx)(i.J9,{enableReinitialize:!0,initialValues:Ze,onSubmit:Xe,validationSchema:c.z,children:function(e){var s=e.errors,a=e.touched,t=e.values,l=e.setFieldTouched,r=e.setFieldValue;return(0,S.jsxs)(i.l0,{className:"av-tooltip tooltip-label-right style",children:[(0,S.jsxs)(h.Z,{className:"justify-content-center",children:[(0,S.jsxs)(v.F,{xxs:"5",className:" mt-5",children:[(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"forms.StdName"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(i.gN,{className:"form-control fieldStyle",name:"studentName"}),s.studentName&&a.studentName?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.studentName}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"forms.StdFatherName"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(i.gN,{className:"form-control fieldStyle",name:"fatherName"}),s.fatherName&&a.fatherName?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.fatherName}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"gender.gender"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(g.ju,{name:"gender",id:"gender",value:t.gender,options:b.P3,onChange:r,onBlur:l}),a.gender&&s.gender?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.gender}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"forms.InstituteLabel"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(g.ju,{name:"institute",id:"institute",value:t.institute,options:ve,onChange:r,onBlur:l}),s.institute&&a.institute?(0,S.jsxs)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:[s.institute,console.log(s.institute,"sdafhsakh")]}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"forms.FieldDepLabel"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(g.ju,{name:"department",id:"department",value:t.department,options:ge,onChange:r,onBlur:l}),s.department&&a.department?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.department}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"forms.ProvinceLabel"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(g.ju,{name:"province",id:"province",value:t.province,options:je,onChange:function(e,s){r("district",[]),r(e,s)},onBlur:l}),s.province&&a.province?(0,S.jsx)("div",{className:"invalid-feedback d-block   bg-danger text-white messageStyle",children:s.province}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsx)(x.Z,{style:N.X,children:(0,S.jsx)(p.Z,{id:"forms.DistrictLabel"})}),(0,S.jsx)(g.ju,{name:"district",id:"district",value:t.district,options:null===pe||void 0===pe?void 0:pe.filter((function(e){return e.province===t.province.value})),onChange:r,onBlur:l}),s.district&&a.district?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:s.district}):null]})]}),(0,S.jsxs)(v.F,{xxs:"5",className:" mt-5",children:[(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"forms.KankorMarksLabel"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(i.gN,{className:"form-control fieldStyle",name:"kankorMarks",type:"number",min:"0",max:"100"}),s.kankorMarks&&a.kankorMarks?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.kankorMarks}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175 ",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"curriculum.eduactionalYearLabel"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(g.ju,{name:"educationalYear",id:"educationalYear",value:t.educationalYear,options:b.Ar,onChange:r,onBlur:l,required:!0}),s.educationalYear&&a.educationalYear?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.educationalYear}):null]}),(0,S.jsxs)(f.Z,{className:"form-group has-float-label error-l-175",children:[(0,S.jsxs)(x.Z,{style:N.X,children:[(0,S.jsx)(p.Z,{id:"forms.StudyTimeLabel"}),(0,S.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,S.jsx)(g.ju,{name:"studyTime",id:"studyTime",value:t.studyTime,options:b.Zp,onChange:r,onBlur:l}),s.studyTime&&a.studyTime?(0,S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.studyTime}):null]})]})]}),(0,S.jsx)(h.Z,{children:(0,S.jsx)(v.F,{children:(0,S.jsx)(j.Z,{color:"primary",className:"float-right  buttonStyle",size:"lg",type:"submit",style:{margin:"7% 0% 8% 9%"},children:(0,S.jsx)("span",{className:"label",children:(0,S.jsx)(p.Z,{id:"forms.SubimssionButton"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=kankor-result.0d8d1c1d.chunk.js.map