(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[74],{1899:function(e,t,a){"use strict";a.r(t);var s=a(145),c=a(4),n=a.n(c),r=a(14),l=a(6),i=a(180),d=a(191),o=a(330),j=a(314),b=a(468),u=a(1222),m=a(469),h=a(1181),O=a(1182),x=a(673),f=a(148),p=a(153),v=a(183),g=a(185),k=a(40),N=(a(277),a(35),a(203)),y=a(248),S=a(12),w=N.a.API_URL;"".concat(w,"/api/kankorResults");t.default=function(e){e.history;var t=Object(o.useParams)().kankorStudentId;console.log("Kankor ID",t),t&&Object(l.useEffect)((function(){function e(){return(e=Object(r.a)(n.a.mark((function e(){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("api/kankorResults/?id=".concat(t),"",null);case 2:a=e.sent,s=a.data,console.log("data of the kankor student",s[0]),w(s[0].name),I(s[0].father_name),be(s[0].district),g.n.map((function(e){e.value==s[0].educational_year&&ce(e)})),ie({value:"1",label:s[0].provence}),J([{value:s[0].department_id.id,label:s[0].department_id.name}]),g.q.map((function(e){e.value===s[0].gender&&ee(e)})),R([{value:s[0].field_id.id,label:s[0].field_id.name}]),M(s[0].score),g.I.map((function(e){e.value===s[0].shift&&H(e)})),Q([{value:s[0].Institute.id,label:s[0].Institute.name}]);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=Object(l.useState)(""),c=Object(s.a)(a,2),N=c[0],w=c[1],T=Object(l.useState)(""),_=Object(s.a)(T,2),C=_[0],I=_[1],Y=Object(l.useState)(""),B=Object(s.a)(Y,2),L=B[0],M=B[1],z=Object(l.useState)([]),F=Object(s.a)(z,2),P=F[0],R=F[1],q=Object(l.useState)([]),D=Object(s.a)(q,2),K=D[0],J=D[1],V=Object(l.useState)([]),A=Object(s.a)(V,2),E=A[0],H=A[1],U=Object(l.useState)([]),W=Object(s.a)(U,2),G=W[0],Q=W[1],X=Object(l.useState)([]),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=Object(l.useState)([]),ae=Object(s.a)(te,2),se=ae[0],ce=ae[1],ne=Object(l.useState)([]),re=Object(s.a)(ne,2),le=re[0],ie=re[1],de=Object(l.useState)([]),oe=Object(s.a)(de,2),je=oe[0],be=oe[1],ue=Object(l.useContext)(y.a),me=ue.provinces,he=ue.districts,Oe=(ue.fields,ue.institutes),xe=ue.departments,fe=Object(l.useState)(""),pe=Object(s.a)(fe,2),ve=(pe[0],pe[1],{studentName:N,gender:$,fatherName:C,kankorMarks:L,studyTime:E,department:K,field:P,institute:G,educationalYear:se,province:le,district:je}),ge=Object(l.useState)(!1),ke=Object(s.a)(ge,2),Ne=ke[0],ye=ke[1],Se=Object(l.useState)("0"),we=Object(s.a)(Se,2),Te=(we[0],we[1],function(e,t){var a=t||"";switch(e){case"success":k.b.success("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,a);break;case"error":k.b.error("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u062b\u0628\u062a \u0646\u0647 \u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,a);break;default:k.b.info("Info message")}}),_e=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("THis is  the inner comment"),a={name:t.studentName,father_name:t.fatherName,institute:t.institute.value,field_of_study:t.field.value,department:t.department.value,marks:t.kankorMarks,educational_year:t.educationalYear.value,province:t.province.value,district:t.district.value,gender:t.gender.value,shift:t.studyTime.value},console.log("data",a),e.next=5,Object(d.a)("students/kankor-applicant-create/","POST",a);case 5:200===(s=e.sent).status||201===s.status||202===s.status?(ye(!0),Te("success","filled")):(Te("error","filled"),console.log("kankor result error"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(b.a,{children:[Object(S.jsx)("div",{className:"ml-5",children:Object(S.jsx)("h3",{className:"mt-5 m-5 titleStyle",children:Object(S.jsx)(f.a,{id:"forms.Kankorformstitle"})})}),Object(S.jsx)(u.a,{children:Ne?Object(S.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{className:"mb-2",children:Object(S.jsx)(f.a,{id:"wizard.content-thanks"})}),Object(S.jsx)("h3",{children:Object(S.jsx)(f.a,{id:"wizard.registered"})}),Object(S.jsx)(x.a,{className:"m-5 bg-primary ",onClick:function(){return ye(!1)},children:Object(S.jsx)(f.a,{id:"button.back"})})]})}):Object(S.jsx)(i.c,{enableReinitialize:!0,initialValues:ve,onSubmit:_e,validationSchema:j.c,children:function(e){var t=e.errors,a=e.touched,s=e.values,c=e.setFieldTouched,n=e.setFieldValue;return Object(S.jsxs)(i.b,{className:"av-tooltip tooltip-label-right style",children:[Object(S.jsxs)(m.a,{className:"justify-content-center",children:[Object(S.jsxs)(p.a,{xxs:"5",className:" mt-5",children:[Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"forms.StdName"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(i.a,{className:"form-control fieldStyle",name:"studentName"}),t.studentName&&a.studentName?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studentName}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"forms.StdFatherName"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(i.a,{className:"form-control fieldStyle",name:"fatherName"}),t.fatherName&&a.fatherName?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.fatherName}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"gender.gender"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"gender",id:"gender",value:s.gender,options:g.q,onChange:n,onBlur:c}),a.gender&&t.gender?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.gender}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"forms.InstituteLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"institute",id:"institute",value:s.institute,options:Oe,onChange:n,onBlur:c}),t.institute&&a.institute?Object(S.jsxs)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:[t.institute,console.log(t.institute,"sdafhsakh")]}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"forms.FieldDepLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"department",id:"department",value:s.department,options:xe,onChange:n,onBlur:c}),t.department&&a.department?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"forms.ProvinceLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"province",id:"province",value:s.province,options:me,onChange:function(e,t){n("district",[]),n(e,t)},onBlur:c}),t.province&&a.province?Object(S.jsx)("div",{className:"invalid-feedback d-block   bg-danger text-white messageStyle",children:t.province}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsx)(O.a,{style:{fontSize:18,fontWeight:"bold"},children:Object(S.jsx)(f.a,{id:"forms.DistrictLabel"})}),Object(S.jsx)(v.c,{name:"district",id:"district",value:s.district,options:null===he||void 0===he?void 0:he.filter((function(e){return e.province===s.province.value})),onChange:n,onBlur:c}),t.district&&a.district?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.district}):null]})]}),Object(S.jsxs)(p.a,{xxs:"5",className:" mt-5",children:[Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"forms.KankorMarksLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(i.a,{className:"form-control fieldStyle",name:"kankorMarks",type:"number",min:"0",max:"100"}),t.kankorMarks&&a.kankorMarks?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.kankorMarks}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175 ",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"curriculum.eduactionalYearLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"educationalYear",id:"educationalYear",value:s.educationalYear,options:g.n,onChange:n,onBlur:c,required:!0}),t.educationalYear&&a.educationalYear?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.educationalYear}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{id:"forms.StudyTimeLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"studyTime",id:"studyTime",value:s.studyTime,placeholder:"Select option",options:g.I,onChange:n,onBlur:c}),t.studyTime&&a.studyTime?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]})]})]}),Object(S.jsx)(m.a,{children:Object(S.jsx)(p.a,{children:Object(S.jsx)(x.a,{color:"primary",className:"float-right  buttonStyle",size:"lg",type:"submit",style:{margin:"7% 0% 8% 9%"},children:Object(S.jsx)("span",{className:"label",children:Object(S.jsx)(f.a,{id:"forms.SubimssionButton"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=kankor-result.5cc12747.chunk.js.map