(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[77],{1886:function(e,t,a){"use strict";a.r(t);var n=a(145),s=a(4),r=a.n(s),c=a(14),l=a(6),i=a(193),o=a(226),d=a(439),u=a(421),b=a(565),j=a(1288),m=a(566),f=a(1241),O=a(1242),h=a(746),x=a(147),p=a(153),v=a(195),g=a(202),k=a(40),y=(a(380),a(35),a(230)),N=a(12),S=y.a.API_URL;"".concat(S,"/api/kankorResults");t.default=function(e){e.history;var t=Object(d.h)().kankorStudentId;console.log("Kankor ID",t),t&&Object(l.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("api/kankorResults/?id=".concat(t),"",null);case 2:a=e.sent,n=a.data,console.log("data of the kankor student",n[0]),S(n[0].name),C(n[0].father_name),ue(n[0].district),g.o.map((function(e){e.value==n[0].educational_year&&ne(e)})),le({value:"1",label:n[0].provence}),K([{value:n[0].department_id.id,label:n[0].department_id.name}]),g.t.map((function(e){e.value===n[0].gender&&$(e)})),F([{value:n[0].field_id.id,label:n[0].field_id.name}]),I(n[0].score),g.M.map((function(e){e.value===n[0].shift&&W(e)})),U([{value:n[0].Institute.id,label:n[0].Institute.name}]);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=Object(l.useState)(""),s=Object(n.a)(a,2),y=s[0],S=s[1],w=Object(l.useState)(""),T=Object(n.a)(w,2),_=T[0],C=T[1],B=Object(l.useState)(""),M=Object(n.a)(B,2),Y=M[0],I=M[1],L=Object(l.useState)([]),z=Object(n.a)(L,2),E=z[0],F=z[1],P=Object(l.useState)([]),R=Object(n.a)(P,2),D=R[0],K=R[1],G=Object(l.useState)([]),J=Object(n.a)(G,2),V=J[0],W=J[1],q=Object(l.useState)([]),A=Object(n.a)(q,2),H=A[0],U=A[1],Q=Object(l.useState)([]),X=Object(n.a)(Q,2),Z=X[0],$=X[1],ee=Object(l.useState)([]),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],se=Object(l.useState)([]),re=Object(n.a)(se,2),ce=re[0],le=re[1],ie=Object(l.useState)([]),oe=Object(n.a)(ie,2),de=oe[0],ue=oe[1],be=Object(l.useState)([]),je=Object(n.a)(be,2),me=je[0],fe=je[1],Oe=Object(l.useState)([]),he=Object(n.a)(Oe,2),xe=he[0],pe=he[1],ve=Object(l.useState)(""),ge=Object(n.a)(ve,2),ke=ge[0],ye=ge[1],Ne={studentName:y,gender:Z,fatherName:_,kankorMarks:Y,studyTime:V,department:D,field:E,institute:H,educationalYear:ae,province:ce,district:de},Se=Object(l.useState)([]),we=Object(n.a)(Se,2),Te=we[0],_e=we[1],Ce=Object(l.useState)([]),Be=Object(n.a)(Ce,2),Me=Be[0],Ye=Be[1],Ie=Object(l.useState)([]),Le=Object(n.a)(Ie,2),ze=Le[0],Ee=Le[1],Fe=Object(l.useState)(!1),Pe=Object(n.a)(Fe,2),Re=Pe[0],De=Pe[1],Ke=Object(l.useState)("0"),Ge=Object(n.a)(Ke,2),Je=(Ge[0],Ge[1],function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("institute/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,Ye(a),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ve=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("institute/field/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,_e(a),e.next=11;break;case 10:console.log("field error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("institute/department/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,Ee(a),e.next=11;break;case 10:console.log("department error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("core/provinces/","GET",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.native_name}}));case 6:a=e.sent,fe(a),e.next=11;break;case 10:console.log("province error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("provinceId",t),e.next=3,Object(o.a)("core/districts/?province=".concat(t),"GET",null);case 3:if(!(a=e.sent).data||200!==a.status){e.next=11;break}return e.next=7,a.data.map((function(e){return{value:e.id,label:e.native_name}}));case 7:n=e.sent,pe(n),e.next=12;break;case 11:console.log("district error");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){qe()}),[]),Object(l.useEffect)((function(){console.log("selectedProvince",ke),ke&&Ae(ke)}),[ke]);var He=function(e,t){var a=t||"";switch(e){case"success":k.b.success("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,a);break;case"error":k.b.error("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u062b\u0628\u062a \u0646\u0647 \u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,a);break;default:k.b.info("Info message")}},Ue=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("THis is  the inner comment"),a={name:t.studentName,father_name:t.fatherName,institute:t.institute.value,field_of_study:t.field.value,department:t.department.value,marks:t.kankorMarks,educational_year:t.educationalYear.value,province:t.province.value,district:t.district.value,gender:t.gender.value,shift:t.studyTime.value},console.log("data",a),e.next=5,Object(o.a)("students/kankor-applicant-create/","POST",a);case 5:200===(n=e.sent).status||201===n.status||202===n.status?(De(!0),He("success","filled")):(He("error","filled"),console.log("kankor result error"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){Je(),Ve(),We()}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(b.a,{children:[Object(N.jsx)("div",{className:"ml-5",children:Object(N.jsx)("h3",{className:"mt-5 m-5 titleStyle",children:Object(N.jsx)(x.a,{id:"forms.Kankorformstitle"})})}),Object(N.jsx)(j.a,{children:Re?Object(N.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{className:"mb-2",children:Object(N.jsx)(x.a,{id:"wizard.content-thanks"})}),Object(N.jsx)("h3",{children:Object(N.jsx)(x.a,{id:"wizard.registered"})}),Object(N.jsx)(h.a,{className:"m-5 bg-primary ",onClick:function(){return De(!1)},children:Object(N.jsx)(x.a,{id:"button.back"})})]})}):Object(N.jsx)(i.c,{enableReinitialize:!0,initialValues:Ne,onSubmit:Ue,validationSchema:u.c,children:function(e){var t=e.errors,a=e.touched,n=e.values,s=e.setFieldTouched,r=e.setFieldValue;return Object(N.jsxs)(i.b,{className:"av-tooltip tooltip-label-right style",children:[Object(N.jsxs)(m.a,{className:"justify-content-center",children:[Object(N.jsxs)(p.a,{xxs:"5",className:" mt-5",children:[Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"forms.StdName"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(i.a,{className:"form-control fieldStyle",name:"studentName"}),t.studentName&&a.studentName?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studentName}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"gender.gender"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(v.c,{name:"gender",id:"gender",value:n.gender,options:g.t,onChange:r,onBlur:s}),a.gender&&t.gender?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.gender}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"forms.InstituteLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(v.c,{name:"institute",id:"institute",value:n.institute,options:Me,onChange:r,onBlur:s}),t.institute&&a.institute?Object(N.jsxs)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:[t.institute,console.log(t.institute,"sdafhsakh")]}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"forms.studyDepartment"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(v.c,{name:"department",id:"department",value:n.department,options:ze,onChange:r,onBlur:s}),t.department&&a.department?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label",children:[Object(N.jsx)(O.a,{style:{fontSize:18,fontWeight:"bold"},children:Object(N.jsx)(x.a,{id:"forms.ProvinceLabel"})}),Object(N.jsx)(v.c,{name:"province",id:"province",options:me,onChange:r,onBlur:s,onClick:ye(n.province.value)}),t.province&&a.province?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.province}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsx)(O.a,{style:{fontSize:18,fontWeight:"bold"},children:Object(N.jsx)(x.a,{id:"forms.DistrictLabel"})}),Object(N.jsx)(v.c,{name:"district",id:"district",options:xe,onChange:r,onBlur:s}),t.district&&a.district?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.district}):null]})]}),Object(N.jsxs)(p.a,{xxs:"5",className:" mt-5",children:[Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"forms.StdFatherName"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(i.a,{className:"form-control fieldStyle",name:"fatherName"}),t.fatherName&&a.fatherName?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.fatherName}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"forms.KankorMarksLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(i.a,{className:"form-control fieldStyle",name:"kankorMarks",type:"number",min:"0",max:"100"}),t.kankorMarks&&a.kankorMarks?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.kankorMarks}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"forms.FieldLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(v.c,{name:"field",id:"field",value:n.field,options:Te,onChange:r,onBlur:s}),t.field&&a.field?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.field}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175 ",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"curriculum.eduactionalYearLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(v.c,{name:"educationalYear",id:"educationalYear",value:n.educationalYear,options:g.o,onChange:r,onBlur:s,required:!0}),t.educationalYear&&a.educationalYear?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.educationalYear}):null]}),Object(N.jsxs)(f.a,{className:"form-group has-float-label error-l-175",children:[Object(N.jsxs)(O.a,{children:[Object(N.jsx)(x.a,{id:"forms.StudyTimeLabel"}),Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(v.c,{name:"studyTime",id:"studyTime",value:n.studyTime,placeholder:"Select option",options:g.M,onChange:r,onBlur:s}),t.studyTime&&a.studyTime?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]})]})]}),Object(N.jsx)(m.a,{children:Object(N.jsx)(p.a,{children:Object(N.jsx)(h.a,{color:"primary",className:"float-right  buttonStyle",size:"lg",type:"submit",style:{margin:"7% 0% 8% 9%"},children:Object(N.jsx)("span",{className:"label",children:Object(N.jsx)(x.a,{id:"forms.SubimssionButton"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=kankor-result.a6e6b661.chunk.js.map