(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[74],{1901:function(e,t,a){"use strict";a.r(t);var s=a(145),c=a(4),l=a.n(c),n=a(14),r=a(6),i=a(176),d=a(181),o=a(313),j=a(302),b=a(444),u=a(1211),m=a(445),h=a(1165),O=a(1166),f=a(644),x=a(147),p=a(151),v=a(178),g=a(179),k=a(40),y=(a(264),a(35),a(198)),N=a(263),S=a(12),w=y.a.API_URL;"".concat(w,"/api/kankorResults");t.default=function(e){e.history;var t=Object(o.useParams)().kankorStudentId;console.log("Kankor ID",t),t&&Object(r.useEffect)((function(){function e(){return(e=Object(n.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("api/kankorResults/?id=".concat(t),"",null);case 2:a=e.sent,s=a.data,console.log("data of the kankor student",s[0]),w(s[0].name),B(s[0].father_name),be(s[0].district),g.n.map((function(e){e.value==s[0].educational_year&&ce(e)})),ie({value:"1",label:s[0].provence}),K([{value:s[0].department_id.id,label:s[0].department_id.name}]),g.q.map((function(e){e.value===s[0].gender&&ee(e)})),P([{value:s[0].field_id.id,label:s[0].field_id.name}]),M(s[0].score),g.J.map((function(e){e.value===s[0].shift&&H(e)})),Q([{value:s[0].Institute.id,label:s[0].Institute.name}]);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=Object(r.useState)(""),c=Object(s.a)(a,2),y=c[0],w=c[1],T=Object(r.useState)(""),_=Object(s.a)(T,2),C=_[0],B=_[1],Y=Object(r.useState)(""),L=Object(s.a)(Y,2),I=L[0],M=L[1],z=Object(r.useState)([]),F=Object(s.a)(z,2),J=F[0],P=F[1],R=Object(r.useState)([]),q=Object(s.a)(R,2),D=q[0],K=q[1],V=Object(r.useState)([]),A=Object(s.a)(V,2),E=A[0],H=A[1],U=Object(r.useState)([]),W=Object(s.a)(U,2),G=W[0],Q=W[1],X=Object(r.useState)([]),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)([]),ae=Object(s.a)(te,2),se=ae[0],ce=ae[1],le=Object(r.useState)([]),ne=Object(s.a)(le,2),re=ne[0],ie=ne[1],de=Object(r.useState)([]),oe=Object(s.a)(de,2),je=oe[0],be=oe[1],ue=Object(r.useContext)(N.a),me=ue.provinces,he=ue.districts,Oe=ue.fields,fe=ue.institutes,xe=ue.departments,pe=Object(r.useState)(""),ve=Object(s.a)(pe,2),ge=(ve[0],ve[1],{studentName:y,gender:$,fatherName:C,kankorMarks:I,studyTime:E,department:D,field:J,institute:G,educationalYear:se,province:re,district:je}),ke=Object(r.useState)(!1),ye=Object(s.a)(ke,2),Ne=ye[0],Se=ye[1],we=Object(r.useState)("0"),Te=Object(s.a)(we,2),_e=(Te[0],Te[1],function(e,t){var a=t||"";switch(e){case"success":k.b.success("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,a);break;case"error":k.b.error("\u062f \u06a9\u0627\u0646\u06a9\u0648\u0631 \u0634\u0627\u06af\u0631\u062f \u062b\u0628\u062a \u0646\u0647 \u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,a);break;default:k.b.info("Info message")}}),Ce=function(){var e=Object(n.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("THis is  the inner comment"),a={name:t.studentName,father_name:t.fatherName,institute:t.institute.value,field_of_study:t.field.value,department:t.department.value,marks:t.kankorMarks,educational_year:t.educationalYear.value,province:t.province.value,district:t.district.value,gender:t.gender.value,shift:t.studyTime.value},console.log("data",a),e.next=5,Object(d.a)("students/kankor-applicant-create/","POST",a);case 5:200===(s=e.sent).status||201===s.status||202===s.status?(Se(!0),_e("success","filled")):(_e("error","filled"),console.log("kankor result error"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(b.a,{children:[Object(S.jsx)("div",{className:"ml-5",children:Object(S.jsx)("h3",{className:"mt-5 m-5 titleStyle",children:Object(S.jsx)(x.a,{id:"forms.Kankorformstitle"})})}),Object(S.jsx)(u.a,{children:Ne?Object(S.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{className:"mb-2",children:Object(S.jsx)(x.a,{id:"wizard.content-thanks"})}),Object(S.jsx)("h3",{children:Object(S.jsx)(x.a,{id:"wizard.registered"})}),Object(S.jsx)(f.a,{className:"m-5 bg-primary ",onClick:function(){return Se(!1)},children:Object(S.jsx)(x.a,{id:"button.back"})})]})}):Object(S.jsx)(i.c,{enableReinitialize:!0,initialValues:ge,onSubmit:Ce,validationSchema:j.c,children:function(e){var t=e.errors,a=e.touched,s=e.values,c=e.setFieldTouched,l=e.setFieldValue;return Object(S.jsxs)(i.b,{className:"av-tooltip tooltip-label-right style",children:[Object(S.jsxs)(m.a,{className:"justify-content-center",children:[Object(S.jsxs)(p.a,{xxs:"5",className:" mt-5",children:[Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.StdName"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(i.a,{className:"form-control fieldStyle",name:"studentName"}),t.studentName&&a.studentName?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studentName}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"gender.gender"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"gender",id:"gender",value:s.gender,options:g.q,onChange:l,onBlur:c}),a.gender&&t.gender?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.gender}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.InstituteLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"institute",id:"institute",value:s.institute,options:fe,onChange:l,onBlur:c}),t.institute&&a.institute?Object(S.jsxs)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:[t.institute,console.log(t.institute,"sdafhsakh")]}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.studyDepartment"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"department",id:"department",value:s.department,options:xe,onChange:l,onBlur:c}),t.department&&a.department?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.ProvinceLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"province",id:"province",value:s.province,options:me,onChange:function(e,t){l("district",[]),l(e,t)},onBlur:c}),t.province&&a.province?Object(S.jsx)("div",{className:"invalid-feedback d-block   bg-danger text-white messageStyle",children:t.province}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsx)(O.a,{style:{fontSize:18,fontWeight:"bold"},children:Object(S.jsx)(x.a,{id:"forms.DistrictLabel"})}),Object(S.jsx)(v.c,{name:"district",id:"district",value:s.district,options:null===he||void 0===he?void 0:he.filter((function(e){return e.province===s.province.value})),onChange:l,onBlur:c}),t.district&&a.district?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.district}):null]})]}),Object(S.jsxs)(p.a,{xxs:"5",className:" mt-5",children:[Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.StdFatherName"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(i.a,{className:"form-control fieldStyle",name:"fatherName"}),t.fatherName&&a.fatherName?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.fatherName}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.KankorMarksLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(i.a,{className:"form-control fieldStyle",name:"kankorMarks",type:"number",min:"0",max:"100"}),t.kankorMarks&&a.kankorMarks?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.kankorMarks}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.FieldLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"field",id:"field",value:s.field,options:Oe,onChange:l,onBlur:c}),t.field&&a.field?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.field}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175 ",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"curriculum.eduactionalYearLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"educationalYear",id:"educationalYear",value:s.educationalYear,options:g.n,onChange:l,onBlur:c,required:!0}),t.educationalYear&&a.educationalYear?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.educationalYear}):null]}),Object(S.jsxs)(h.a,{className:"form-group has-float-label error-l-175",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{id:"forms.StudyTimeLabel"}),Object(S.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(S.jsx)(v.c,{name:"studyTime",id:"studyTime",value:s.studyTime,placeholder:"Select option",options:g.J,onChange:l,onBlur:c}),t.studyTime&&a.studyTime?Object(S.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]})]})]}),Object(S.jsx)(m.a,{children:Object(S.jsx)(p.a,{children:Object(S.jsx)(f.a,{color:"primary",className:"float-right  buttonStyle",size:"lg",type:"submit",style:{margin:"7% 0% 8% 9%"},children:Object(S.jsx)("span",{className:"label",children:Object(S.jsx)(x.a,{id:"forms.SubimssionButton"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=kankor-result.fb599fad.chunk.js.map