"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[7140],{7562:function(e,t,s){s.r(t);var a=s(4942),n=s(1413),r=s(74165),l=s(15861),i=s(29439),c=s(50390),u=s(16295),d=s(32121),o=s(830),x=(s(48907),s(49360)),m=s(31833),h=s(14237),j=s(14778),Z=s(64884),p=s(94048),f=s(16778),b=s(37671),v=s(16905),k=s(39873),g=s(26129),y=s(62559),N=x.Ry().shape({institute:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,y.jsx)(b.Z,{id:"forms.InstituteErr"})),educationalYear:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,y.jsx)(b.Z,{id:"forms.educationYearErr"})),studyTime:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,y.jsx)(b.Z,{id:"forms.StudyTimeErr"})),classs:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,y.jsx)(b.Z,{id:"marks.ClassErr"})),department:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,y.jsx)(b.Z,{id:"teacher.departmentIdErr"}))});t.default=function(e){e.match;var t=(0,c.useState)(!1),s=(0,i.Z)(t,2),x=(s[0],s[1],(0,c.useState)(!0)),S=(0,i.Z)(x,2),w=S[0],F=S[1],C=(0,c.useState)([]),T=(0,i.Z)(C,2),q=(T[0],T[1]),Y=(0,c.useState)([]),I=(0,i.Z)(Y,2),L=I[0],_=I[1],E=(0,c.useState)([]),B=(0,i.Z)(E,2),R=B[0],D=B[1],H=(0,c.useState)([]),V=(0,i.Z)(H,2),X=V[0],z=V[1],A=(0,c.useState)([]),J=(0,i.Z)(A,2),O=(J[0],J[1]),W=(0,c.useState)([]),G=(0,i.Z)(W,2),K=G[0],M=G[1],P=(0,c.useState)([]),Q=(0,i.Z)(P,2),U=Q[0],$=Q[1],ee=(0,c.useState)(""),te=(0,i.Z)(ee,2),se=te[0],ae=te[1],ne=(0,c.useState)(""),re=(0,i.Z)(ne,2),le=re[0],ie=re[1],ce=(0,c.useState)(""),ue=(0,i.Z)(ce,2),de=ue[0],oe=ue[1],xe=(0,c.useState)(""),me=(0,i.Z)(xe,2),he=(me[0],me[1],(0,c.useState)("")),je=(0,i.Z)(he,2),Ze=je[0],pe=je[1],fe=(0,c.useState)(""),be=(0,i.Z)(fe,2),ve=be[0],ke=be[1],ge=(0,c.useState)(55),ye=(0,i.Z)(ge,2),Ne=(ye[0],ye[1],(0,c.useState)()),Se=(0,i.Z)(Ne,2),we=(Se[0],Se[1],(0,c.useState)()),Fe=(0,i.Z)(we,2),Ce=(Fe[0],Fe[1],(0,c.useState)()),Te=(0,i.Z)(Ce,2),qe=Te[0],Ye=Te[1],Ie=(0,c.useState)(),Le=(0,i.Z)(Ie,2),_e=Le[0],Ee=Le[1],Be=(0,c.useState)(),Re=(0,i.Z)(Be,2),De=Re[0],He=Re[1],Ve=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("institute/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,_(s),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("institute/field/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,q(s),e.next=11;break;case 10:console.log("field error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(t){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,d.Z)("institute/institite-department/?institute=".concat(t.value),"",null);case 4:if(!(s=e.sent).data||200!==s.status){e.next=14;break}return console.log("response of department",s),e.next=9,s.data.map((function(e){return{value:e.department.id,label:e.department.name}}));case 9:a=e.sent,console.log("updatedData of department",a),D(a),e.next=15;break;case 14:console.log("department error");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("institute/classs/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:s=e.sent,z(s),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("institute/subject/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,O(s),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){Ve(),Xe(),Ae(),Je()}),[]),(0,c.useEffect)((function(){se&&(console.log("selectedInstitute",se),ze(se))}),[se]);var Oe=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(t){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("students/class_marks?institute=".concat(se.value,"&classs=").concat(de.value,"&shift=").concat(Ze.value,"&department=").concat(le.value,"&educational_year=").concat(ve.value),"",null);case 2:(s=e.sent).data&&200===s.status?(F(!1),M(s.data),$(s.data[0]),console.log("response.data ",s.data),a=de.label.split(" - "),Ye(a[0]),Ee(a[1]),He(a[2])):console.log("students error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=(0,c.useState)(K.reduce((function(e,t,s){return(0,n.Z)((0,n.Z)({},e),{},(0,a.Z)({},s,!1))}),{})),Ge=(0,i.Z)(We,2),Ke=Ge[0],Me=(Ge[1],(0,c.useState)(!1)),Pe=(0,i.Z)(Me,2),Qe=(Pe[0],Pe[1]);return(0,c.useEffect)((function(){Qe(Object.values(Ke).every(Boolean))}),[Ke]),console.log(Ke,"Item is checked"),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(m.Z,{children:[(0,y.jsx)("div",{className:"mt-4 ml-5",children:(0,y.jsx)("h2",{className:"mt-5 m-5 titleStyle",children:(0,y.jsx)(b.Z,{id:"marks.marksDisplayTitle"})})}),(0,y.jsx)(h.Z,{children:w?(0,y.jsx)(u.J9,{initialValues:{institute:[],educationlaYear:"",studyTime:[],classs:[],department:[]},validationSchema:N,onSubmit:Oe,children:function(e){var t=e.errors,s=e.touched,a=e.values,n=e.setFieldTouched,r=e.setFieldValue;return(0,y.jsxs)(u.l0,{className:"av-tooltip tooltip-label-right  style",children:[(0,y.jsxs)(j.Z,{className:"m-5",children:[(0,y.jsxs)(v.F,{xxs:"6",children:[(0,y.jsxs)(Z.Z,{className:"form-group has-float-label error-l-150  ",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"forms.InstituteLabel"})}),(0,y.jsx)(k.ju,{name:"institute",id:"institute",value:a.institute,options:L,onChange:r,onBlur:n,onClick:ae(a.institute)}),t.institute&&s.institute?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.institute}):null]}),(0,y.jsxs)(Z.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"forms.StudyTimeLabel"})}),(0,y.jsx)(k.ju,{name:"studyTime",id:"studyTime",value:a.studyTime,options:o.Zp,onChange:r,onBlur:n,onClick:pe(a.studyTime)}),t.studyTime&&s.studyTime?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.studyTime}):null]}),(0,y.jsxs)(Z.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"forms.educationYearLabel"})}),(0,y.jsx)(k.ju,{name:"educationalYear",id:"educationalYear",options:o.Ar,onChange:r,onBlur:n,onClick:ke(a.educationalYear)}),t.educationalYear&&s.educationalYear?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.educationalYear}):null]})]}),(0,y.jsxs)(v.F,{xxs:"6",children:[(0,y.jsxs)(Z.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"marks.ClassLabel"})}),(0,y.jsx)(k.ju,{name:"classs",id:"classs",value:a.classs,options:X,onChange:r,onBlur:n,onClick:oe(a.classs),required:!0}),t.classs&&s.classs?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.classs}):null]}),(0,y.jsxs)(Z.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"forms.studyDepartment"})}),(0,y.jsx)(k.ju,{name:"department",id:"department",value:a.department,options:R,onChange:r,onBlur:n,onClick:ie(a.department),required:!0}),t.department&&s.department?(0,y.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.department}):null]})]})]}),(0,y.jsx)(j.Z,{children:(0,y.jsx)(v.F,{children:(0,y.jsx)(f.Z,{color:"primary",className:"float-right m-5",size:"lg",type:"submit",children:(0,y.jsx)("span",{className:"label",children:(0,y.jsx)(b.Z,{id:"button.Next"})})})})})]})}}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(j.Z,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"2%"},children:[(0,y.jsxs)(v.F,{xxs:"2",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"forms.FieldLabel"})}),console.log("selectedDepartment",le),(0,y.jsx)("h6",{children:le.label})]}),(0,y.jsxs)(v.F,{xxs:"2",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"marks.ClassLabel"})}),(0,y.jsx)("h6",{children:qe})]}),(0,y.jsxs)(v.F,{xxs:"2",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"forms.StudyTimeLabel"})}),(0,y.jsx)("h6",{children:Ze.label})]}),(0,y.jsxs)(v.F,{xxs:"2",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"marks.SemesterLabel"})}),(0,y.jsx)("h6",{children:_e})]}),(0,y.jsxs)(v.F,{xxs:"2",children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(b.Z,{id:"marks.SectionLabel"})}),(0,y.jsx)("h6",{children:De})]})]}),(0,y.jsx)(j.Z,{style:{marginInline:"2%",maxWidth:"97%",maxHeight:"900px",overflowX:"auto",overflowY:"auto"},children:K.length>0?(0,y.jsxs)("table",{className:"table",striped:!0,children:[(0,y.jsx)("thead",{className:"thead-dark ",style:{marginInline:"2%"},children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{colspan:"3",className:"border text-center",children:(0,y.jsx)(b.Z,{id:"marks.studentChar"})}),(0,y.jsx)("th",{colspan:U.length-3,className:"border text-center",children:(0,y.jsx)(b.Z,{id:"marks.marksDisplayTitle"})})," "]})}),(0,y.jsx)("thead",{className:"thead-dark border  text-center",style:{marginInline:"5%"},children:(0,y.jsx)("tr",{children:U.map((function(e,t){return(0,y.jsx)("th",{className:"border  text-center",children:e.name},t)}))})}),(0,y.jsx)("tbody",{className:"border border ",style:{maxHeight:"500px",overflowY:"scroll",overflowX:"hidden"},children:K.map((function(e,t){return(0,y.jsx)("tr",{children:0==!t?(0,y.jsx)(y.Fragment,{children:e.map((function(e,t){return(0,y.jsx)(y.Fragment,{children:0===t||1===t||2===t?(0,y.jsx)("td",{scope:"col",className:"border text-center ",children:e.name}):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("td",{scope:"col",className:"border text-center ",children:e.score})})})}))}):null},t)}))}),(0,y.jsx)("tfoot",{className:"thead-dark",style:{marginInline:"5%"},children:(0,y.jsx)("tr",{children:U.map((function(e,t){return(0,y.jsx)("th",{className:"border  text-center",children:e.name},t)}))})})]}):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(g.Z,{type:"error",message:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc"})})}),(0,y.jsx)(j.Z,{className:" justify-content-center",children:(0,y.jsx)(v.F,{xxs:"12",className:"m-5",children:(0,y.jsx)(f.Z,{className:" m-4",onClick:function(){return F(!0)},children:(0,y.jsx)(b.Z,{id:"button.Back"})})})})]})})]})})}}}]);
//# sourceMappingURL=marks-display-allsubs.992602ce.chunk.js.map