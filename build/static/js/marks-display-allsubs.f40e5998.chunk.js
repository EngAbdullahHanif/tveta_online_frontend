(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[78],{1909:function(e,t,a){"use strict";a.r(t);var s=a(47),c=a(1),n=a(4),r=a.n(n),l=a(14),i=a(145),j=a(6),u=a(176),d=(a(35),a(181)),b=a(179),o=(a(264),a(182)),O=a(444),x=a(1211),m=a(445),h=a(1165),f=a(1166),p=a(644),v=a(147),g=a(151),k=a(178),y=(a(336),a(523)),N=a(12),S=o.e().shape({institute:o.e().shape({value:o.f().required()}).nullable().required(Object(N.jsx)(v.a,{id:"forms.InstituteErr"})),educationalYear:o.e().shape({value:o.f().required()}).nullable().required(Object(N.jsx)(v.a,{id:"forms.educationYearErr"})),studyTime:o.e().shape({value:o.f().required()}).nullable().required(Object(N.jsx)(v.a,{id:"forms.StudyTimeErr"})),classs:o.e().shape({value:o.f().required()}).nullable().required(Object(N.jsx)(v.a,{id:"marks.ClassErr"})),department:o.e().shape({value:o.f().required()}).nullable().required(Object(N.jsx)(v.a,{id:"teacher.departmentIdErr"}))});t.default=function(e){e.match;var t=Object(j.useState)(!1),a=Object(i.a)(t,2),n=(a[0],a[1],Object(j.useState)(!0)),o=Object(i.a)(n,2),w=o[0],C=o[1],T=Object(j.useState)([]),q=Object(i.a)(T,2),Y=(q[0],q[1]),I=Object(j.useState)([]),F=Object(i.a)(I,2),L=F[0],E=F[1],B=Object(j.useState)([]),D=Object(i.a)(B,2),J=D[0],H=D[1],V=Object(j.useState)([]),X=Object(i.a)(V,2),_=X[0],z=X[1],W=Object(j.useState)([]),A=Object(i.a)(W,2),G=(A[0],A[1]),K=Object(j.useState)([]),M=Object(i.a)(K,2),P=M[0],Q=M[1],R=Object(j.useState)([]),U=Object(i.a)(R,2),Z=U[0],$=U[1],ee=Object(j.useState)(""),te=Object(i.a)(ee,2),ae=te[0],se=te[1],ce=Object(j.useState)(""),ne=Object(i.a)(ce,2),re=ne[0],le=ne[1],ie=Object(j.useState)(""),je=Object(i.a)(ie,2),ue=je[0],de=je[1],be=Object(j.useState)(""),oe=Object(i.a)(be,2),Oe=(oe[0],oe[1],Object(j.useState)("")),xe=Object(i.a)(Oe,2),me=xe[0],he=xe[1],fe=Object(j.useState)(""),pe=Object(i.a)(fe,2),ve=pe[0],ge=pe[1],ke=Object(j.useState)(55),ye=Object(i.a)(ke,2),Ne=(ye[0],ye[1],Object(j.useState)()),Se=Object(i.a)(Ne,2),we=(Se[0],Se[1],Object(j.useState)()),Ce=Object(i.a)(we,2),Te=(Ce[0],Ce[1],Object(j.useState)()),qe=Object(i.a)(Te,2),Ye=qe[0],Ie=qe[1],Fe=Object(j.useState)(),Le=Object(i.a)(Fe,2),Ee=Le[0],Be=Le[1],De=Object(j.useState)(),Je=Object(i.a)(De,2),He=Je[0],Ve=Je[1],Xe=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("institute/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,E(a),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("institute/field/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,Y(a),e.next=11;break;case 10:console.log("field error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(l.a)(r.a.mark((function e(t){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d.a)("institute/institite-department/?institute=".concat(t.value),"",null);case 4:if(!(a=e.sent).data||200!==a.status){e.next=14;break}return console.log("response of department",a),e.next=9,a.data.map((function(e){return{value:e.department.id,label:e.department.name}}));case 9:s=e.sent,console.log("updatedData of department",s),H(s),e.next=15;break;case 14:console.log("department error");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("institute/classs/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:a=e.sent,z(a),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("institute/subject/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,G(a),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(j.useEffect)((function(){Xe(),_e(),We(),Ae()}),[]),Object(j.useEffect)((function(){ae&&(console.log("selectedInstitute",ae),ze(ae))}),[ae]);var Ge=function(){var e=Object(l.a)(r.a.mark((function e(t){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("students/class_marks?institute=".concat(ae.value,"&classs=").concat(ue.value,"&shift=").concat(me.value,"&department=").concat(re.value,"&educational_year=").concat(ve.value),"",null);case 2:(a=e.sent).data&&200===a.status?(C(!1),Q(a.data),$(a.data[0]),console.log("response.data ",a.data),s=ue.label.split(" - "),Ie(s[0]),Be(s[1]),Ve(s[2])):console.log("students error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=Object(j.useState)(P.reduce((function(e,t,a){return Object(c.a)(Object(c.a)({},e),{},Object(s.a)({},a,!1))}),{})),Me=Object(i.a)(Ke,2),Pe=Me[0],Qe=(Me[1],Object(j.useState)(!1)),Re=Object(i.a)(Qe,2),Ue=(Re[0],Re[1]);return Object(j.useEffect)((function(){Ue(Object.values(Pe).every(Boolean))}),[Pe]),console.log(Pe,"Item is checked"),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(O.a,{children:[Object(N.jsx)("div",{className:"mt-4 ml-5",children:Object(N.jsx)("h2",{className:"mt-5 m-5 titleStyle",children:Object(N.jsx)(v.a,{id:"marks.marksDisplayTitle"})})}),Object(N.jsx)(x.a,{children:w?Object(N.jsx)(u.c,{initialValues:{institute:[],educationlaYear:"",studyTime:[],classs:[],department:[]},validationSchema:S,onSubmit:Ge,children:function(e){var t=e.errors,a=e.touched,s=e.values,c=e.setFieldTouched,n=e.setFieldValue;return Object(N.jsxs)(u.b,{className:"av-tooltip tooltip-label-right  style",children:[Object(N.jsxs)(m.a,{className:"m-5",children:[Object(N.jsxs)(g.a,{xxs:"6",children:[Object(N.jsxs)(h.a,{className:"form-group has-float-label error-l-150  ",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"forms.InstituteLabel"})}),Object(N.jsx)(k.c,{name:"institute",id:"institute",value:s.institute,options:L,onChange:n,onBlur:c,onClick:se(s.institute)}),t.institute&&a.institute?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.institute}):null]}),Object(N.jsxs)(h.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"forms.StudyTimeLabel"})}),Object(N.jsx)(k.c,{name:"studyTime",id:"studyTime",value:s.studyTime,options:b.J,onChange:n,onBlur:c,onClick:he(s.studyTime)}),t.studyTime&&a.studyTime?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.studyTime}):null]}),Object(N.jsxs)(h.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"forms.educationYearLabel"})}),Object(N.jsx)(k.c,{name:"educationalYear",id:"educationalYear",options:b.n,onChange:n,onBlur:c,onClick:ge(s.educationalYear)}),t.educationalYear&&a.educationalYear?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.educationalYear}):null]})]}),Object(N.jsxs)(g.a,{xxs:"6",children:[Object(N.jsxs)(h.a,{className:"form-group has-float-label error-l-150 ",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"marks.ClassLabel"})}),Object(N.jsx)(k.c,{name:"classs",id:"classs",value:s.classs,options:_,onChange:n,onBlur:c,onClick:de(s.classs),required:!0}),t.classs&&a.classs?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.classs}):null]}),Object(N.jsxs)(h.a,{className:"form-group has-float-label mt-5 error-l-150",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"forms.studyDepartment"})}),Object(N.jsx)(k.c,{name:"department",id:"department",value:s.department,options:J,onChange:n,onBlur:c,onClick:le(s.department),required:!0}),t.department&&a.department?Object(N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.department}):null]})]})]}),Object(N.jsx)(m.a,{children:Object(N.jsx)(g.a,{children:Object(N.jsx)(p.a,{color:"primary",className:"float-right m-5",size:"lg",type:"submit",children:Object(N.jsx)("span",{className:"label",children:Object(N.jsx)(v.a,{id:"button.Next"})})})})})]})}}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(m.a,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"2%"},children:[Object(N.jsxs)(g.a,{xxs:"2",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"forms.FieldLabel"})}),console.log("selectedDepartment",re),Object(N.jsx)("h6",{children:re.label})]}),Object(N.jsxs)(g.a,{xxs:"2",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"marks.ClassLabel"})}),Object(N.jsx)("h6",{children:Ye})]}),Object(N.jsxs)(g.a,{xxs:"2",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"forms.StudyTimeLabel"})}),Object(N.jsx)("h6",{children:me.label})]}),Object(N.jsxs)(g.a,{xxs:"2",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"marks.SemesterLabel"})}),Object(N.jsx)("h6",{children:Ee})]}),Object(N.jsxs)(g.a,{xxs:"2",children:[Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{id:"marks.SectionLabel"})}),Object(N.jsx)("h6",{children:He})]})]}),Object(N.jsx)(m.a,{style:{marginInline:"2%",maxWidth:"97%",maxHeight:"900px",overflowX:"auto",overflowY:"auto"},children:P.length>0?Object(N.jsxs)("table",{className:"table",striped:!0,children:[Object(N.jsx)("thead",{className:"thead-dark ",style:{marginInline:"2%"},children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{colspan:"3",className:"border text-center",children:Object(N.jsx)(v.a,{id:"marks.studentChar"})}),Object(N.jsx)("th",{colspan:Z.length-3,className:"border text-center",children:Object(N.jsx)(v.a,{id:"marks.marksDisplayTitle"})})," "]})}),Object(N.jsx)("thead",{className:"thead-dark border  text-center",style:{marginInline:"5%"},children:Object(N.jsx)("tr",{children:Z.map((function(e,t){return Object(N.jsx)("th",{className:"border  text-center",children:e.name},t)}))})}),Object(N.jsx)("tbody",{className:"border border ",style:{maxHeight:"500px",overflowY:"scroll",overflowX:"hidden"},children:P.map((function(e,t){return Object(N.jsx)("tr",{children:0==!t?Object(N.jsx)(N.Fragment,{children:e.map((function(e,t){return Object(N.jsx)(N.Fragment,{children:0===t||1===t||2===t?Object(N.jsx)("td",{scope:"col",className:"border text-center ",children:e.name}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("td",{scope:"col",className:"border text-center ",children:e.score})})})}))}):null},t)}))}),Object(N.jsx)("tfoot",{className:"thead-dark",style:{marginInline:"5%"},children:Object(N.jsx)("tr",{children:Z.map((function(e,t){return Object(N.jsx)("th",{className:"border  text-center",children:e.name},t)}))})})]}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(y.a,{type:"error",message:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc"})})}),Object(N.jsx)(m.a,{className:" justify-content-center",children:Object(N.jsx)(g.a,{xxs:"12",className:"m-5",children:Object(N.jsx)(p.a,{className:" m-4",onClick:function(){return C(!0)},children:Object(N.jsx)(v.a,{id:"button.Back"})})})})]})})]})})}}}]);
//# sourceMappingURL=marks-display-allsubs.f40e5998.chunk.js.map