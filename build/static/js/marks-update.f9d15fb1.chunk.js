"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[8006],{97152:function(e,t,s){s.r(t);var n=s(93433),a=s(74165),r=s(15861),l=s(29439),i=s(50390),c=s(16295),d=s(45133),o=s.n(d),u=s(14037),x=s(32121),h=s(830),m=(s(48907),s(49360)),j=s(31833),p=s(14237),f=s(14778),Z=s(64884),b=s(94048),v=s(16778),g=s(22834),k=s(37671),y=s(16905),S=s(39873),N=s(62559),w=m.Ry().shape({institute:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,N.jsx)(k.Z,{id:"forms.InstituteErr"})),educationalYear:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,N.jsx)(k.Z,{id:"forms.educationYearErr"})),studyTime:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,N.jsx)(k.Z,{id:"forms.StudyTimeErr"})),classs:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,N.jsx)(k.Z,{id:"marks.ClassErr"})),department:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,N.jsx)(k.Z,{id:"teacher.departmentIdErr"})),subject:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,N.jsx)(k.Z,{id:"marks.SubjectErr"}))}),_={institute:[],educationalYear:[],studyTime:[],classs:[],department:[],subject:[]};t.default=function(e){e.match;var t=(0,i.useState)(!1),s=(0,l.Z)(t,2),d=s[0],m=s[1],C=(0,i.useState)(0),F=(0,l.Z)(C,2),z=(F[0],F[1],(0,i.useState)(!1)),q=(0,l.Z)(z,2),T=q[0],I=q[1],Y=(0,i.useState)([]),L=(0,l.Z)(Y,2),A=(L[0],L[1]),E=(0,i.useState)([]),B=(0,l.Z)(E,2),R=B[0],D=B[1],W=(0,i.useState)([]),V=(0,l.Z)(W,2),M=V[0],J=V[1],X=(0,i.useState)([]),O=(0,l.Z)(X,2),P=O[0],U=O[1],G=(0,i.useState)([]),H=(0,l.Z)(G,2),K=H[0],Q=H[1],$=(0,i.useState)([]),ee=(0,l.Z)($,2),te=ee[0],se=ee[1],ne=(0,i.useState)(),ae=(0,l.Z)(ne,2),re=ae[0],le=ae[1],ie=(0,i.useState)(""),ce=(0,l.Z)(ie,2),de=ce[0],oe=ce[1],ue=(0,i.useState)(""),xe=(0,l.Z)(ue,2),he=xe[0],me=xe[1],je=(0,i.useState)(""),pe=(0,l.Z)(je,2),fe=pe[0],Ze=pe[1],be=(0,i.useState)(""),ve=(0,l.Z)(be,2),ge=ve[0],ke=ve[1],ye=(0,i.useState)(""),Se=(0,l.Z)(ye,2),Ne=Se[0],we=Se[1],_e=(0,i.useState)(55),Ce=(0,l.Z)(_e,2),Fe=(Ce[0],Ce[1],(0,i.useState)()),ze=(0,l.Z)(Fe,2),qe=(ze[0],ze[1],(0,i.useState)()),Te=(0,l.Z)(qe,2),Ie=(Te[0],Te[1],(0,i.useState)()),Ye=(0,l.Z)(Ie,2),Le=(Ye[0],Ye[1],(0,u.useParams)().markId),Ae=(0,i.useState)({classs:"",semester:"",section:""}),Ee=(0,l.Z)(Ae,2),Be=Ee[0],Re=Ee[1];function De(){return(De=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(1,"/?student_id=",Le));case 2:t=e.sent,t.data;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((function(){if(!(0,c.yD)(he)&&""!==he){var e=he.label.split("-"),t=(0,l.Z)(e,3),s=t[0],n=t[1],a=t[2];Re({classs:n,semester:s,section:a})}}),[he]),(0,i.useEffect)((function(){Le&&function(){De.apply(this,arguments)}()}),[]);var We=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/","",null);case 2:if(t=e.sent,console.warn("Reponse Institutes: ",t),!t.data||200!==t.status){e.next=12;break}return e.next=7,t.data.map((function(e){return{value:e.id,label:e.name}}));case 7:s=e.sent,console.warn("Updated Institutes: ",s),D(s),e.next=13;break;case 12:console.log("institute error");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/field/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,A(s),e.next=11;break;case 10:console.log("field error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,x.Z)("institute/institite-department/?institute=".concat(t.value),"",null);case 4:if(!(s=e.sent).data||200!==s.status){e.next=14;break}return console.log("response of department",s),e.next=9,s.data.map((function(e){return{value:e.department.id,label:e.department.name}}));case 9:n=e.sent,console.log("updatedData of department",n),J(n),e.next=15;break;case 14:console.log("department error");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/classs/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:s=e.sent,U(s),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/subject/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,Q(s),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){We(),Ve(),Je(),Xe()}),[]),(0,i.useEffect)((function(){re&&(console.log("selectedInstitute",re),Me(re))}),[re]);var Oe=function(e,t){var s=t||"";switch(e){case"success":g.fn.success("\u0646\u0645\u0631\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648\u06cc","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,s);break;case"error":g.fn.error("\u0646\u0645\u0631\u06cc \u062b\u0628\u062a \u0646\u0647 \u0634\u0648\u06cc \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,s);break;default:g.fn.info("Info message")}},Pe=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("students/rejected-subject-marks-list/?institute=".concat(re.value,"&classs=").concat(he.value,"&shift=").concat(ge.value,"&department=").concat(de.value,"&educational_year=").concat(Ne.value,"&subject=").concat(fe.value),"",null);case 2:(s=e.sent).data&&200===s.status?(console.log("response of students",s),se(s.data),m(!0)):console.log("subject error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var s,r,l,i,c,d,o,u,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Ne.value,r=re.value,l=de.value,i=he.value,c=fe.value,d=ge.value,console.log("educationalYear",s),console.log("instituteId",r),console.log("departmentId",l),console.log("classId",i),console.log("subjectId",c),o=te.map((function(e,s){return{student_id:e.student,marks:t.score[e.student],exam_result_id:e.class_exam_id}})),console.log("newStudents",o),u=[{educational_year:s,institute:r,department:l,classs:i,subject:c,shift:d}].concat((0,n.Z)(o)),console.log("data",u),e.next=17,(0,x.Z)("students/update-rejected-subject-marks/","POST",u);case 17:200===(h=e.sent).status||201===h.status||202===h.status?(I(!0),Oe("success","filled")):(console.log("marks error"),Oe("error","filled"));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(j.Z,{children:[(0,N.jsx)("div",{className:"mt-4 ml-5",children:(0,N.jsx)("h2",{className:"mt-5 m-5 titleStyle",children:"\u062f \u0631\u062f \u0634\u0648\u06cc\u0648 \u0646\u0645\u0631\u0648 \u0627\u067e\u062f\u06cc\u062a"})}),(0,N.jsx)(p.Z,{children:d?(0,N.jsx)(N.Fragment,{children:T?(0,N.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("h1",{className:"mb-2",children:(0,N.jsx)(k.Z,{id:"wizard.content-thanks"})}),(0,N.jsx)("h3",{children:(0,N.jsx)(k.Z,{id:"wizard.registered"})}),(0,N.jsx)(v.Z,{className:"m-5 bg-primary",onClick:function(){m(!1),I(!1)},children:(0,N.jsx)(k.Z,{id:"button.Back"})})]})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(f.Z,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"16%"},children:[(0,N.jsxs)(y.F,{xxs:"2",children:[(0,N.jsx)(b.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:(0,N.jsx)(k.Z,{id:"forms.FieldLabel"})}),(0,N.jsx)("h5",{children:de.label})]}),(0,N.jsxs)(y.F,{xxs:"2",children:[(0,N.jsx)(b.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:(0,N.jsx)(k.Z,{id:"marks.ClassLabel"})}),(0,N.jsx)("h5",{children:Be.classs})]}),(0,N.jsxs)(y.F,{xxs:"2",children:[(0,N.jsx)(b.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:(0,N.jsx)(k.Z,{id:"forms.StudyTimeLabel"})}),(0,N.jsx)("h5",{children:ge.label})]}),(0,N.jsxs)(y.F,{xxs:"2",children:[(0,N.jsx)(b.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:(0,N.jsx)(k.Z,{id:"marks.SemesterLabel"})}),(0,N.jsx)("h5",{children:Be.semester})]}),(0,N.jsxs)(y.F,{xxs:"2",children:[(0,N.jsx)(b.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:(0,N.jsx)(k.Z,{id:"marks.SectionLabel"})}),(0,N.jsx)("h5",{children:Be.section})]}),(0,N.jsxs)(y.F,{xxs:"2",children:[(0,N.jsx)(b.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:(0,N.jsx)(k.Z,{id:"marks.SubjectLabel"})}),(0,N.jsx)("h5",{children:fe.label})]})]}),(0,N.jsx)(c.J9,{initialValues:_,onSubmit:Ue,children:function(e){var t=e.errors,s=e.touched;return(0,N.jsxs)(c.l0,{className:"av-tooltip tooltip-label-right ",children:[(0,N.jsx)(f.Z,{className:"justify-content-center  border border",style:{marginInline:"16%",height:"30rem",overflowY:"scroll",overflowX:"hidden"},children:(0,N.jsxs)("table",{className:"table ",children:[(0,N.jsx)("thead",{className:"thead-dark",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.No"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.FullName"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.FatherName"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.ID"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"\u067e\u062e\u0648\u0627\u0646\u06cc \u0646\u0645\u0631\u06cc"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.Marks"})})]})}),(0,N.jsx)("tbody",{className:"border border ",style:{overflowY:"scroll",overflowX:"hidden"},children:te.length>0&&te.map((function(e,n){return(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{scope:"row",style:{fontSize:"20px",textAlign:"center"},children:n+1}),(0,N.jsx)("td",{style:{fontSize:"20px",textAlign:"center"},children:e.student_name}),(0,N.jsx)("td",{style:{fontSize:"20px",textAlign:"center"},children:e.student_father_name}),(0,N.jsx)("td",{style:{fontSize:"20px",textAlign:"center"},children:e.student}),(0,N.jsx)("td",{style:{fontSize:"20px",textAlign:"center"},children:e.subject_id.map((function(e){return(0,N.jsx)(N.Fragment,{children:e.marks})}))}),(0,N.jsx)("td",{children:(0,N.jsxs)("div",{style:{margin:"-7px",fontSize:"15px"},children:[(0,N.jsx)(c.gN,{type:"number",style:{fontSize:"15px",textAlign:"center"},className:"form-control",name:"score[".concat(e.student,"]"),min:"0",max:"100"}),t.score&&s.score?(0,N.jsx)("div",{className:"invalid-feedback d-block",children:t.score}):null]})})]},n)}))}),(0,N.jsx)("tfoot",{className:"thead-dark",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.No"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.FullName"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.FatherName"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.ID"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"\u067e\u062e\u0648\u0627\u0646\u06cc \u0646\u0645\u0631\u06cc"})}),(0,N.jsx)("th",{scope:"col",style:{fontSize:"15px",textAlign:"center"},children:(0,N.jsx)(k.Z,{id:"marks.Marks"})})]})})]})}),(0,N.jsx)(f.Z,{className:" justify-content-center",children:(0,N.jsxs)(y.F,{xxs:"9",className:"m-5",children:[(0,N.jsx)(v.Z,{className:" m-4 ",color:"primary",onClick:function(){return m(!1)},children:(0,N.jsx)(k.Z,{id:"button.Back"})}),(0,N.jsx)("div",{className:"d-flex justify-content-between align-items-center m-4 float-right",children:(0,N.jsx)(v.Z,{size:"lg",type:"submit",color:"primary",children:(0,N.jsx)(k.Z,{id:"button.SubmitButton"})})})]})})]})}})]})}):(0,N.jsx)(c.J9,{initialValues:_,onSubmit:Pe,validationSchema:w,children:function(e){var t=e.errors,s=e.touched,n=e.values,a=e.setFieldTouched,r=e.setFieldValue,l=e.handleSubmit;return(0,N.jsxs)(c.l0,{className:"av-tooltip tooltip-label-right  style",children:[(0,N.jsxs)(f.Z,{className:"m-5",children:[(0,N.jsxs)(y.F,{xxs:"6",children:[(0,N.jsxs)(Z.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,N.jsx)(b.Z,{children:(0,N.jsx)(k.Z,{id:"forms.InstituteLabel"})}),(0,N.jsx)(S.ju,{name:"institute",id:"institute",options:R,onChange:r,onBlur:a,onClick:le(n.institute)}),t.institute&&s.institute?(0,N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.institute}):null]}),(0,N.jsxs)(Z.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,N.jsx)(b.Z,{children:(0,N.jsx)(k.Z,{id:"forms.StudyTimeLabel"})}),(0,N.jsx)(S.ju,{name:"studyTime",id:"studyTime",value:n.studyTime,options:h.Zp,onChange:r,onBlur:a,onClick:ke(n.studyTime)}),t.studyTime&&s.studyTime?(0,N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.studyTime}):null]}),(0,N.jsxs)(Z.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,N.jsx)(b.Z,{children:(0,N.jsx)(k.Z,{id:"forms.educationYearLabel"})}),(0,N.jsx)(S.ju,{name:"educationalYear",id:"educationalYear",options:h.Ar,onChange:r,onBlur:a,onClick:we(n.educationalYear)}),t.educationalYear&&s.educationalYear?(0,N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.educationalYear}):null]})]}),(0,N.jsxs)(y.F,{xxs:"6",children:[(0,N.jsxs)(Z.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,N.jsx)(b.Z,{children:(0,N.jsx)(k.Z,{id:"marks.ClassLabel"})}),(0,N.jsx)(S.ju,{name:"classs",id:"classs",value:n.classs,options:P,onChange:r,onBlur:a,onClick:me(n.classs),required:!0}),t.classs&&s.classs?(0,N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.classs}):null]}),(0,N.jsxs)(Z.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,N.jsx)(b.Z,{children:(0,N.jsx)(k.Z,{id:"forms.studyDepartment"})}),(0,N.jsx)(S.ju,{name:"department",id:"department",value:n.department,options:M,onChange:r,onBlur:a,onClick:oe(n.department),required:!0}),t.department&&s.department?(0,N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.department}):null]}),(0,N.jsxs)(Z.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,N.jsx)(b.Z,{children:(0,N.jsx)(k.Z,{id:"marks.SubjectLabel"})}),(0,N.jsx)(S.ju,{name:"subject",id:"subject",value:n.subject,options:K,onChange:r,onBlur:a,onClick:Ze(n.subject),required:!0}),t.subject&&s.subject?(0,N.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.subject}):null]})]})]}),(0,N.jsx)(f.Z,{children:(0,N.jsx)(y.F,{children:(0,N.jsx)(v.Z,{onClick:l,color:"primary",className:"float-right  buttonStyle",size:"lg",style:{margin:"2% 0% 10% 6%"},children:(0,N.jsx)("span",{className:"label",children:(0,N.jsx)(k.Z,{id:"button.Next"})})})})})]})}})})]})})}},68849:function(e,t,s){s.r(t);var n=s(93433),a=s(74165),r=s(15861),l=s(29439),i=s(50390),c=s(16295),d=s(45133),o=s.n(d),u=s(830),x=s(49360),h=s(31833),m=s(14237),j=s(14778),p=s(64884),f=s(94048),Z=s(16778),b=s(37671),v=s(16905),g=s(39873),k=s(62559),y=(b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,b.Z,[{value:"1",label:(0,k.jsx)(b.Z,{id:"forms.chanceOne"})},{value:"2",label:(0,k.jsx)(b.Z,{id:"forms.chanceTwo"})}]),S=x.Ry().shape({institute:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,k.jsx)(b.Z,{id:"forms.InstituteErr"})),educationlaYear:x.Z_().required((0,k.jsx)(b.Z,{id:"forms.educationYearErr"})),studyTime:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,k.jsx)(b.Z,{id:"forms.StudyTimeErr"})),classs:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,k.jsx)(b.Z,{id:"marks.ClassErr"})),department:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,k.jsx)(b.Z,{id:"teacher.departmentIdErr"})),subject:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,k.jsx)(b.Z,{id:"marks.SubjectErr"})),studentId:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,k.jsx)(b.Z,{id:"marks.studentIdErr"})),chance:x.Ry().shape({value:x.Z_().required()}).nullable().required((0,k.jsx)(b.Z,{id:"marks.chanceErr"}))}),N={institute:[],educationlaYear:"",studyTime:[],classs:[],department:[],subject:[],studentId:[],chance:[]};t.default=function(e){e.match;var t=(0,i.useState)(!1),s=(0,l.Z)(t,2),d=(s[0],s[1],(0,i.useState)(!0)),x=(0,l.Z)(d,2),w=x[0],_=x[1],C=(0,i.useState)([]),F=(0,l.Z)(C,2),z=(F[0],F[1]),q=(0,i.useState)([]),T=(0,l.Z)(q,2),I=T[0],Y=T[1],L=(0,i.useState)([]),A=(0,l.Z)(L,2),E=A[0],B=A[1],R=(0,i.useState)([]),D=(0,l.Z)(R,2),W=D[0],V=D[1],M=(0,i.useState)([]),J=(0,l.Z)(M,2),X=J[0],O=J[1],P=(0,i.useState)([]),U=(0,l.Z)(P,2),G=U[0],H=U[1],K=(0,i.useState)(""),Q=(0,l.Z)(K,2),$=Q[0],ee=Q[1],te=(0,i.useState)(""),se=(0,l.Z)(te,2),ne=se[0],ae=se[1],re=(0,i.useState)(""),le=(0,l.Z)(re,2),ie=le[0],ce=le[1],de=(0,i.useState)(""),oe=(0,l.Z)(de,2),ue=oe[0],xe=oe[1],he=(0,i.useState)(""),me=(0,l.Z)(he,2),je=me[0],pe=me[1],fe=(0,i.useState)(""),Ze=(0,l.Z)(fe,2),be=Ze[0],ve=Ze[1],ge=(0,i.useState)(55),ke=(0,l.Z)(ge,2),ye=(ke[0],ke[1],(0,i.useState)()),Se=(0,l.Z)(ye,2),Ne=(Se[0],Se[1],(0,i.useState)()),we=(0,l.Z)(Ne,2),_e=(we[0],we[1],(0,i.useState)(!1)),Ce=(0,l.Z)(_e,2),Fe=Ce[0],ze=Ce[1],qe=(0,i.useState)(),Te=(0,l.Z)(qe,2),Ie=(Te[0],Te[1],function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("http://localhost:8000/institute/");case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,Y(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ye=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("http://localhost:8000/institute/field/");case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,z(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("http://localhost:8000/institute/department/");case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,B(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("http://localhost:8000/institute/classs/");case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 5:s=e.sent,V(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("http://localhost:8000/institute/subject/");case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,O(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){Ie(),Ye(),Le(),Ae(),Ee()}),[]);var Be=function(e){o().get("http://localhost:8000/api/student-for-marks?institute=".concat($.value,"&classs=").concat(ie.value,"&study_time=").concat(je.value,"&department=").concat(ne.value,"&educational_year=").concat(be)).then((function(e){console.log("response.data",e.data),H(e.data),_(!1)})),console.log("http://localhost:8000/api/student-for-marks?institute=".concat($.value,"&classs=").concat(ie.value,"&study_time=").concat(je.value,"&department=").concat(ne.value,"&educational_year=").concat(be)),console.log("students",G)},Re=function(e){console.log("values",e);var t=be,s=$.value,a=ne.value,r=ie.value,l=ue.value,i=G.map((function(t,s){return{student_id:t.student_id,score:e.score[t.student_id]}})),c=[{educational_year:t,institute_id:s,Department:a,class_id:r,subject_id:l}].concat((0,n.Z)(i));console.log("data",c),o().post("http://localhost:8000/api/create_marks/",c).then((function(e){console.log("res",e)})).then((function(e){console.log("err",e)}))};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(h.Z,{children:[(0,k.jsx)("h3",{className:"mt-5 m-5",children:(0,k.jsx)(b.Z,{id:"marks.singleStudentMarksUpdate"})}),(0,k.jsx)(m.Z,{children:Fe?(0,k.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"mb-2",children:(0,k.jsx)(b.Z,{id:"wizard.content-thanks"})}),(0,k.jsx)("h3",{children:(0,k.jsx)(b.Z,{id:"wizard.registered"})}),(0,k.jsx)(Z.Z,{className:"m-5 bg-primary",onClick:function(){ze(!1),_(!0)},children:(0,k.jsx)(b.Z,{id:"button.Back"})})]})}):(0,k.jsx)(k.Fragment,{children:w?(0,k.jsx)(c.J9,{initialValues:N,onSubmit:Re,validationSchema:S,children:function(e){var t=e.errors,s=e.touched,n=e.values,a=e.setFieldTouched,r=e.setFieldValue;return(0,k.jsxs)(c.l0,{className:"av-tooltip tooltip-label-right ",children:[(0,k.jsxs)(j.Z,{className:"m-5",children:[(0,k.jsxs)(v.F,{xxs:"6",children:[(0,k.jsxs)(p.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"forms.InstituteLabel"})}),(0,k.jsx)(g.ju,{name:"institute",id:"institute",value:n.institute,options:I,onChange:r,onBlur:a,onClick:ee(n.institute)}),t.institute&&s.institute?(0,k.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.institute}):null]}),(0,k.jsxs)(p.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"forms.StudyTimeLabel"})}),(0,k.jsx)(g.ju,{name:"studyTime",id:"studyTime",value:n.studyTime,options:u.Zp,onChange:r,onBlur:a,onClick:pe(n.studyTime)}),t.studyTime&&s.studyTime?(0,k.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.studyTime}):null]}),(0,k.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"forms.educationYearLabel"})}),(0,k.jsx)(c.gN,{type:"number",id:"educationlaYear",className:"form-control",name:"educationlaYear",onClick:ve(n.educationlaYear)}),t.educationlaYear&&s.educationlaYear?(0,k.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.educationlaYear}):null]})]}),(0,k.jsxs)(v.F,{xxs:"6",children:[(0,k.jsxs)(p.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"marks.ClassLabel"})}),(0,k.jsx)(g.ju,{name:"classs",id:"classs",value:n.classs,options:W,onChange:r,onBlur:a,onClick:ce(n.classs),required:!0}),t.classs&&s.classs?(0,k.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.classs}):null]}),(0,k.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"forms.studyDepartment"})}),(0,k.jsx)(g.ju,{name:"department",id:"department",value:n.department,options:E,onChange:r,onBlur:a,onClick:ae(n.department),required:!0}),t.department&&s.department?(0,k.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.department}):null]}),(0,k.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"marks.SubjectLabel"})}),(0,k.jsx)(g.ju,{name:"subject",id:"subject",value:n.subject,options:X,onChange:r,onBlur:a,onClick:xe(n.subject),required:!0}),t.subject&&s.subject?(0,k.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.subject}):null]}),(0,k.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"marks.chance"})}),(0,k.jsx)(g.ju,{name:"chance",id:"chance",value:n.chance,options:y,onChange:r,onBlur:a,onClick:xe(n.chance),required:!0}),t.chance&&s.chance?(0,k.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.chance}):null]})]})]}),(0,k.jsx)(j.Z,{children:(0,k.jsx)(v.F,{children:(0,k.jsxs)(Z.Z,{color:"primary",className:"float-right m-5",size:"lg",type:"submit",onClick:function(){Re(),Be()},children:[(0,k.jsxs)("span",{className:"spinner d-inline-block",children:[(0,k.jsx)("span",{className:"bounce1"}),(0,k.jsx)("span",{className:"bounce2"}),(0,k.jsx)("span",{className:"bounce3"})]}),(0,k.jsx)("span",{className:"label",children:(0,k.jsx)(b.Z,{id:"button.Next"})})]})})})]})}}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(j.Z,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"16%"},children:[(0,k.jsxs)(v.F,{xxs:"2",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"forms.FieldLabel"})}),console.log("selectedDepartment",ne),(0,k.jsx)("h6",{children:ne.label})]}),(0,k.jsxs)(v.F,{xxs:"2",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"marks.ClassLabel"})}),(0,k.jsx)("h6",{children:ie.label})]}),(0,k.jsxs)(v.F,{xxs:"2",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"forms.StudyTimeLabel"})}),(0,k.jsx)("h6",{children:je.label})]}),(0,k.jsxs)(v.F,{xxs:"2",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"marks.SemesterLabel"})}),(0,k.jsx)("h6",{children:ie.label})]}),(0,k.jsxs)(v.F,{xxs:"2",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"marks.SectionLabel"})}),(0,k.jsx)("h6",{children:ie.label})]}),(0,k.jsxs)(v.F,{xxs:"2",children:[(0,k.jsx)(f.Z,{children:(0,k.jsx)(b.Z,{id:"marks.SubjectLabel"})}),(0,k.jsx)("h6",{children:ue.label})]})]}),(0,k.jsx)(j.Z,{className:"justify-content-center  border border",style:{marginInline:"16%"},children:(0,k.jsx)("table",{className:"table",children:(0,k.jsx)("thead",{className:"thead-dark",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"col",children:(0,k.jsx)(b.Z,{id:"marks.No"})}),(0,k.jsx)("th",{scope:"col",children:(0,k.jsx)(b.Z,{id:"marks.FullName"})}),(0,k.jsx)("th",{scope:"col",children:(0,k.jsx)(b.Z,{id:"marks.FatherName"})}),(0,k.jsx)("th",{scope:"col",children:(0,k.jsx)(b.Z,{id:"marks.ID"})}),(0,k.jsx)("th",{scope:"col",children:(0,k.jsx)(b.Z,{id:"marks.Marks"})})]})})})}),(0,k.jsx)(j.Z,{className:"justify-content-center ",style:{marginInline:"16%",overflowX:"hidden"},children:(0,k.jsx)("table",{class:"table ",children:(0,k.jsx)("tbody",{children:G.map((function(e,t){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"row",children:t}),(0,k.jsx)("td",{children:e.name}),(0,k.jsx)("td",{children:e.father_name}),(0,k.jsx)("td",{children:e.student_id}),(0,k.jsx)("div",{class:"form-group mx-sm-3 mb-2",children:(0,k.jsx)(p.Z,{className:"form-group",children:(0,k.jsx)(c.gN,{type:"number",className:"form-control",name:"score[".concat(e.student_id,"]")})})})]})}))})})}),(0,k.jsx)(j.Z,{className:" justify-content-center",children:(0,k.jsxs)(v.F,{xxs:"9",className:"m-5",children:[(0,k.jsx)(Z.Z,{className:" m-4 ",onClick:function(){return Be()},children:(0,k.jsx)(b.Z,{id:"button.Back"})}),(0,k.jsx)("div",{className:"d-flex justify-content-between align-items-center m-4 float-right",children:(0,k.jsxs)(Z.Z,{className:"btn-shadow btn-multiple-state ",size:"lg",type:"submit",children:["onClick =",function(){return ze(!0)},(0,k.jsx)("span",{className:"label",children:(0,k.jsx)(b.Z,{id:"button.SubmitButton"})})]})})]})})]})})})]})})}}}]);
//# sourceMappingURL=marks-update.f9d15fb1.chunk.js.map