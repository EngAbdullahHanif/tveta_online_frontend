"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[4928],{47657:function(e,t,n){n.r(t);var a=n(93433),c=n(74165),u=n(1413),r=n(15861),o=n(29439),l=n(50390),i=n(45133),s=n.n(i),d=n(95879),m=n(13867),g=n(208),f=n(46351),h=n(95414),p=n(62559),Z=function(e,t,n){for(var a=0;a<t.length;a+=1)if(t[a][n]===e)return a;return-1},S="".concat(d.$w,"/cakes/paging"),v=[{column:"title",label:"Product Name"},{column:"category",label:"Category"},{column:"status",label:"Status"}],C=[4,8,12,20],k=[{label:"Cakes",value:"Cakes",key:0},{label:"Cupcakes",value:"Cupcakes",key:1},{label:"Desserts",value:"Desserts",key:2}];t.default=function(e){var t=e.match,n=(0,l.useState)(!1),i=(0,o.Z)(n,2),d=i[0],y=i[1],x=(0,l.useState)("thumblist"),b=(0,o.Z)(x,2),M=b[0],P=b[1],w=(0,l.useState)(1),E=(0,o.Z)(w,2),I=E[0],j=E[1],N=(0,l.useState)(8),O=(0,o.Z)(N,2),z=O[0],A=O[1],D=(0,l.useState)({column:"title",label:"Product Name"}),L=(0,o.Z)(D,2),B=L[0],K=L[1],_=(0,l.useState)(!1),F=(0,o.Z)(_,2),$=F[0],q=F[1],G=(0,l.useState)(0),H=(0,o.Z)(G,2),J=H[0],Q=H[1],R=(0,l.useState)(1),T=(0,o.Z)(R,2),U=T[0],V=T[1],W=(0,l.useState)(""),X=(0,o.Z)(W,2),Y=X[0],ee=X[1],te=(0,l.useState)([]),ne=(0,o.Z)(te,2),ae=ne[0],ce=ne[1],ue=(0,l.useState)([]),re=(0,o.Z)(ue,2),oe=re[0],le=re[1],ie=(0,l.useState)(null),se=(0,o.Z)(ie,2),de=se[0],me=se[1];(0,l.useEffect)((function(){j(1)}),[z,B]),(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s().get("".concat(S,"?pageSize=").concat(z,"&currentPage=").concat(I,"&orderBy=").concat(B.column,"&search=").concat(Y)).then((function(e){return e.data})).then((function(e){V(e.totalPage),le(e.data.map((function(e){return(0,u.Z)((0,u.Z)({},e),{},{img:e.img.replace("img/","img/products/")})}))),ce([]),Q(e.totalItem),y(!0)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z,I,B,Y]);var ge=function(e){return ae.length>=oe.length?e&&ce([]):ce(oe.map((function(e){return e.id}))),document.activeElement.blur(),!1};(0,h.Z)(["ctrl+a","command+a"],(function(){ge(!1)})),(0,h.Z)(["ctrl+d","command+d"],(function(){return ce([]),!1}));var fe=(I-1)*z,he=I*z;return d?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"disable-text-selection",children:[(0,p.jsx)(m.Z,{heading:"menu.thumb-list",displayMode:M,changeDisplayMode:P,handleChangeSelectAll:ge,changeOrderBy:function(e){K(v.find((function(t){return t.column===e})))},changePageSize:A,selectedPageSize:z,totalItemCount:J,selectedOrderOption:B,match:t,startIndex:fe,endIndex:he,selectedItemsLength:ae?ae.length:0,itemsLength:oe?oe.length:0,onSearchKey:function(e){"Enter"===e.key&&ee(e.target.value.toLowerCase())},orderOptions:v,pageSizes:C,toggleModal:function(){return q(!$)}}),(0,p.jsx)(g.Z,{modalOpen:$,toggleModal:function(){return q(!$)},categories:k}),(0,p.jsx)(f.Z,{items:oe,displayMode:M,selectedItems:ae,onCheckItem:function(e,t){if("A"===e.target.tagName||e.target.parentElement&&"A"===e.target.parentElement.tagName)return!0;null===de&&me(t);var n=(0,a.Z)(ae);if(n.includes(t)?n=n.filter((function(e){return e!==t})):n.push(t),ce(n),e.shiftKey){var c=(0,a.Z)(oe),u=Z(t,c,"id"),r=Z(de,c,"id");c=c.slice(Math.min(u,r),Math.max(u,r)+1),ae.push.apply(ae,(0,a.Z)(c.map((function(e){return e.id})))),n=Array.from(new Set(ae)),ce(n)}return document.activeElement.blur(),!1},currentPage:I,totalPage:U,onContextMenuClick:function(e,t){console.log("onContextMenuClick - selected items",ae),console.log("onContextMenuClick - action : ",t.action)},onContextMenu:function(e,t){var n=t.data;return ae.includes(n)||ce([n]),!0},onChangePage:j})]})}):(0,p.jsx)("div",{className:"loading"})}}}]);
//# sourceMappingURL=product-thumb-list.8ff83dce.chunk.js.map