"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[5480],{77622:function(e,s,t){t.r(s);var r=t(93433),n=t(74165),a=t(15861),l=t(29439),c=t(50390),i=t(16295),d=t(45133),o=t.n(d),u=t(14037),x=t(32121),h=t(830),m=(t(48907),t(49360)),j=t(31833),Z=t(14237),f=t(14778),p=t(64884),b=t(94048),v=t(16778),k=t(22834),g=t(37671),y=t(16905),N=t(39873),S=t(60652),w=t(62559),C=S.Z.API_URL,F=("".concat(C,"/api"),g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,g.Z,m.Ry().shape({institute:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"forms.InstituteErr"})),educationalYear:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"forms.educationYearErr"})),studyTime:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"forms.StudyTimeErr"})),classs:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"marks.ClassErr"})),department:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"teacher.departmentIdErr"})),subject:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"marks.SubjectErr"}))})),_={institute:[],educationlaYear:"",studyTime:[],classs:[],department:[],subject:[]};s.default=function(e){e.match;var s=(0,c.useState)(!1),t=(0,l.Z)(s,2),d=t[0],m=t[1],S=(0,c.useState)(!1),C=(0,l.Z)(S,2),I=C[0],q=C[1],T=(0,c.useState)([]),Y=(0,l.Z)(T,2),L=(Y[0],Y[1]),B=(0,c.useState)([]),E=(0,l.Z)(B,2),R=E[0],z=E[1],D=(0,c.useState)([]),P=(0,l.Z)(D,2),V=P[0],A=P[1],J=(0,c.useState)([]),X=(0,l.Z)(J,2),O=X[0],U=X[1],G=(0,c.useState)([]),H=(0,l.Z)(G,2),K=H[0],M=H[1],Q=(0,c.useState)([]),W=(0,l.Z)(Q,2),$=W[0],ee=W[1],se=(0,c.useState)(""),te=(0,l.Z)(se,2),re=te[0],ne=te[1],ae=(0,c.useState)(""),le=(0,l.Z)(ae,2),ce=le[0],ie=le[1],de=(0,c.useState)(""),oe=(0,l.Z)(de,2),ue=oe[0],xe=oe[1],he=(0,c.useState)(""),me=(0,l.Z)(he,2),je=me[0],Ze=me[1],fe=(0,c.useState)(""),pe=(0,l.Z)(fe,2),be=pe[0],ve=pe[1],ke=(0,c.useState)([]),ge=(0,l.Z)(ke,2),ye=ge[0],Ne=ge[1],Se=(0,c.useState)(55),we=(0,l.Z)(Se,2),Ce=(we[0],we[1],(0,c.useState)()),Fe=(0,l.Z)(Ce,2),_e=(Fe[0],Fe[1],(0,c.useState)()),Ie=(0,l.Z)(_e,2),qe=(Ie[0],Ie[1],(0,c.useState)()),Te=(0,l.Z)(qe,2),Ye=(Te[0],Te[1],(0,u.useParams)().markId),Le=(0,c.useState)({classs:"",semester:"",section:""}),Be=(0,l.Z)(Le,2),Ee=Be[0],Re=Be[1];function ze(){return(ze=(0,a.Z)((0,n.Z)().mark((function e(){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(1,"/?student_id=",Ye));case 2:s=e.sent,s.data;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){if(console.log(ue,typeof ue,"fjkdsjfkjsdafkjsdalkfjlsa"),!(0,i.yD)(ue)&&""!==ue){var e=ue.label.split("-"),s=(0,l.Z)(e,3),t=s[0],r=s[1],n=s[2];Re({classs:r,semester:t,section:n})}}),[ue]),(0,c.useEffect)((function(){Ye&&function(){ze.apply(this,arguments)}()}),[]);var De=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,z(t),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/field/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,L(t),e.next=11;break;case 10:console.log("field error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/department/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,A(t),e.next=11;break;case 10:console.log("department error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/classs/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:t=e.sent,U(t),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/subject/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,M(t),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){De(),Pe(),Ve(),Ae(),Je()}),[]);var Xe=function(e,s){var t=s||"";switch(e){case"success":k.fn.success("\u0646\u0645\u0631\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648\u06cc","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,t);break;case"error":k.fn.error("\u0646\u0645\u0631\u06cc \u062b\u0628\u062a \u0646\u0647 \u0634\u0648\u06cc \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,t);break;default:k.fn.info("Info message")}},Oe=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("subject",je.value),e.next=3,(0,x.Z)("students/class-marks/list/second-chance/?institute=".concat(re.value,"&classs=").concat(ue.value,"&shift=").concat(be.value,"&department=").concat(ce.value,"&educational_year=").concat(ye.value,"&subject=").concat(je.value),"",null);case 3:(s=e.sent).data&&200===s.status?(ee(s.data),m(!0)):console.log("subject error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(s){var t,a,l,c,i,d,o,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye.value,a=re.value,l=ce.value,c=ue.value,i=je.value,console.log("educationalYear",t),console.log("instituteId",a),console.log("departmentId",l),console.log("classId",c),console.log("subjectId",i),d=$.map((function(e,t){return{student_id:e.student_id,marks:s.score[e.student_id]}})),o=[{educational_year:t,institute:a,department:l,classs:c,subject:i}].concat((0,r.Z)(d)),console.log("data",o),e.next=15,(0,x.Z)("students/class-marks/create/second-chance/","POST",o);case 15:200===(u=e.sent).status?(console.log("response of students",u),q(!0),Xe("success","filled")):(console.log("marks error"),q(!1),Xe("error","filled"));case 17:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(j.Z,{children:[(0,w.jsx)("div",{className:"mt-4 ml-5",children:(0,w.jsx)("h3",{className:"mt-5 m-5 titleStyle",children:(0,w.jsx)(g.Z,{id:"menu.second-chance-marks-register"})})}),(0,w.jsx)(Z.Z,{children:d?(0,w.jsx)(w.Fragment,{children:I?(0,w.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"mb-2",children:(0,w.jsx)(g.Z,{id:"wizard.content-thanks"})}),(0,w.jsx)("h3",{children:(0,w.jsx)(g.Z,{id:"wizard.registered"})}),(0,w.jsx)(v.Z,{className:"m-5 bg-primary",onClick:function(){m(!1),q(!1)},children:(0,w.jsx)(g.Z,{id:"button.Back"})})]})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(f.Z,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"16%"},children:[(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"forms.FieldLabel"})}),(0,w.jsx)("h6",{children:ce.label})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.ClassLabel"})}),(0,w.jsx)("h6",{children:Ee.classs})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"forms.StudyTimeLabel"})}),(0,w.jsx)("h6",{children:be.label})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.SemesterLabel"})}),(0,w.jsx)("h6",{children:Ee.semester})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.SectionLabel"})}),(0,w.jsx)("h6",{children:Ee.section})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.SubjectLabel"})}),(0,w.jsx)("h6",{children:je.label})]})]}),(0,w.jsx)(f.Z,{className:"justify-content-center  border border",style:{marginInline:"16%"},children:(0,w.jsx)("table",{className:"table",children:(0,w.jsx)("thead",{className:"thead-dark",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.No"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FullName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FatherName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.ID"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.secondChance"})})]})})})}),(0,w.jsx)(i.J9,{initialValues:_,onSubmit:Ue,children:function(e){e.errors;return(0,w.jsxs)(i.l0,{className:"av-tooltip tooltip-label-right ",children:[(0,w.jsx)(f.Z,{className:"justify-content-center  border border",style:{marginInline:"16%",height:"30rem",overflowY:"scroll",overflowX:"hidden"},children:(0,w.jsx)("table",{className:"table ",children:(0,w.jsx)("tbody",{className:"border border ",style:{height:"200px",overflowY:"scroll",overflowX:"hidden"},children:$.length>0&&$.map((function(e,s){return(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{scope:"row",children:s+1}),(0,w.jsx)("td",{children:e.name}),(0,w.jsx)("td",{children:e.father_name}),(0,w.jsx)("td",{children:e.student_id}),(0,w.jsx)("td",{children:(0,w.jsx)("div",{class:"form-group mx-sm-3 mb-2",children:(0,w.jsx)(p.Z,{className:"form-group",children:(0,w.jsx)(i.gN,{type:"number",className:"form-control",name:"score[".concat(e.student_id,"]"),min:"0",max:"100"})})})})]},s)}))})})}),(0,w.jsx)(f.Z,{className:"justify-content-center  border border",style:{marginInline:"16%"},children:(0,w.jsxs)("table",{class:"table ",children:[(0,w.jsx)("tbody",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{}),(0,w.jsx)("td",{}),(0,w.jsx)("td",{}),(0,w.jsx)("td",{})]})}),(0,w.jsx)("tfoot",{className:"thead-dark",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.No"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FullName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FatherName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.ID"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.firstChance"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.secondChance"})})]})})]})}),(0,w.jsx)(f.Z,{className:" justify-content-center",children:(0,w.jsxs)(y.F,{xxs:"9",className:"m-5",children:[(0,w.jsx)(v.Z,{className:" m-4 ",color:"primary",onClick:function(){return m(!1)},children:(0,w.jsx)(g.Z,{id:"button.Back"})}),(0,w.jsx)("div",{className:"d-flex justify-content-between align-items-center m-4 float-right",children:(0,w.jsx)(v.Z,{size:"lg",type:"submit",color:"primary",children:(0,w.jsx)(g.Z,{id:"button.SubmitButton"})})})]})})]})}})]})}):(0,w.jsx)(i.J9,{initialValues:_,onSubmit:Oe,validationSchema:F,children:function(e){var s=e.errors,t=e.touched,r=e.values,n=e.setFieldTouched,a=e.setFieldValue;return(0,w.jsxs)(i.l0,{className:"av-tooltip tooltip-label-right style ",children:[(0,w.jsxs)(f.Z,{className:"m-5",children:[(0,w.jsxs)(y.F,{xxs:"6",children:[(0,w.jsxs)(p.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"forms.InstituteLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"institute",id:"institute",value:r.institute,options:R,onChange:a,onBlur:n,onClick:ne(r.institute)}),s.institute&&t.institute?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.institute}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5  error-l-150 ",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"forms.StudyTimeLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"studyTime",id:"studyTime",value:r.studyTime,options:h.Zp,onChange:a,onBlur:n,onClick:ve(r.studyTime)}),s.studyTime&&t.studyTime?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.studyTime}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"forms.educationYearLabel"})}),(0,w.jsx)(N.ju,{name:"educationalYear",id:"educationalYear",options:h.Ar,onChange:a,onBlur:n,onClick:Ne(r.educationalYear)}),s.educationlaYear&&t.educationlaYear?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:s.educationlaYear}):null]})]}),(0,w.jsxs)(y.F,{xxs:"6",children:[(0,w.jsxs)(p.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"marks.ClassLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"classs",id:"classs",value:r.classs,options:O,onChange:a,onBlur:n,onClick:xe(r.classs),required:!0}),s.classs&&t.classs?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.classs}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"forms.studyDepartment"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"department",id:"department",value:r.department,options:V,onChange:a,onBlur:n,onClick:ie(r.department),required:!0}),s.department&&t.department?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.department}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"marks.SubjectLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"subject",id:"subject",value:r.subject,options:K,onChange:a,onBlur:n,onClick:Ze(r.subject),required:!0}),s.subject&&t.subject?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.subject}):null]})]})]}),(0,w.jsx)(f.Z,{children:(0,w.jsx)(y.F,{children:(0,w.jsx)(v.Z,{color:"primary",className:"float-right  buttonStyle",size:"lg",type:"submit",style:{margin:"2% 0% 10% 6%"},children:(0,w.jsx)("span",{className:"label",children:(0,w.jsx)(g.Z,{id:"button.Next"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=second-chance-marks register.18836ca6.chunk.js.map