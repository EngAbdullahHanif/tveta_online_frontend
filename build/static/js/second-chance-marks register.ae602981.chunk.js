(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[114],{1914:function(e,t,a){"use strict";a.r(t);var s=a(161),c=a(4),r=a.n(c),n=a(14),l=a(145),i=a(6),j=a(180),d=a(35),o=a.n(d),b=a(330),u=a(191),x=a(185),O=(a(277),a(190)),h=a(468),m=a(1223),f=a(469),p=a(1181),v=a(1182),k=a(673),g=a(40),y=a(148),N=a(153),S=a(183),w=(a(356),a(546),a(203)),C=a(12),I=w.a.API_URL,q=("".concat(I,"/api"),y.a,y.a,y.a,y.a,y.a,y.a,y.a,y.a,y.a,y.a,y.a,y.a,y.a,O.e().shape({institute:O.e().shape({value:O.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"forms.InstituteErr"})),educationalYear:O.e().shape({value:O.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"forms.educationYearErr"})),studyTime:O.e().shape({value:O.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"forms.StudyTimeErr"})),classs:O.e().shape({value:O.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"marks.ClassErr"})),department:O.e().shape({value:O.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"teacher.departmentIdErr"})),subject:O.e().shape({value:O.f().required()}).nullable().required(Object(C.jsx)(y.a,{id:"marks.SubjectErr"}))})),T={institute:[],educationlaYear:"",studyTime:[],classs:[],department:[],subject:[]};t.default=function(e){e.match;var t=Object(i.useState)(!1),a=Object(l.a)(t,2),c=a[0],d=a[1],O=Object(i.useState)(!1),w=Object(l.a)(O,2),I=w[0],Y=w[1],L=Object(i.useState)([]),F=Object(l.a)(L,2),_=(F[0],F[1]),B=Object(i.useState)([]),E=Object(l.a)(B,2),z=E[0],D=E[1],P=Object(i.useState)([]),V=Object(l.a)(P,2),J=V[0],X=V[1],A=Object(i.useState)([]),M=Object(l.a)(A,2),R=M[0],U=M[1],G=Object(i.useState)([]),H=Object(l.a)(G,2),K=H[0],Q=H[1],W=Object(i.useState)([]),Z=Object(l.a)(W,2),$=Z[0],ee=Z[1],te=Object(i.useState)(""),ae=Object(l.a)(te,2),se=ae[0],ce=ae[1],re=Object(i.useState)(""),ne=Object(l.a)(re,2),le=ne[0],ie=ne[1],je=Object(i.useState)(""),de=Object(l.a)(je,2),oe=de[0],be=de[1],ue=Object(i.useState)(""),xe=Object(l.a)(ue,2),Oe=xe[0],he=xe[1],me=Object(i.useState)(""),fe=Object(l.a)(me,2),pe=fe[0],ve=fe[1],ke=Object(i.useState)([]),ge=Object(l.a)(ke,2),ye=ge[0],Ne=ge[1],Se=Object(i.useState)(55),we=Object(l.a)(Se,2),Ce=(we[0],we[1],Object(i.useState)()),Ie=Object(l.a)(Ce,2),qe=(Ie[0],Ie[1],Object(i.useState)()),Te=Object(l.a)(qe,2),Ye=(Te[0],Te[1],Object(i.useState)()),Le=Object(l.a)(Ye,2),Fe=(Le[0],Le[1],Object(b.useParams)().markId),_e=Object(i.useState)({classs:"",semester:"",section:""}),Be=Object(l.a)(_e,2),Ee=Be[0],ze=Be[1];Object(i.useEffect)((function(){if(console.log(oe,typeof oe,"fjkdsjfkjsdafkjsdalkfjlsa"),!Object(j.d)(oe)&&""!==oe){var e=oe.label.split("-"),t=Object(l.a)(e,3),a=t[0],s=t[1],c=t[2];ze({classs:s,semester:a,section:c})}}),[oe]),Fe&&Object(i.useEffect)((function(){function e(){return(e=Object(n.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(studentMarkId,"/?student_id=").concat(Fe));case 2:t=e.sent,t.data;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var De=function(){var e=Object(n.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("institute/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,D(a),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(n.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("institute/field/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,_(a),e.next=11;break;case 10:console.log("field error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(n.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("institute/department/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,X(a),e.next=11;break;case 10:console.log("department error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(n.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("institute/classs/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:a=e.sent,U(a),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(n.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("institute/subject/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:a=e.sent,Q(a),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){De(),Pe(),Ve(),Je(),Xe()}),[]);var Ae=function(e,t){var a=t||"";switch(e){case"success":g.b.success("\u0646\u0645\u0631\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648\u06cc","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,a);break;case"error":g.b.error("\u0646\u0645\u0631\u06cc \u062b\u0628\u062a \u0646\u0647 \u0634\u0648\u06cc \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,a);break;default:g.b.info("Info message")}},Me=function(){var e=Object(n.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("subject",Oe.value),e.next=3,Object(u.a)("students/class-marks/list/second-chance/?institute=".concat(se.value,"&classs=").concat(oe.value,"&shift=").concat(pe.value,"&department=").concat(le.value,"&educational_year=").concat(ye.value,"&subject=").concat(Oe.value),"",null);case 3:(t=e.sent).data&&200===t.status?(ee(t.data),d(!0)):console.log("subject error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(n.a)(r.a.mark((function e(t){var a,c,n,l,i,j,d,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ye.value,c=se.value,n=le.value,l=oe.value,i=Oe.value,console.log("educationalYear",a),console.log("instituteId",c),console.log("departmentId",n),console.log("classId",l),console.log("subjectId",i),j=$.map((function(e,a){return{student_id:e.student_id,marks:t.score[e.student_id]}})),d=[{educational_year:a,institute:c,department:n,classs:l,subject:i}].concat(Object(s.a)(j)),console.log("data",d),e.next=15,Object(u.a)("students/class-marks/create/second-chance/","POST",d);case 15:200===(o=e.sent).status?(console.log("response of students",o),Y(!0),Ae("success","filled")):(console.log("marks error"),Y(!1),Ae("error","filled"));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(h.a,{children:[Object(C.jsx)("div",{className:"mt-4 ml-5",children:Object(C.jsx)("h3",{className:"mt-5 m-5 titleStyle",children:Object(C.jsx)(y.a,{id:"menu.second-chance-marks-register"})})}),Object(C.jsx)(m.a,{children:c?Object(C.jsx)(C.Fragment,{children:I?Object(C.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{className:"mb-2",children:Object(C.jsx)(y.a,{id:"wizard.content-thanks"})}),Object(C.jsx)("h3",{children:Object(C.jsx)(y.a,{id:"wizard.registered"})}),Object(C.jsx)(k.a,{className:"m-5 bg-primary",onClick:function(){d(!1),Y(!1)},children:Object(C.jsx)(y.a,{id:"button.Back"})})]})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(f.a,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"16%"},children:[Object(C.jsxs)(N.a,{xxs:"2",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"forms.FieldLabel"})}),Object(C.jsx)("h6",{children:le.label})]}),Object(C.jsxs)(N.a,{xxs:"2",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"marks.ClassLabel"})}),Object(C.jsx)("h6",{children:Ee.classs})]}),Object(C.jsxs)(N.a,{xxs:"2",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"forms.StudyTimeLabel"})}),Object(C.jsx)("h6",{children:pe.label})]}),Object(C.jsxs)(N.a,{xxs:"2",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"marks.SemesterLabel"})}),Object(C.jsx)("h6",{children:Ee.semester})]}),Object(C.jsxs)(N.a,{xxs:"2",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"marks.SectionLabel"})}),Object(C.jsx)("h6",{children:Ee.section})]}),Object(C.jsxs)(N.a,{xxs:"2",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"marks.SubjectLabel"})}),Object(C.jsx)("h6",{children:Oe.label})]})]}),Object(C.jsx)(f.a,{className:"justify-content-center  border border",style:{marginInline:"16%"},children:Object(C.jsx)("table",{className:"table",children:Object(C.jsx)("thead",{className:"thead-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.No"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.FullName"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.FatherName"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.ID"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.secondChance"})})]})})})}),Object(C.jsx)(j.c,{initialValues:T,onSubmit:Re,children:function(e){var t=e.errors;return Object(C.jsxs)(j.b,{className:"av-tooltip tooltip-label-right ",children:[Object(C.jsx)(f.a,{className:"justify-content-center  border border",style:{marginInline:"16%",height:"30rem",overflowY:"scroll",overflowX:"hidden"},children:Object(C.jsx)("table",{className:"table ",children:Object(C.jsx)("tbody",{className:"border border ",style:{height:"200px",overflowY:"scroll",overflowX:"hidden"},children:$.length>0&&$.map((function(e,a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:a+1}),Object(C.jsx)("td",{children:e.name}),Object(C.jsx)("td",{children:e.father_name}),Object(C.jsx)("td",{children:e.student_id}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{class:"form-group mx-sm-3 mb-2",children:Object(C.jsxs)(p.a,{className:"form-group",children:[Object(C.jsx)(j.a,{type:"number",className:"form-control",name:"score[".concat(e.student_id,"]"),min:"0",max:"100"}),t.score&&touched.score?Object(C.jsx)("div",{className:"invalid-feedback d-block",children:t.score}):null]})})})]},a)}))})})}),Object(C.jsx)(f.a,{className:"justify-content-center  border border",style:{marginInline:"16%"},children:Object(C.jsxs)("table",{class:"table ",children:[Object(C.jsx)("tbody",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{})]})}),Object(C.jsx)("tfoot",{className:"thead-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.No"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.FullName"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.FatherName"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.ID"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.firstChance"})}),Object(C.jsx)("th",{scope:"col",children:Object(C.jsx)(y.a,{id:"marks.secondChance"})})]})})]})}),Object(C.jsx)(f.a,{className:" justify-content-center",children:Object(C.jsxs)(N.a,{xxs:"9",className:"m-5",children:[Object(C.jsx)(k.a,{className:" m-4 ",color:"primary",onClick:function(){return d(!1)},children:Object(C.jsx)(y.a,{id:"button.Back"})}),Object(C.jsx)("div",{className:"d-flex justify-content-between align-items-center m-4 float-right",children:Object(C.jsx)(k.a,{size:"lg",type:"submit",color:"primary",children:Object(C.jsx)(y.a,{id:"button.SubmitButton"})})})]})})]})}})]})}):Object(C.jsx)(j.c,{initialValues:T,onSubmit:Me,validationSchema:q,children:function(e){var t=e.errors,a=e.touched,s=e.values,c=e.setFieldTouched,r=e.setFieldValue;return Object(C.jsxs)(j.b,{className:"av-tooltip tooltip-label-right style ",children:[Object(C.jsxs)(f.a,{className:"m-5",children:[Object(C.jsxs)(N.a,{xxs:"6",children:[Object(C.jsxs)(p.a,{className:"form-group has-float-label error-l-150 ",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"forms.InstituteLabel"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"institute",id:"institute",value:s.institute,options:z,onChange:r,onBlur:c,onClick:ce(s.institute)}),t.institute&&a.institute?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.institute}):null]}),Object(C.jsxs)(p.a,{className:"form-group has-float-label mt-5  error-l-150 ",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"forms.StudyTimeLabel"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"studyTime",id:"studyTime",value:s.studyTime,options:x.I,onChange:r,onBlur:c,onClick:ve(s.studyTime)}),t.studyTime&&a.studyTime?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]}),Object(C.jsxs)(p.a,{className:"form-group has-float-label mt-5  error-l-150",children:[Object(C.jsx)(v.a,{children:Object(C.jsx)(y.a,{id:"forms.educationYearLabel"})}),Object(C.jsx)(S.c,{name:"educationalYear",id:"educationalYear",options:x.n,onChange:r,onBlur:c,onClick:Ne(s.educationalYear)}),t.educationlaYear&&a.educationlaYear?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.educationlaYear}):null]})]}),Object(C.jsxs)(N.a,{xxs:"6",children:[Object(C.jsxs)(p.a,{className:"form-group has-float-label error-l-150 ",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"marks.ClassLabel"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"classs",id:"classs",value:s.classs,options:R,onChange:r,onBlur:c,onClick:be(s.classs),required:!0}),t.classs&&a.classs?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.classs}):null]}),Object(C.jsxs)(p.a,{className:"form-group has-float-label mt-5 error-l-150",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"forms.studyDepartment"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"department",id:"department",value:s.department,options:J,onChange:r,onBlur:c,onClick:ie(s.department),required:!0}),t.department&&a.department?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]}),Object(C.jsxs)(p.a,{className:"form-group has-float-label mt-5 error-l-150",children:[Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{id:"marks.SubjectLabel"}),Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(S.c,{name:"subject",id:"subject",value:s.subject,options:K,onChange:r,onBlur:c,onClick:he(s.subject),required:!0}),t.subject&&a.subject?Object(C.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.subject}):null]})]})]}),Object(C.jsx)(f.a,{children:Object(C.jsx)(N.a,{children:Object(C.jsx)(k.a,{color:"primary",className:"float-right  buttonStyle",size:"lg",type:"submit",style:{margin:"2% 0% 10% 6%"},children:Object(C.jsx)("span",{className:"label",children:Object(C.jsx)(y.a,{id:"button.Next"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=second-chance-marks register.ae602981.chunk.js.map