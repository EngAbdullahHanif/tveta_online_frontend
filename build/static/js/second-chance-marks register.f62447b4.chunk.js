"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[5480],{77622:function(e,s,t){t.r(s);var r=t(93433),a=t(74165),n=t(15861),l=t(29439),c=t(50390),i=t(16295),d=t(45133),o=t.n(d),u=t(14037),x=t(32121),h=t(830),m=(t(48907),t(49360)),j=t(31833),f=t(14237),Z=t(14778),p=t(64884),b=t(94048),v=t(16778),k=t(22834),g=t(37671),y=t(16905),N=t(39873),S=t(83882),w=t(62559),C=m.Ry().shape({institute:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"forms.InstituteErr"})),educationalYear:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"forms.educationYearErr"})),studyTime:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"forms.StudyTimeErr"})),classs:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"marks.ClassErr"})),department:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"teacher.departmentIdErr"})),subject:m.Ry().shape({value:m.Z_().required()}).nullable().required((0,w.jsx)(g.Z,{id:"marks.SubjectErr"}))}),F={institute:[],educationlaYear:"",studyTime:[],classs:[],department:[],subject:[]};s.default=function(e){e.match;var s=(0,c.useContext)(S.V).institutes,t=(0,c.useState)(!1),d=(0,l.Z)(t,2),m=d[0],_=d[1],q=(0,c.useState)(!1),I=(0,l.Z)(q,2),T=I[0],Y=I[1],L=(0,c.useState)([]),B=(0,l.Z)(L,2),E=(B[0],B[1]),R=(0,c.useState)([]),z=(0,l.Z)(R,2),D=z[0],V=z[1],J=(0,c.useState)([]),P=(0,l.Z)(J,2),X=P[0],A=P[1],O=(0,c.useState)([]),G=(0,l.Z)(O,2),H=G[0],K=G[1],M=(0,c.useState)([]),Q=(0,l.Z)(M,2),U=Q[0],W=Q[1],$=(0,c.useState)(""),ee=(0,l.Z)($,2),se=ee[0],te=ee[1],re=(0,c.useState)(""),ae=(0,l.Z)(re,2),ne=ae[0],le=ae[1],ce=(0,c.useState)(""),ie=(0,l.Z)(ce,2),de=ie[0],oe=ie[1],ue=(0,c.useState)(""),xe=(0,l.Z)(ue,2),he=xe[0],me=xe[1],je=(0,c.useState)(""),fe=(0,l.Z)(je,2),Ze=fe[0],pe=fe[1],be=(0,c.useState)([]),ve=(0,l.Z)(be,2),ke=ve[0],ge=ve[1],ye=(0,c.useState)(55),Ne=(0,l.Z)(ye,2),Se=(Ne[0],Ne[1],(0,c.useState)()),we=(0,l.Z)(Se,2),Ce=(we[0],we[1],(0,c.useState)()),Fe=(0,l.Z)(Ce,2),_e=(Fe[0],Fe[1],(0,c.useState)()),qe=(0,l.Z)(_e,2),Ie=(qe[0],qe[1],(0,u.useParams)().markId),Te=(0,c.useState)({classs:"",semester:"",section:""}),Ye=(0,l.Z)(Te,2),Le=Ye[0],Be=Ye[1];function Ee(){return(Ee=(0,n.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(1,"/?student_id=",Ie));case 2:s=e.sent,s.data;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){if(console.log(de,typeof de,"fjkdsjfkjsdafkjsdalkfjlsa"),!(0,i.yD)(de)&&""!==de){var e=de.label.split("-"),s=(0,l.Z)(e,3),t=s[0],r=s[1],a=s[2];Be({classs:r,semester:t,section:a})}}),[de]),(0,c.useEffect)((function(){Ie&&function(){Ee.apply(this,arguments)}()}),[]);var Re=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/field/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,E(t),e.next=11;break;case 10:console.log("field error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/department/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,V(t),e.next=11;break;case 10:console.log("department error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/classs/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 6:t=e.sent,A(t),e.next=11;break;case 10:console.log("class error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Z)("institute/subject/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,K(t),e.next=11;break;case 10:console.log("subject error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){Re(),ze(),De(),Ve()}),[]);var Je=function(e,s){var t=s||"";switch(e){case"success":k.fn.success("\u0646\u0645\u0631\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062b\u0628\u062a \u0634\u0648\u06cc","\u0645\u0648\u0641\u0642\u06cc\u062a",3e3,null,null,t);break;case"error":k.fn.error("\u0646\u0645\u0631\u06cc \u062b\u0628\u062a \u0646\u0647 \u0634\u0648\u06cc \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,t);break;default:k.fn.info("Info message")}},Pe=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("subject",he.value),e.next=3,(0,x.Z)("students/class-marks/list/second-chance/?institute=".concat(se.value,"&classs=").concat(de.value,"&shift=").concat(Ze.value,"&department=").concat(ne.value,"&educational_year=").concat(ke.value,"&subject=").concat(he.value),"",null);case 3:(s=e.sent).data&&200===s.status?(W(s.data),_(!0)):console.log("subject error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(s){var t,n,l,c,i,d,o,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ke.value,n=se.value,l=ne.value,c=de.value,i=he.value,console.log("educationalYear",t),console.log("instituteId",n),console.log("departmentId",l),console.log("classId",c),console.log("subjectId",i),d=U.map((function(e,t){return{student_id:e.student_id,marks:s.score[e.student_id]}})),o=[{educational_year:t,institute:n,department:l,classs:c,subject:i}].concat((0,r.Z)(d)),console.log("data",o),e.next=15,(0,x.Z)("students/class-marks/create/second-chance/","POST",o);case 15:200===(u=e.sent).status?(console.log("response of students",u),Y(!0),Je("success","filled")):(console.log("marks error"),Y(!1),Je("error","filled"));case 17:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(j.Z,{children:[(0,w.jsx)("div",{className:"mt-4 ml-5",children:(0,w.jsx)("h3",{className:"mt-5 m-5 titleStyle",children:(0,w.jsx)(g.Z,{id:"menu.second-chance-marks-register"})})}),(0,w.jsx)(f.Z,{children:m?(0,w.jsx)(w.Fragment,{children:T?(0,w.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"mb-2",children:(0,w.jsx)(g.Z,{id:"wizard.content-thanks"})}),(0,w.jsx)("h3",{children:(0,w.jsx)(g.Z,{id:"wizard.registered"})}),(0,w.jsx)(v.Z,{className:"m-5 bg-primary",onClick:function(){_(!1),Y(!1)},children:(0,w.jsx)(g.Z,{id:"button.Back"})})]})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Z.Z,{className:"border border bg-primary me-5 p-1 ",style:{marginInline:"16%"},children:[(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"forms.FieldLabel"})}),(0,w.jsx)("h6",{children:ne.label})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.ClassLabel"})}),(0,w.jsx)("h6",{children:Le.classs})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"forms.StudyTimeLabel"})}),(0,w.jsx)("h6",{children:Ze.label})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.SemesterLabel"})}),(0,w.jsx)("h6",{children:Le.semester})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.SectionLabel"})}),(0,w.jsx)("h6",{children:Le.section})]}),(0,w.jsxs)(y.F,{xxs:"2",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"marks.SubjectLabel"})}),(0,w.jsx)("h6",{children:he.label})]})]}),(0,w.jsx)(Z.Z,{className:"justify-content-center  border border",style:{marginInline:"16%"},children:(0,w.jsx)("table",{className:"table",children:(0,w.jsx)("thead",{className:"thead-dark",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.No"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FullName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FatherName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.ID"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.secondChance"})})]})})})}),(0,w.jsx)(i.J9,{initialValues:F,onSubmit:Xe,children:function(e){e.errors;return(0,w.jsxs)(i.l0,{className:"av-tooltip tooltip-label-right ",children:[(0,w.jsx)(Z.Z,{className:"justify-content-center  border border",style:{marginInline:"16%",height:"30rem",overflowY:"scroll",overflowX:"hidden"},children:(0,w.jsx)("table",{className:"table ",children:(0,w.jsx)("tbody",{className:"border border ",style:{height:"200px",overflowY:"scroll",overflowX:"hidden"},children:U.length>0&&U.map((function(e,s){return(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{scope:"row",children:s+1}),(0,w.jsx)("td",{children:e.name}),(0,w.jsx)("td",{children:e.father_name}),(0,w.jsx)("td",{children:e.student_id}),(0,w.jsx)("td",{children:(0,w.jsx)("div",{class:"form-group mx-sm-3 mb-2",children:(0,w.jsx)(p.Z,{className:"form-group",children:(0,w.jsx)(i.gN,{type:"number",className:"form-control",name:"score[".concat(e.student_id,"]"),min:"0",max:"100"})})})})]},s)}))})})}),(0,w.jsx)(Z.Z,{className:"justify-content-center  border border",style:{marginInline:"16%"},children:(0,w.jsxs)("table",{class:"table ",children:[(0,w.jsx)("tbody",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{}),(0,w.jsx)("td",{}),(0,w.jsx)("td",{}),(0,w.jsx)("td",{})]})}),(0,w.jsx)("tfoot",{className:"thead-dark",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.No"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FullName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.FatherName"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.ID"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.firstChance"})}),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)(g.Z,{id:"marks.secondChance"})})]})})]})}),(0,w.jsx)(Z.Z,{className:" justify-content-center",children:(0,w.jsxs)(y.F,{xxs:"9",className:"m-5",children:[(0,w.jsx)(v.Z,{className:" m-4 ",color:"primary",onClick:function(){return _(!1)},children:(0,w.jsx)(g.Z,{id:"button.Back"})}),(0,w.jsx)("div",{className:"d-flex justify-content-between align-items-center m-4 float-right",children:(0,w.jsx)(v.Z,{size:"lg",type:"submit",color:"primary",children:(0,w.jsx)(g.Z,{id:"button.SubmitButton"})})})]})})]})}})]})}):(0,w.jsx)(i.J9,{initialValues:F,onSubmit:Pe,validationSchema:C,children:function(e){var t=e.errors,r=e.touched,a=e.values,n=e.setFieldTouched,l=e.setFieldValue;return(0,w.jsxs)(i.l0,{className:"av-tooltip tooltip-label-right style ",children:[(0,w.jsxs)(Z.Z,{className:"m-5",children:[(0,w.jsxs)(y.F,{xxs:"6",children:[(0,w.jsxs)(p.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"forms.InstituteLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"institute",id:"institute",value:a.institute,options:s,onChange:l,onBlur:n,onClick:te(a.institute)}),t.institute&&r.institute?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.institute}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5  error-l-150 ",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"forms.StudyTimeLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"studyTime",id:"studyTime",value:a.studyTime,options:h.Zp,onChange:l,onBlur:n,onClick:pe(a.studyTime)}),t.studyTime&&r.studyTime?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5  error-l-150",children:[(0,w.jsx)(b.Z,{children:(0,w.jsx)(g.Z,{id:"forms.educationYearLabel"})}),(0,w.jsx)(N.ju,{name:"educationalYear",id:"educationalYear",options:h.Ar,onChange:l,onBlur:n,onClick:ge(a.educationalYear)}),t.educationlaYear&&r.educationlaYear?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white ",children:t.educationlaYear}):null]})]}),(0,w.jsxs)(y.F,{xxs:"6",children:[(0,w.jsxs)(p.Z,{className:"form-group has-float-label error-l-150 ",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"marks.ClassLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"classs",id:"classs",value:a.classs,options:X,onChange:l,onBlur:n,onClick:oe(a.classs),required:!0}),t.classs&&r.classs?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.classs}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"forms.studyDepartment"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"department",id:"department",value:a.department,options:D,onChange:l,onBlur:n,onClick:le(a.department),required:!0}),t.department&&r.department?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]}),(0,w.jsxs)(p.Z,{className:"form-group has-float-label mt-5 error-l-150",children:[(0,w.jsxs)(b.Z,{children:[(0,w.jsx)(g.Z,{id:"marks.SubjectLabel"}),(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,w.jsx)(N.ju,{name:"subject",id:"subject",value:a.subject,options:H,onChange:l,onBlur:n,onClick:me(a.subject),required:!0}),t.subject&&r.subject?(0,w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.subject}):null]})]})]}),(0,w.jsx)(Z.Z,{children:(0,w.jsx)(y.F,{children:(0,w.jsx)(v.Z,{color:"primary",className:"float-right  buttonStyle",size:"lg",type:"submit",style:{margin:"2% 0% 10% 6%"},children:(0,w.jsx)("span",{className:"label",children:(0,w.jsx)(g.Z,{id:"button.Next"})})})})})]})}})})]})})}}}]);
//# sourceMappingURL=second-chance-marks register.f62447b4.chunk.js.map