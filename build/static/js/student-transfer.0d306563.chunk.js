(this["webpackJsonptveta-online"]=this["webpackJsonptveta-online"]||[]).push([[120],{1907:function(e,t,s){"use strict";s.r(t);var a=s(4),c=s.n(a),n=s(14),r=s(145),l=s(6),i=s(176),d=(s(243),s(271),s(359),s(179)),j=(s(35),s(181)),b=s(40),o=(s(264),s(302)),u=s(182),m=s(444),h=s(1211),O=s(445),x=s(1166),f=s(644),p=s(1165),y=s(421),g=s(378),N=s(1167),v=s(147),k=s(151),S=s(178),I=s(198),w=s(12),L=I.a.API_URL;"".concat(L,"/institute/"),"".concat(L,"/api/student_accademic/"),"".concat(L,"/api/student-transfer/"),v.a,v.a,u.e().shape({searchfield:u.f().min(4,Object(w.jsx)(v.a,{id:"min.invalidId"})).max(10,Object(w.jsx)(v.a,{id:"max.invalidId"})).required(Object(w.jsx)(v.a,{id:"search.studentIdsearchErr"}))});t.default=function(e){var t=Object(l.useState)(""),s=Object(r.a)(t,2),a=(s[0],s[1],Object(l.useState)("")),u=Object(r.a)(a,2),I=u[0],L=u[1],T=Object(l.useState)(!1),D=Object(r.a)(T,2),_=(D[0],D[1]),z=Object(l.useState)(""),B=Object(r.a)(z,2),C=(B[0],B[1]),F=Object(l.useState)(!0),Y=Object(r.a)(F,2),R=Y[0],P=Y[1],V=Object(l.useState)(),q=Object(r.a)(V,2),E=q[0],J=q[1],A=Object(l.useState)(),H=Object(r.a)(A,2),U=(H[0],H[1],{institute:[],searchfield:"",transferDate:"",educationalYear:[],mediumOfInstruction:[],studyTime:[],transferDocument:""}),G=function(e){P(e),_(!0)},K=Object(l.useState)(!0),M=Object(r.a)(K,2),Q=M[0],W=M[1],X=Object(l.useState)(!1),Z=Object(r.a)(X,2),$=Z[0],ee=Z[1],te=Object(l.useState)(!1),se=Object(r.a)(te,2),ae=se[0],ce=se[1],ne=function(e,t){var s=t||"";switch(e){case"success":b.b.success("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062a\u0628\u062f\u06cc\u0644 \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",9e3,null,null,s);break;case"info":b.b.info("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0627\u0646\u0633\u062a\u06cc\u0648\u062a \u06a9\u06cc \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc","\u062a\u06cc\u0631\u0648\u062a\u0646\u0647",9e3,null,null,s);break;case"error":b.b.error("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u062a\u0628\u062f\u06cc\u0644 \u0646\u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,s);break;default:b.b.info("Info message")}},re=function(){var e=Object(n.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.searchfield){e.next=2;break}return e.abrupt("return");case 2:return W(!1),e.next=5,Object(j.a)("students/student_accademic/?student_id=".concat(t.searchfield),"",null);case 5:(s=e.sent)&&200===s.status?(ee(!0),s?(console.log("response of student search",s),L(s.data)):C("Student not found")):console.log("student search error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(n.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)("institute/","",null);case 2:if(!(t=e.sent).data||200!==t.status){e.next=10;break}return e.next=6,t.data.map((function(e){return{value:e.id,label:e.name}}));case 6:s=e.sent,J(s),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){le()}),[]);var ie=function(){var e=Object(n.a)(c.a.mark((function e(t){var s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={student:I.id,institute:t.institute.value,transfer_date:t.transferDate,educational_year:t.educationalYear.value,shift:t.studyTime.value,language:t.mediumOfInstruction.value,type:"inprogress",is_transfer:!0},e.prev=1,e.next=4,Object(j.a)("students/student-transfer/","POST",s);case 4:200!==(a=e.sent).status&&201!==a.status||(console.log("success"),ne("success","filled"),ce(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"Resource not found"===e.t0.message?(console.log("student not found"),ne("info","filled")):(console.log("An error occurred:",e.t0.message),ne("error","filled"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(m.a,{className:"card",children:[Object(w.jsx)("div",{className:"mt-4 ml-5",children:Object(w.jsx)("h2",{className:" m-5  titleStyle",children:Object(w.jsx)(v.a,{id:"student.transferTitle"})})}),Object(w.jsx)(h.a,{children:ae?Object(w.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{className:"mb-2",children:Object(w.jsx)(v.a,{id:"wizard.content-thanks"})}),Object(w.jsx)("h3",{children:Object(w.jsx)(v.a,{id:"wizard.registered"})}),Object(w.jsx)(f.a,{className:"m-5 bg-primary",onClick:function(){ce(!1),P(!0),re(!0)},children:Object(w.jsx)(v.a,{id:"button.Back"})})]})}):Object(w.jsx)(w.Fragment,{children:R?Object(w.jsx)(w.Fragment,{children:Q?Object(w.jsx)(O.a,{className:"justify-content-center inlineBlock",children:Object(w.jsx)(k.a,{children:Object(w.jsx)(i.c,{initialValues:U,onSubmit:re,children:function(e){var t=e.errors,s=e.touched;e.values,e.setFieldTouched,e.setFieldValue;return Object(w.jsxs)(i.b,{className:"av-tooltip tooltip-label-bottom style",style:{height:"300px"},children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{id:"search.studentIdSearchLabel"}),Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsxs)("div",{class:"input-group mb-3 error-l-175 ",children:[Object(w.jsx)("div",{class:"input-group-prepend",children:Object(w.jsxs)(f.a,{size:"lg",style:{fontSize:"80%"},type:"submit",color:"primary",onClick:function(){return W(!0)},children:[Object(w.jsxs)("span",{className:"spinner d-inline-block",children:[Object(w.jsx)("span",{className:"bounce1"}),Object(w.jsx)("span",{className:"bounce2"}),Object(w.jsx)("span",{className:"bounce3"})]}),Object(w.jsx)("span",{className:"label",children:Object(w.jsx)(v.a,{id:"search.studentId"})})]})}),Object(w.jsx)(i.a,{className:"form-control fieldStyle ",name:"searchfield",type:"text"}),t.searchfield&&s.searchfield?Object(w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:t.searchfield}):null]})]})}})})}):Object(w.jsx)(O.a,{className:"justify-content-center inlineBlock",children:Object(w.jsx)(k.a,{style:{paddingInline:"3%"},children:$?Object(w.jsxs)("div",{className:"border rounded",children:[Object(w.jsx)(x.a,{children:Object(w.jsx)("h3",{className:"mt-5 m-5 data-style",children:Object(w.jsx)(v.a,{id:"dorm.SearchResult"})})})," ",Object(w.jsxs)(O.a,{children:[Object(w.jsx)(k.a,{xxs:"1"}),Object(w.jsxs)(k.a,{children:[Object(w.jsx)("img",{src:I.photo,alt:"Photo",width:"10%"})," "]})]}),Object(w.jsx)(O.a,{children:Object(w.jsx)(k.a,{children:Object(w.jsxs)("div",{children:[Object(w.jsxs)(O.a,{className:"justify-content-center border border-primary rounded m-5",children:[Object(w.jsxs)(k.a,{className:" p-5  border rounded",children:[Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"teacher.NameLabel"})}),Object(w.jsx)("h2",{children:I.student_name}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"teacher.FatherNameLabel"})}),Object(w.jsx)("h2",{children:I.father_name}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"teacher.PhoneNoLabel"})}),Object(w.jsx)("h2",{children:I.phone_number}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"teacher.EmailLabel"})}),Object(w.jsx)("h2",{children:I.email}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"forms.InstituteLabel"})}),Object(w.jsx)("h2",{children:I.institute_name}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"marks.ClassLabel"})}),Object(w.jsx)("h2",{children:I.class_name})]}),Object(w.jsxs)(k.a,{className:"p-5 border rounded",children:[Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"field.SemesterLabel"})}),Object(w.jsx)("h2",{children:I.semester}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"forms.studyDepartment"})}),Object(w.jsx)("h2",{children:I.department_name}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"forms.ProvinceLabel"})}),Object(w.jsx)("h2",{children:I.current_province}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"forms.DistrictLabel"})}),Object(w.jsx)("h2",{children:I.current_district}),Object(w.jsx)(x.a,{className:"data-style",children:Object(w.jsx)(v.a,{id:"forms.VillageLabel"})}),Object(w.jsx)("h2",{children:I.current_village})]})]}),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(k.a,{style:{marginRight:"10%"},children:Object(w.jsx)(f.a,{color:"primary",className:"buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 6% 15% 8%",paddingInline:"10%"},onClick:function(){return W(!0)},children:Object(w.jsx)("span",{className:"label",children:Object(w.jsx)(v.a,{id:"button.Back"})})})}),Object(w.jsx)(k.a,{style:{marginLeft:"10%"},children:Object(w.jsx)(f.a,{color:"primary",className:" float-right buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 0% 15% 6%",paddingInline:"10%"},onClick:function(){return G(!1)},children:Object(w.jsx)("span",{className:"label",children:Object(w.jsx)(v.a,{id:"student.buttonTransfer"})})})})]})]})})})]}):Object(w.jsxs)("div",{style:{minHeight:"300px"},children:[Object(w.jsx)(x.a,{children:Object(w.jsx)("h2",{className:"mt-5 m-5",children:Object(w.jsx)(v.a,{id:"dorm.SearchResult"})})}),Object(w.jsx)(O.a,{className:"justify-content-left mb-5",children:Object(w.jsx)(k.a,{xxs:"8",className:"text-left",children:Object(w.jsx)("h1",{className:"text-center",children:Object(w.jsx)(v.a,{id:"forms.NoData"})})})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(k.a,{children:Object(w.jsx)(f.a,{className:" m-5 buttonStyle",style:{fontSize:"140%",margin:"3% 0% 17% 8%"},size:"lg",type:"submit",color:"primary",onClick:function(){return re(!0)},children:Object(w.jsx)("span",{className:"label",children:Object(w.jsx)(v.a,{id:"button.Back"})})})})})]})})})}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(i.c,{initialValues:U,onSubmit:ie,validationSchema:o.g,children:function(e){var t=e.errors,s=e.touched,a=e.values,c=e.setFieldTouched,n=e.setFieldValue;return Object(w.jsxs)(i.b,{className:"av-tooltip tooltip-label-right error-l-150 style",children:[Object(w.jsx)(O.a,{className:"mb-4 justify-content-center",children:Object(w.jsx)(k.a,{xxs:"8",children:Object(w.jsxs)("div",{className:" p-3",children:[Object(w.jsx)("h1",{className:" mb-4",children:Object(w.jsx)(v.a,{id:"teacher.TransferNewInfoTittle"})}),Object(w.jsxs)(p.a,{className:"form-group has-float-label ",children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{id:"forms.InstituteLabel"}),Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(S.c,{name:"institute",id:"institute",value:a.institute,options:E,onChange:n,onBlur:c}),t.institute&&s.institute?Object(w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.institute}):null]}),Object(w.jsxs)(p.a,{className:"form-group has-float-label",children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{id:"student.transferDateLabel"}),Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(i.a,{className:"form-control fieldStyle",name:"transferDate",type:"date"}),t.transferDate&&s.transferDate?Object(w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.transferDate}):null]}),Object(w.jsxs)(p.a,{className:"form-group has-float-label  error-l-150 ",children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{id:"curriculum.eduactionalYearLabel"}),Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(S.c,{name:"educationalYear",id:"educationalYear",value:a.educationalYear,options:d.n,onChange:n,onBlur:c,required:!0}),t.educationalYear&&s.educationalYear?Object(w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.educationalYear}):null]}),Object(w.jsxs)(p.a,{className:"form-group has-float-label ",children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{id:"forms.mediumOfInstruction"}),Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(S.c,{name:"mediumOfInstruction",id:"mediumOfInstruction",value:a.mediumOfInstruction,options:d.z,onChange:n,onBlur:c,required:!0}),t.mediumOfInstruction&&s.mediumOfInstruction?Object(w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.mediumOfInstruction}):null]}),Object(w.jsxs)(p.a,{className:"form-group has-float-label error-l-150",children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{id:"forms.StudyTimeLabel"}),Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsx)(S.c,{name:"studyTime",id:"studyTime",value:a.studyTime,options:d.J,onChange:n,onBlur:c}),t.studyTime&&s.studyTime?Object(w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.studyTime}):null]}),Object(w.jsxs)(p.a,{children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(v.a,{id:"student.transferDocuments"}),Object(w.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(w.jsxs)(y.a,{className:"mb-3",children:[Object(w.jsx)(g.a,{addonType:"prepend",children:"\u0622\u067e\u0644\u0648\u062f"}),Object(w.jsx)(N.a,{type:"file",id:"exampleCustomFileBrowser1",name:"transferDocument"})]}),t.transferDocument&&s.transferDocument?Object(w.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.transferDocument}):null]})]})})}),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(k.a,{style:{marginRight:"15%"},children:Object(w.jsx)(f.a,{color:"primary",className:" buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 6%",paddingInline:"10%"},onClick:function(){return G(!0)},children:Object(w.jsx)("span",{className:"label",children:Object(w.jsx)(v.a,{id:"button.Back"})})})}),Object(w.jsx)(k.a,{style:{marginLeft:"15%"},children:Object(w.jsx)(f.a,{color:"primary",className:" float-right buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 8%",paddingInline:"10%"},children:Object(w.jsx)("span",{className:"label",children:Object(w.jsx)(v.a,{id:"forms.SubimssionButton"})})})})]})]})}})})})})]})}}}]);
//# sourceMappingURL=student-transfer.0d306563.chunk.js.map