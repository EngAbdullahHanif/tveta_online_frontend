"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[2264],{5232:function(e,s,t){t.r(s);var n=t(74165),a=t(15861),r=t(29439),l=t(50390),i=t(16295),c=(t(2896),t(830)),d=t(32121),o=t(22834),u=(t(48907),t(4804)),m=t(49360),h=t(31833),x=t(14237),j=t(14778),f=t(94048),Z=t(16778),p=t(64884),b=t(85030),y=t(66549),g=t(35880),N=t(37671),v=t(16905),k=t(39873),S=t(60652),I=t(62559),F=S.Z.API_URL;"".concat(F,"/institute/"),"".concat(F,"/api/student_accademic/"),"".concat(F,"/api/student-transfer/"),N.Z,N.Z,m.Ry().shape({searchfield:m.Z_().min(4,(0,I.jsx)(N.Z,{id:"min.invalidId"})).max(10,(0,I.jsx)(N.Z,{id:"max.invalidId"})).required((0,I.jsx)(N.Z,{id:"search.studentIdsearchErr"}))});s.default=function(e){var s=(0,l.useState)(""),t=(0,r.Z)(s,2),m=(t[0],t[1],(0,l.useState)("")),S=(0,r.Z)(m,2),F=S[0],w=S[1],_=(0,l.useState)(!1),L=(0,r.Z)(_,2),T=(L[0],L[1]),D=(0,l.useState)(""),C=(0,r.Z)(D,2),B=(C[0],C[1]),z=(0,l.useState)(!0),O=(0,r.Z)(z,2),Y=O[0],R=O[1],P=(0,l.useState)(),V=(0,r.Z)(P,2),q=V[0],A=V[1],E=(0,l.useState)(),J=(0,r.Z)(E,2),H=(J[0],J[1],{institute:[],searchfield:"",transferDate:"",educationalYear:[],mediumOfInstruction:[],studyTime:[],transferDocument:""}),U=function(e){R(e),T(!0)},G=(0,l.useState)(!0),K=(0,r.Z)(G,2),M=K[0],Q=K[1],W=(0,l.useState)(!1),X=(0,r.Z)(W,2),$=X[0],ee=X[1],se=(0,l.useState)(!1),te=(0,r.Z)(se,2),ne=te[0],ae=te[1],re=function(e,s){var t=s||"";switch(e){case"success":o.fn.success("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0628\u0631\u06cc\u0627\u0644\u06cc\u062a\u0648\u0628 \u0633\u0631\u0647 \u062a\u0628\u062f\u06cc\u0644 \u0634\u0648","\u0645\u0648\u0641\u0642\u06cc\u062a",9e3,null,null,t);break;case"info":o.fn.info("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u067e\u0647 \u0627\u0646\u0633\u062a\u06cc\u0648\u062a \u06a9\u06cc \u0634\u062a\u0648\u0646 \u0646\u0644\u0631\u06cc","\u062a\u06cc\u0631\u0648\u062a\u0646\u0647",9e3,null,null,t);break;case"error":o.fn.error("\u0632\u062f\u0647 \u06a9\u0648\u0648\u0646\u06a9\u06cc \u062a\u0628\u062f\u06cc\u0644 \u0646\u0634\u0648 \u0628\u06cc\u0627 \u06a9\u0648\u0634\u0634 \u0648\u06a9\u0631\u06cc","\u062e\u0637\u0627",9e3,(function(){alert("callback")}),null,t);break;default:o.fn.info("Info message")}},le=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(s){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.searchfield){e.next=2;break}return e.abrupt("return");case 2:return Q(!1),e.next=5,(0,d.Z)("students/student_accademic/?student_id=".concat(s.searchfield),"",null);case 5:(t=e.sent)&&200===t.status?(ee(!0),t?(console.log("response of student search",t),w(t.data)):B("Student not found")):console.log("student search error");case 7:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),ie=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)("institute/","",null);case 2:if(!(s=e.sent).data||200!==s.status){e.next=10;break}return e.next=6,s.data.map((function(e){return{value:e.id,label:e.name}}));case 6:t=e.sent,A(t),e.next=11;break;case 10:console.log("institute error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){ie()}),[]);var ce=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(s){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={student:F.id,institute:s.institute.value,transfer_date:s.transferDate,educational_year:s.educationalYear.value,shift:s.studyTime.value,language:s.mediumOfInstruction.value,type:"inprogress",is_transfer:!0},e.prev=1,e.next=4,(0,d.Z)("students/student-transfer/","POST",t);case 4:200!==(a=e.sent).status&&201!==a.status||(console.log("success"),re("success","filled"),ae(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"Resource not found"===e.t0.message?(console.log("student not found"),re("info","filled")):(console.log("An error occurred:",e.t0.message),re("error","filled"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(s){return e.apply(this,arguments)}}();return(0,I.jsxs)(h.Z,{className:"card",children:[(0,I.jsx)("div",{className:"mt-4 ml-5",children:(0,I.jsx)("h2",{className:" m-5  titleStyle",children:(0,I.jsx)(N.Z,{id:"student.transferTitle"})})}),(0,I.jsx)(x.Z,{children:ne?(0,I.jsx)("div",{className:"wizard-basic-step text-center pt-3",children:(0,I.jsxs)("div",{children:[(0,I.jsx)("h1",{className:"mb-2",children:(0,I.jsx)(N.Z,{id:"wizard.content-thanks"})}),(0,I.jsx)("h3",{children:(0,I.jsx)(N.Z,{id:"wizard.registered"})}),(0,I.jsx)(Z.Z,{className:"m-5 bg-primary",onClick:function(){ae(!1),R(!0),le(!0)},children:(0,I.jsx)(N.Z,{id:"button.Back"})})]})}):(0,I.jsx)(I.Fragment,{children:Y?(0,I.jsx)(I.Fragment,{children:M?(0,I.jsx)(j.Z,{className:"justify-content-center inlineBlock",children:(0,I.jsx)(v.F,{children:(0,I.jsx)(i.J9,{initialValues:H,onSubmit:le,children:function(e){var s=e.errors,t=e.touched;e.values,e.setFieldTouched,e.setFieldValue;return(0,I.jsxs)(i.l0,{className:"av-tooltip tooltip-label-bottom style",style:{height:"300px"},children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(N.Z,{id:"search.studentIdSearchLabel"}),(0,I.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,I.jsxs)("div",{class:"input-group mb-3 error-l-175 ",children:[(0,I.jsx)("div",{class:"input-group-prepend",children:(0,I.jsxs)(Z.Z,{size:"lg",style:{fontSize:"80%"},type:"submit",color:"primary",onClick:function(){return Q(!0)},children:[(0,I.jsxs)("span",{className:"spinner d-inline-block",children:[(0,I.jsx)("span",{className:"bounce1"}),(0,I.jsx)("span",{className:"bounce2"}),(0,I.jsx)("span",{className:"bounce3"})]}),(0,I.jsx)("span",{className:"label",children:(0,I.jsx)(N.Z,{id:"search.studentId"})})]})}),(0,I.jsx)(i.gN,{className:"form-control fieldStyle ",name:"searchfield",type:"text"}),s.searchfield&&t.searchfield?(0,I.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white",children:s.searchfield}):null]})]})}})})}):(0,I.jsx)(j.Z,{className:"justify-content-center inlineBlock",children:(0,I.jsx)(v.F,{style:{paddingInline:"3%"},children:$?(0,I.jsxs)("div",{className:"border rounded",children:[(0,I.jsx)(f.Z,{children:(0,I.jsx)("h3",{className:"mt-5 m-5 data-style",children:(0,I.jsx)(N.Z,{id:"dorm.SearchResult"})})})," ",(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(v.F,{xxs:"1"}),(0,I.jsxs)(v.F,{children:[(0,I.jsx)("img",{src:F.photo,alt:"Photo",width:"10%"})," "]})]}),(0,I.jsx)(j.Z,{children:(0,I.jsx)(v.F,{children:(0,I.jsxs)("div",{children:[(0,I.jsxs)(j.Z,{className:"justify-content-center border border-primary rounded m-5",children:[(0,I.jsxs)(v.F,{className:" p-5  border rounded",children:[(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"teacher.NameLabel"})}),(0,I.jsx)("h2",{children:F.student_name}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"teacher.FatherNameLabel"})}),(0,I.jsx)("h2",{children:F.father_name}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"teacher.PhoneNoLabel"})}),(0,I.jsx)("h2",{children:F.phone_number}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"teacher.EmailLabel"})}),(0,I.jsx)("h2",{children:F.email}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"forms.InstituteLabel"})}),(0,I.jsx)("h2",{children:F.institute_name}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"marks.ClassLabel"})}),(0,I.jsx)("h2",{children:F.class_name})]}),(0,I.jsxs)(v.F,{className:"p-5 border rounded",children:[(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"field.SemesterLabel"})}),(0,I.jsx)("h2",{children:F.semester}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"forms.studyDepartment"})}),(0,I.jsx)("h2",{children:F.department_name}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"forms.ProvinceLabel"})}),(0,I.jsx)("h2",{children:F.current_province}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"forms.DistrictLabel"})}),(0,I.jsx)("h2",{children:F.current_district}),(0,I.jsx)(f.Z,{className:"data-style",children:(0,I.jsx)(N.Z,{id:"forms.VillageLabel"})}),(0,I.jsx)("h2",{children:F.current_village})]})]}),(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(v.F,{style:{marginRight:"10%"},children:(0,I.jsx)(Z.Z,{color:"primary",className:"buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 6% 15% 8%",paddingInline:"10%"},onClick:function(){return Q(!0)},children:(0,I.jsx)("span",{className:"label",children:(0,I.jsx)(N.Z,{id:"button.Back"})})})}),(0,I.jsx)(v.F,{style:{marginLeft:"10%"},children:(0,I.jsx)(Z.Z,{color:"primary",className:" float-right buttonStyle1",size:"lg",type:"submit",style:{margin:"5% 0% 15% 6%",paddingInline:"10%"},onClick:function(){return U(!1)},children:(0,I.jsx)("span",{className:"label",children:(0,I.jsx)(N.Z,{id:"student.buttonTransfer"})})})})]})]})})})]}):(0,I.jsxs)("div",{style:{minHeight:"300px"},children:[(0,I.jsx)(f.Z,{children:(0,I.jsx)("h2",{className:"mt-5 m-5",children:(0,I.jsx)(N.Z,{id:"dorm.SearchResult"})})}),(0,I.jsx)(j.Z,{className:"justify-content-left mb-5",children:(0,I.jsx)(v.F,{xxs:"8",className:"text-left",children:(0,I.jsx)("h1",{className:"text-center",children:(0,I.jsx)(N.Z,{id:"forms.NoData"})})})}),(0,I.jsx)(j.Z,{children:(0,I.jsx)(v.F,{children:(0,I.jsx)(Z.Z,{className:" m-5 buttonStyle",style:{fontSize:"140%",margin:"3% 0% 17% 8%"},size:"lg",type:"submit",color:"primary",onClick:function(){return le(!0)},children:(0,I.jsx)("span",{className:"label",children:(0,I.jsx)(N.Z,{id:"button.Back"})})})})})]})})})}):(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(i.J9,{initialValues:H,onSubmit:ce,validationSchema:u.fl,children:function(e){var s=e.errors,t=e.touched,n=e.values,a=e.setFieldTouched,r=e.setFieldValue;return(0,I.jsxs)(i.l0,{className:"av-tooltip tooltip-label-right error-l-150 style",children:[(0,I.jsx)(j.Z,{className:"mb-4 justify-content-center",children:(0,I.jsx)(v.F,{xxs:"8",children:(0,I.jsxs)("div",{className:" p-3",children:[(0,I.jsx)("h1",{className:" mb-4",children:(0,I.jsx)(N.Z,{id:"teacher.TransferNewInfoTittle"})}),(0,I.jsxs)(p.Z,{className:"form-group has-float-label ",children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(N.Z,{id:"forms.InstituteLabel"}),(0,I.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,I.jsx)(k.ju,{name:"institute",id:"institute",value:n.institute,options:q,onChange:r,onBlur:a}),s.institute&&t.institute?(0,I.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.institute}):null]}),(0,I.jsxs)(p.Z,{className:"form-group has-float-label",children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(N.Z,{id:"student.transferDateLabel"}),(0,I.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,I.jsx)(i.gN,{className:"form-control fieldStyle",name:"transferDate",type:"date"}),s.transferDate&&t.transferDate?(0,I.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.transferDate}):null]}),(0,I.jsxs)(p.Z,{className:"form-group has-float-label  error-l-150 ",children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(N.Z,{id:"curriculum.eduactionalYearLabel"}),(0,I.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,I.jsx)(k.ju,{name:"educationalYear",id:"educationalYear",value:n.educationalYear,options:c.Ar,onChange:r,onBlur:a,required:!0}),s.educationalYear&&t.educationalYear?(0,I.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.educationalYear}):null]}),(0,I.jsxs)(p.Z,{className:"form-group has-float-label ",children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(N.Z,{id:"forms.mediumOfInstruction"}),(0,I.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,I.jsx)(k.ju,{name:"mediumOfInstruction",id:"mediumOfInstruction",value:n.mediumOfInstruction,options:c.rS,onChange:r,onBlur:a,required:!0}),s.mediumOfInstruction&&t.mediumOfInstruction?(0,I.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.mediumOfInstruction}):null]}),(0,I.jsxs)(p.Z,{className:"form-group has-float-label error-l-150",children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(N.Z,{id:"forms.StudyTimeLabel"}),(0,I.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,I.jsx)(k.ju,{name:"studyTime",id:"studyTime",value:n.studyTime,options:c.Zp,onChange:r,onBlur:a}),s.studyTime&&t.studyTime?(0,I.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.studyTime}):null]}),(0,I.jsxs)(p.Z,{children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(N.Z,{id:"student.transferDocuments"}),(0,I.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,I.jsxs)(b.Z,{className:"mb-3",children:[(0,I.jsx)(y.Z,{addonType:"prepend",children:"\u0622\u067e\u0644\u0648\u062f"}),(0,I.jsx)(g.Z,{type:"file",id:"exampleCustomFileBrowser1",name:"transferDocument"})]}),s.transferDocument&&t.transferDocument?(0,I.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:s.transferDocument}):null]})]})})}),(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(v.F,{style:{marginRight:"15%"},children:(0,I.jsx)(Z.Z,{color:"primary",className:" buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 6%",paddingInline:"10%"},onClick:function(){return U(!0)},children:(0,I.jsx)("span",{className:"label",children:(0,I.jsx)(N.Z,{id:"button.Back"})})})}),(0,I.jsx)(v.F,{style:{marginLeft:"15%"},children:(0,I.jsx)(Z.Z,{color:"primary",className:" float-right buttonStyle",size:"lg",type:"submit",style:{margin:"5% 10% 30% 8%",paddingInline:"10%"},children:(0,I.jsx)("span",{className:"label",children:(0,I.jsx)(N.Z,{id:"forms.SubimssionButton"})})})})]})]})}})})})})]})}}}]);
//# sourceMappingURL=student-transfer.d1de73cd.chunk.js.map