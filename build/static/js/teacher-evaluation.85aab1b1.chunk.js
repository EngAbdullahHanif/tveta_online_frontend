"use strict";(self.webpackChunktveta_online=self.webpackChunktveta_online||[]).push([[4242],{66135:function(e,t,s){s.d(t,{X:function(){return a},j:function(){return n}});var a={fontSize:16,fontWeight:"bold"},n={fontSize:16}},11618:function(e,t,s){s.r(t);var a=s(1413),n=s(74165),l=s(15861),r=s(29439),i=s(50390),c=s(16295),o=s(45133),d=s.n(o),u=s(14037),m=s(830),h=s(4804),x=s(31833),p=s(14237),f=s(14778),j=s(94048),v=s(16778),g=s(37671),b=s(16905),y=s(70403),Z=s(85491),_=s(95352),S=s(39873),N=s(60652),w=s(32121),k=s(66135),T=s(83882),X=s(21404),C=s(71656),D=s.n(C),L=s(52735),z=s.n(L),F=s(62559),I=N.Z.API_URL,P="".concat(I,"/teachers/"),B="".concat(I,"/institute/"),E="".concat(I,"/institute/department/"),R="".concat(I,"/institute/classs/"),V="".concat(I,"/institute/subject/"),q=("".concat(I,"/teachers/evaluation-create/"),"".concat(I,"/teachers/evaluation"));t.default=function(e){var t,s=(0,i.useContext)(T.V),o=(s.provinces,s.districts,(0,i.useState)({})),N=(0,r.Z)(o,2),C=N[0],L=(N[1],(0,i.useState)()),I=(0,r.Z)(L,2),A=(I[0],I[1]),J=(0,u.useParams)().teacherId,M=(0,u.useLocation)();function G(){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("".concat(q,"/?id=").concat(J));case 2:t=e.sent,s=t.data,ne(s[0].evaluator_name),de(s[0].strong_points),De(s[0].weak_points),ie(s[0].score),he(s[0].evaluation_date),Te(s[0].suggestions),Ze(s[0].topic),W([{value:s[0].teacher_id.id,label:s[0].teacher_id.name}]),Q([{value:s[0].department_id.id,label:s[0].department_id.name}]),te([{value:s[0].subject_id.id,label:s[0].subject_id.name}]),fe([{value:s[0].institute_id.id,label:s[0].institute_id.name}]),ge([{value:s[0].class_id.id,label:s[0].class_id.name}]),m.Vg.map((function(e){e.value===s[0].evaluation_type&&Ne(e)}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("teacher evaluation",J),(0,i.useEffect)((function(){J&&G()}),[]);var O=(0,i.useState)([]),U=(0,r.Z)(O,2),W=(U[0],U[1]),Y=(0,i.useState)([]),K=(0,r.Z)(Y,2),Q=(K[0],K[1]),$=(0,i.useState)([]),ee=(0,r.Z)($,2),te=(ee[0],ee[1]),se=(0,i.useState)(),ae=(0,r.Z)(se,2),ne=(ae[0],ae[1]),le=(0,i.useState)(""),re=(0,r.Z)(le,2),ie=(re[0],re[1]),ce=(0,i.useState)(""),oe=(0,r.Z)(ce,2),de=(oe[0],oe[1]),ue=(0,i.useState)(""),me=(0,r.Z)(ue,2),he=(me[0],me[1]),xe=(0,i.useState)([]),pe=(0,r.Z)(xe,2),fe=(pe[0],pe[1]),je=(0,i.useState)([]),ve=(0,r.Z)(je,2),ge=(ve[0],ve[1]),be=(0,i.useState)(""),ye=(0,r.Z)(be,2),Ze=(ye[0],ye[1]),_e=(0,i.useState)([]),Se=(0,r.Z)(_e,2),Ne=(Se[0],Se[1]),we=(0,i.useState)(""),ke=(0,r.Z)(we,2),Te=(ke[0],ke[1]),Xe=(0,i.useState)(""),Ce=(0,r.Z)(Xe,2),De=(Ce[0],Ce[1]),Le=(0,i.useState)([]),ze=(0,r.Z)(Le,2),Fe=(ze[0],ze[1]),Ie=(0,i.useState)([]),Pe=(0,r.Z)(Ie,2),Be=Pe[0],Ee=Pe[1],Re=(0,i.useState)([]),Ve=(0,r.Z)(Re,2),qe=Ve[0],Ae=Ve[1],Je=(0,i.useState)([]),Me=(0,r.Z)(Je,2),Ge=Me[0],He=Me[1],Oe=(0,i.useState)([]),Ue=(0,r.Z)(Oe,2),We=Ue[0],Ye=Ue[1],Ke=(0,i.useState)([]),Qe=(0,r.Z)(Ke,2),$e=Qe[0],et=Qe[1],tt=(0,i.useState)(""),st=(0,r.Z)(tt,2),at=(st[0],st[1],(0,i.useState)("")),nt=(0,r.Z)(at,2),lt=(nt[0],nt[1],(0,i.useState)([])),rt=(0,r.Z)(lt,2),it=(rt[0],rt[1],(0,i.useState)(!1)),ct=(0,r.Z)(it,2),ot=ct[0],dt=(ct[1],(0,i.useState)(!1)),ut=(0,r.Z)(dt,2),mt=(ut[0],ut[1]),ht=(0,i.useState)([]),xt=(0,r.Z)(ht,2),pt=(xt[0],xt[1]),ft=(0,i.useState)([]),jt=(0,r.Z)(ft,2),vt=(jt[0],jt[1]),gt=(0,i.useState)(!1),bt=(0,r.Z)(gt,2),yt=(bt[0],bt[1]),Zt=(0,i.useState)([]),_t=(0,r.Z)(Zt,2),St=(_t[0],_t[1]),Nt=(0,i.useState)(1),wt=(0,r.Z)(Nt,2),kt=wt[0],Tt=wt[1],Xt=(0,i.useState)({pagination:{current:1,pageSize:10}}),Ct=(0,r.Z)(Xt,2),Dt=Ct[0],Lt=(Ct[1],function(){var e=(0,l.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get(P);case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,Fe(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),zt=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get(B);case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,Ae(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get(E);case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,He(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),It=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get(R);case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name+" - "+e.semester+" - "+e.section}}));case 5:s=e.sent,Ye(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pt=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get(V);case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:e.id,label:e.name}}));case 5:s=e.sent,et(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function G(){return Bt.apply(this,arguments)}function Bt(){return Bt=(0,l.Z)((0,n.Z)().mark((function e(){var t,s,l,r=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},console.log("PARAMSSSSSSSSSS: ",t),mt(!0),"institute/",s=(0,a.Z)((0,a.Z)({},t),{},{page:ot?t.page:Dt.pagination.current,page_size:Dt.pagination.pageSize||null}),e.next=7,(0,w.Z)("teachers/","",null,s);case 7:l=e.sent,mt(!1),l.data&&200===l.status?(St(l.data),console.log("TTTTTTTTTTTTTTTTTTTTTTTTT",null===l||void 0===l?void 0:l.data),vt(null===l||void 0===l?void 0:l.data.results),pt([]),yt(!0)):console.log("students error");case 10:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}(0,i.useEffect)((function(){G()}),[ot?null:JSON.stringify(Dt)]);(0,i.useEffect)((function(){var e;console.log("state: ",M),Ee(null===(e=M.state)||void 0===e?void 0:e.item),Lt(),zt(),Ft(),It(),Pt()}),[]);var Et=(0,i.useState)(!1),Rt=(0,r.Z)(Et,2),Vt=Rt[0],qt=Rt[1];return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(x.Z,{children:[(0,F.jsx)("h3",{className:"mt-5 m-5",children:(0,F.jsx)(g.Z,{id:"teacher.EvalautionTitle"})}),(0,F.jsx)(x.Z,{className:"rounded m-4",children:(0,F.jsx)(p.Z,{children:(0,F.jsxs)("div",{children:[(0,F.jsx)(f.Z,{children:(0,F.jsx)(b.F,{className:" pt-5",style:{paddingInline:"3%"},children:(0,F.jsx)("h2",{className:"bg-primary ",style:{padding:"8px",paddingInline:"30px",borderRadius:"10px"},children:(0,F.jsx)(g.Z,{id:"forms.personalInfo"})})})}),(0,F.jsxs)(f.Z,{className:"justify-content-center   rounded ",children:[(0,F.jsxs)(b.F,{style:{paddingInline:"4%"},xxs:"",children:[(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"teacher.NameLabel"})}),(0,F.jsx)("h2",{children:Be.name}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"teacher.FatherNameLabel"})}),(0,F.jsx)("h2",{children:Be.father_name}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"teacher.GrandFatherNameLabel"})}),(0,F.jsx)("h2",{children:Be.father_name}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"gender.gender"})}),(0,F.jsx)("h2",{children:null===(t=m.P3.find((function(e){return e.value===Be.gender})))||void 0===t?void 0:t.label}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"teacher.PhoneNoLabel"})}),(0,F.jsx)("h2",{children:Be.phone_number}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"teacher.EmailLabel"})}),(0,F.jsx)("h2",{children:Be.email}),(0,F.jsx)("br",{}),(0,F.jsx)("br",{})]}),(0,F.jsxs)(b.F,{style:{paddingInline:"4%"},children:[(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"forms.StdTazkiraNoLabel"})}),(0,F.jsx)("h2",{children:Be.registration_number}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"forms.StdIdCardCoverLabel"})}),(0,F.jsx)("h2",{children:Be.cover_number}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"forms.StdIdCardPageNoLabel"})}),(0,F.jsx)("h2",{children:Be.page_number}),(0,F.jsx)(j.Z,{style:k.X,children:(0,F.jsx)(g.Z,{id:"forms.StdDoBLabel"})}),(0,F.jsxs)("h2",{children:[Be.year_of_birth,"-",Be.month_of_birth||"\u0645\u06cc\u0627\u0634\u062a","-",Be.day_of_birth||"\u0648\u0631\u0681"]}),(0,F.jsx)("br",{}),(0,F.jsx)("br",{})]})]})]})})}),(0,F.jsx)(p.Z,{className:"w-50",children:Vt?(0,F.jsx)("div",{className:"wizard-basic-step text-center pt-3 ",style:{minHeight:"400px"},children:(0,F.jsxs)("div",{children:[(0,F.jsx)("h1",{className:"mb-2",children:(0,F.jsx)(g.Z,{id:"wizard.content-thanks"})}),(0,F.jsx)("h3",{children:(0,F.jsx)(g.Z,{id:"wizard.registered"})}),(0,F.jsx)(v.Z,{className:"m-5 bg-primary",onClick:function(){return qt(!1)},children:(0,F.jsx)(g.Z,{id:"button.back"})})]})}):(0,F.jsx)(c.J9,{enableReinitialize:!0,initialValues:C?{topic:C.topic,evaluator_name:C.evaluator_name,evaluation_type:m.Vg.find((function(e){return e.value===C.evaluation_type})),strong_points:C.strong_points,weak_points:C.weak_points,suggestions:C.suggestions,evaluation_date:C.evaluation_date,institute:qe.find((function(e){return e.value===C.institute})),department:Ge.find((function(e){return e.value===C.department})),classs:We.find((function(e){return e.value===C.classs})),subject:$e.find((function(e){return e.value===C.subject}))}:{topic:"",evaluator_name:"",evaluation_type:[],strong_points:"",weak_points:"",suggestions:"",evaluation_date:"",institute:[],department:[],classs:[],subject:[]},validationSchema:h.RP,onSubmit:function(e){qt(!0),console.log(e);Be.id,e.institute.value,e.department.value,e.class.value,e.subject.value,e.topic,e.evaluator,e.evaluationType.value,e.marks,e.evaluationDate;console.log("Evaluation Data",e)},children:function(e){var t=e.errors,s=e.touched,a=e.values,n=e.setFieldTouched,l=e.setFieldValue,r=e.handleSubmit;return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("form",{children:[(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,F.jsxs)("div",{className:"form-group w-100",children:[(0,F.jsxs)("label",{style:k.X,for:"evaluator_name",className:"col-form-label",children:["\u0627\u0631\u0632\u06cc\u0627\u0628\u06cc \u06a9\u0646\u0646\u062f\u0647",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(c.gN,{className:"form-control fieldStyle",name:"evaluator_name"}),t.evaluator_name&&s.evaluator_name?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.evaluator_name}):null]}),(0,F.jsxs)("div",{className:"form-group w-100",children:[(0,F.jsxs)("label",{style:k.X,for:"evaluation_type",className:"col-form-label",children:["\u0627\u0631\u0632\u06cc\u0627\u0628\u06cc \u0689\u0648\u0644",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(S.ju,{name:"evaluation_type",id:"evaluation_type",value:a.evaluation_type,options:m.Vg,onChange:l,onBlur:n,required:!0}),t.evaluation_type&&s.evaluation_type?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.evaluation_type}):null]})]}),(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,F.jsxs)("div",{className:"form-group w-100",children:[(0,F.jsxs)("label",{style:k.X,for:"institute",className:"col-form-label",children:["\u0627\u0646\u0633\u062a\u062a\u06cc\u0648\u062a",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(S.ju,{name:"institute",id:"institute",value:a.institute,options:qe,onChange:l,onBlur:n,required:!0}),t.institute&&s.institute?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.institute}):null]}),(0,F.jsxs)("div",{className:"form-group w-100",children:[(0,F.jsxs)("label",{style:k.X,for:"department",className:"col-form-label",children:["\u0689\u06cc\u067e\u0627\u0631\u062a\u0645\u0646\u062a",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(S.ju,{name:"department",id:"department",value:a.department,options:Ge,onChange:l,onBlur:n,required:!0}),t.department&&s.department?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.department}):null]})]}),(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{style:k.X,for:"classs",className:"col-form-label",children:["\u0635\u0646\u0641",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(S.ju,{name:"classs",id:"classs",value:a.classs,options:We,onChange:l,onBlur:n,required:!0}),t.classs&&s.classs?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.classs}):null]}),(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,F.jsxs)("div",{className:"form-group w-100",children:[(0,F.jsxs)("label",{style:k.X,for:"subject",className:"col-form-label",children:["\u0645\u0636\u0645\u0648\u0646",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(S.ju,{name:"subject",id:"subject",value:a.subject,options:$e,onChange:l,onBlur:n,required:!0}),t.subject&&s.subject?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.subject}):null]}),(0,F.jsxs)("div",{className:"",children:[(0,F.jsxs)("label",{style:k.X,for:"year_of_completion",className:"col-form-label",children:["\u0627\u0631\u0632\u06cc\u0627\u0628\u06cc \u062a\u0627\u0631\u06cc\u062e",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)("br",{}),(0,F.jsx)(X.ZP,{style:{width:"100%",height:38,borderRadius:0},name:"evaluation_date",calendar:D(),locale:z(),value:null===C||void 0===C?void 0:C.evaluation_date,months:m.Xo,onChange:function(e){return A(new Date(e.toDate()).getFullYear()+"-"+(new Date(e.toDate()).getMonth()+1)+"-"+new Date(e.toDate()).getDate())}})]})]}),(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{style:k.X,for:"topic",className:"col-form-label",children:["\u0645\u0648\u0636\u0648\u0639",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(c.gN,{className:"form-control fieldStyle",name:"topic"}),t.topic&&s.topic?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.topic}):null]}),(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{style:k.X,for:"strong_points",className:"col-form-label",children:["\u0645\u062b\u0628\u062a \u067e\u0648\u0627\u06cc\u0646\u062a",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(c.gN,{className:"form-control fieldStyle",name:"strong_points"}),t.strong_points&&s.strong_points?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.strong_points}):null]}),(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{style:k.X,for:"weak_points",className:"col-form-label",children:["\u0645\u0646\u0641\u06cc \u067e\u0648\u0627\u06cc\u0646\u062a",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(c.gN,{className:"form-control fieldStyle",name:"weak_points"}),t.weak_points&&s.weak_points?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.weak_points}):null]}),(0,F.jsxs)("div",{className:"form-group",children:[(0,F.jsxs)("label",{style:k.X,for:"suggestions",className:"col-form-label",children:["\u062a\u0648\u0633\u0639\u0647",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsx)(c.gN,{className:"form-control fieldStyle",name:"suggestions"}),t.suggestions&&s.suggestions?(0,F.jsx)("div",{className:"invalid-feedback d-block bg-danger text-white messageStyle",children:t.suggestions}):null]}),(0,F.jsxs)("label",{style:k.X,for:"score",className:"col-form-label",children:["\u0646\u0645\u0631\u06cc",(0,F.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,F.jsx)(y.Z,{span:4,children:(0,F.jsx)(Z.Z,{min:1,max:10,style:{margin:"0 16px"},value:kt,onChange:function(e){return Tt(e)}})}),(0,F.jsx)(y.Z,{span:17,children:(0,F.jsx)(_.Z,{min:1,max:10,onChange:function(e){return Tt(e)},value:"number"===typeof kt?kt:0})})]}),(0,F.jsx)("br",{}),(0,F.jsx)("button",{className:"btn btn-primary",onClick:r,children:"\u062b\u0628\u062a"})]})})}})})]})})}}}]);
//# sourceMappingURL=teacher-evaluation.85aab1b1.chunk.js.map